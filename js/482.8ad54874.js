"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[482],{185:function(t,e,i){i.d(e,{Er:function(){return m},FF:function(){return h},Gx:function(){return p},LL:function(){return r},Xr:function(){return n},dK:function(){return d},eT:function(){return a},fc:function(){return c},gF:function(){return l},h$:function(){return k},u1:function(){return u},w0:function(){return g},zO:function(){return L}});var o=i(4335);const s="https://lulubakeapp.zeabur.app",n=t=>o.A.post(`${s}/admin/sign_in`,t),a=()=>o.A.get(`${s}/admin/products`),r=t=>o.A.post(`${s}/admin/product`,t),p=(t,e)=>o.A.patch(`${s}/admin/product/${t}`,e),l=t=>o.A.delete(`${s}/admin/product/${t}`),c=()=>o.A.get(`${s}/orders`),u=(t,e)=>o.A.patch(`${s}/order/${t}`,e),d=()=>o.A.get(`${s}/products`),h=t=>o.A.get(`${s}/order/${t}`),k=t=>o.A.post(`${s}/order`,t),m=t=>o.A.delete(`${s}/order/${t}`),L=t=>o.A.post(`${s}/linepay/${t}`),g=t=>o.A.post(`${s}/upload?type=""`,t)},5681:function(t,e,i){i.d(e,{A:function(){return tt}});var o=i(641),s=i(33),n=i(3751);const a=t=>((0,o.Qi)("data-v-d9bc392c"),t=t(),(0,o.jt)(),t),r={class:"table tableText tableSm table-bordered border-primary m-0"},p=a((()=>(0,o.Lk)("th",{scope:"col"},"#",-1))),l={scope:"col"},c={scope:"col"},u={scope:"col"},d={scope:"col"},h={class:"table-group-divider luluText"},k={class:"fw-bolder"},m={key:0,class:"mb-0 d-md-flex"},L={class:"text-nowrap mb-0"},g={class:"fst-italic text-secondary mb-0"},f={class:"text-nowrap mb-0 ms-sm-3"},v={class:"fst-italic text-secondary mb-0"},y={class:"text-nowrap ms-sm-3 mb-0"},b={class:"fst-italic text-secondary"},$={"aria-label":"..."},C={class:"pagination mb-0 align-items-center"},O={class:"page-item"},_=["onClick"],x={class:""},A={class:"mx-2"},P={class:"page-item"},I=["onClick"],w=a((()=>(0,o.Lk)("i",{class:"bi bi-plus-lg"},null,-1))),X=[w],E={class:"fw-bold text-secondary"},F={colspan:"5"},q={class:"card border-0"},z={class:"mb-3"},U={class:"fw-bold text-secondary"},W={class:"mb-3"},S={class:"fw-bold text-secondary"},K={class:"d-sm-flex justify-content-start align-items-center"},D={class:"d-flex"},N=["id","value"],T=["for"],M={colspan:"5",class:"text-end"},B=a((()=>(0,o.Lk)("i",{class:"bi bi-caret-right-fill text-light px-2"},null,-1)));function J(t,e,i,a,w,J){const j=(0,o.g2)("CircleTwo");return(0,o.uX)(),(0,o.CE)("table",r,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[p,(0,o.Lk)("th",l,(0,s.v_)(t.$t("shoppingOptions.product")),1),(0,o.Lk)("th",c,(0,s.v_)(t.$t("shoppingOptions.price")),1),(0,o.Lk)("th",u,(0,s.v_)(t.$t("shoppingOptions.quantity")),1),(0,o.Lk)("th",d,(0,s.v_)(t.$t("shoppingOptions.sub")),1)])]),(0,o.Lk)("tbody",h,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(w.cookieList,((e,i)=>((0,o.uX)(),(0,o.CE)("tr",{key:i},[(0,o.Lk)("td",null,(0,s.v_)(i+1),1),(0,o.Lk)("td",null,[(0,o.Lk)("div",k,(0,s.v_)(t.$t(e.flavor)),1),"drink"===e.type||"coffee"===e.type?((0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("p",L,[(0,o.eW)((0,s.v_)(t.$t("shoppingOptions.size"))+":",1),(0,o.Lk)("span",g,(0,s.v_)(e.size),1)]),(0,o.Lk)("p",f,[(0,o.eW)((0,s.v_)(t.$t("shoppingOptions.drink.ice"))+":",1),(0,o.Lk)("span",v,(0,s.v_)(t.$t(w.iceList[e.ice].title)),1)]),(0,o.Lk)("p",y,[(0,o.eW)((0,s.v_)(t.$t("shoppingOptions.drink.sugar"))+":",1),(0,o.Lk)("span",b,(0,s.v_)(t.$t(w.sugarList[e.sugar].title)),1)])])):(0,o.Q3)("",!0)]),(0,o.Lk)("td",null,"$"+(0,s.v_)(e.price),1),(0,o.Lk)("td",null,[(0,o.Lk)("nav",$,[(0,o.Lk)("ul",C,[(0,o.Lk)("li",O,[(0,o.Lk)("a",{class:"page-link rounded-0",href:"#",onClick:(0,n.D$)((t=>J.changeQty(i,-1)),["prevent"])}," - ",8,_)]),(0,o.Lk)("li",x,[(0,o.Lk)("div",A,(0,s.v_)(e.quantity),1)]),(0,o.Lk)("li",P,[(0,o.Lk)("a",{class:"page-link rounded-0",href:"#",onClick:(0,n.D$)((t=>J.changeQty(i,1)),["prevent"])},X,8,I)])])])]),(0,o.Lk)("td",null,[(0,o.eW)(" $"),(0,o.Lk)("span",E,(0,s.v_)(e.price*e.quantity),1)])])))),128)),(0,o.bo)((0,o.Lk)("tr",null,[(0,o.Lk)("td",F,[(0,o.Lk)("div",q,[(0,o.Lk)("h5",z,[(0,o.eW)((0,s.v_)(t.$t("shoppingOptions.total"))+"： ",1),(0,o.Lk)("span",U,"$"+(0,s.v_)(t.$toCurrency(w.total)),1)]),(0,o.Lk)("h5",W,[(0,o.eW)((0,s.v_)(t.$t("shoppingOptions.quantity"))+"： ",1),(0,o.Lk)("span",S,(0,s.v_)(w.listNum),1)]),(0,o.Lk)("div",K,[(0,o.Lk)("h5",null,(0,s.v_)(t.$t("shoppingOptions.paymethod"))+"：",1),(0,o.Lk)("div",D,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(w.payMethodList,((i,a)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:a},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-paymethod",id:`paymethod${a}`,autocomplete:"off",value:i.method,"onUpdate:modelValue":e[0]||(e[0]=t=>w.payMethod=t)},null,8,N),[[n.XL,w.payMethod]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-4",for:`paymethod${a}`},[(0,o.eW)((0,s.v_)(t.$t(i.method))+" ",1),(0,o.bF)(j,{class:(0,s.C4)({"d-none":w.payMethod!==i.method})},null,8,["class"])],8,T)],64)))),128))])])])])],512),[[n.aG,0!==w.cookieList.length]]),(0,o.bo)((0,o.Lk)("tr",null,[(0,o.Lk)("td",M,[(0,o.Lk)("a",{href:"#",onClick:e[1]||(e[1]=(0,n.D$)(((...t)=>J.createOrder&&J.createOrder(...t)),["prevent"]))},[((0,o.uX)(),(0,o.Wv)((0,o.$y)("wired-button"),{class:"bg-dark text-light h4"},{default:(0,o.k6)((()=>[B,(0,o.eW)((0,s.v_)(t.$t("shoppingOptions.checkout")),1)])),_:1}))])])],512),[[n.aG,0!==w.cookieList.length]])])])}i(4114);var j=i(8987),Q=i(185),R=i(2582),V=i(5579),G=i(6681),H={data(){return{total:0,listNum:0,cookieList:[],payMethod:"shoppingOptions.paymethods.linePay",iceList:R,sugarList:V,payMethodList:[{method:"shoppingOptions.paymethods.cash"},{method:"shoppingOptions.paymethods.linePay"},{method:"shoppingOptions.paymethods.catPay"}]}},components:{CircleTwo:G.A},props:["cookieData","productList"],watch:{cookieData(){this.cookieList=JSON.parse(JSON.stringify(this.cookieData)),this.totalPrice()}},methods:{changeQty(t,e){this.cookieList[t].quantity+=e,0===this.cookieList[t].quantity&&1===this.cookieList.length?(this.cookieList.splice(t,1),j.A.remove("LULUchartList"),this.total=0):0===this.cookieList[t].quantity?(this.cookieList.splice(t,1),this.tempCookie="",this.cookieList.forEach((t=>{this.tempCookie+=`${JSON.stringify(t)};`})),this.tempCookie=this.tempCookie.replace(/.$/,""),j.A.set("LULUchartList",this.tempCookie,{expires:7})):(this.tempCookie="",this.cookieList.forEach((t=>{this.tempCookie+=`${JSON.stringify(t)};`})),this.tempCookie=this.tempCookie.replace(/.$/,""),j.A.set("LULUchartList",this.tempCookie,{expires:7})),this.$emitter.emit("getCookie")},totalPrice(){this.total=0,this.listNum=0,this.cookieList.forEach((t=>{this.total+=t.price*t.quantity,this.listNum+=t.quantity}))},createOrder(){this.mealStatus=25,(0,Q.h$)({productList:this.cookieList,payMethod:this.payMethod,mealStatus:this.mealStatus}).then((t=>{if(void 0===j.A.get("luluBakeOrder"))j.A.set("luluBakeOrder",JSON.stringify({orderId:t.data.data._id,num:t.data.data.productList.length,cookieId:t.data.data.cookieId}));else{let e=j.A.get("luluBakeOrder");e=`${e}; ${JSON.stringify({orderId:t.data.data._id,num:t.data.data.productList.length,cookieId:t.data.data.cookieId})}`,j.A.set("luluBakeOrder",e)}j.A.remove("LULUchartList"),this.$emitter.emit("getAdminOrders"),"shop"===this.$route.path.split("/")[1]?this.$router.push("/order"):"backend"===this.$route.path.split("/")[1]&&this.$emitter.emit("toggleModal")})).catch((t=>{console.log(t)}))}}},Y=i(6262);const Z=(0,Y.A)(H,[["render",J],["__scopeId","data-v-d9bc392c"]]);var tt=Z},7162:function(t,e,i){i.d(e,{A:function(){return R}});var o=i(641),s=i(33),n=i(3751);const a=t=>((0,o.Qi)("data-v-530b6317"),t=t(),(0,o.jt)(),t),r={class:"mb-4"},p=["id","value","onClick"],l=["for"],c={class:"mb-4"},u=["id","value","onClick"],d=["for"],h={class:"mb-4"},k=["id","value","onClick"],m=["for"],L={key:0},g={class:"mb-4"},f=["id","value"],v=["for"],y={class:"mb-4"},b=["id","value"],$=["for"],C={class:"mb-4"},O={class:"ms-3"},_={class:"text-secondary"},x={class:"mb-4"},A={"aria-label":"...",class:"me-4"},P={class:"pagination"},I={class:"page-item"},w={class:"page-item"},X={class:"page-link"},E={class:"page-item"},F=a((()=>(0,o.Lk)("i",{class:"bi bi-plus-lg"},null,-1))),q=[F],z={class:"mb-4"},U={class:"text-uppercase"},W={class:"fst-italic ms-3 h4 text-secondary"},S=a((()=>(0,o.Lk)("i",{class:"bi bi-plus-lg ms-2 text-light"},null,-1)));function K(t,e,i,a,F,K){const D=(0,o.g2)("CircleTwo"),N=(0,o.g2)("CircleOne"),T=(0,o.g2)("CircleThree");return(0,o.uX)(),(0,o.CE)("section",null,[(0,o.Lk)("div",r,[(0,o.Lk)("h4",null,(0,s.v_)(t.$t("shoppingOptions.type"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(F.types,((e,i)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:i},[(0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-type",id:`type${i}`,autocomplete:"off",value:e.category,onClick:t=>(F.option.quantity=1,K.slelectProduct(e.category))},null,8,p),(0,o.Lk)("label",{class:"btn border-0 position-relative me-4",for:`type${i}`},[(0,o.eW)((0,s.v_)(t.$t(e.title))+" ",1),(0,o.bF)(D,{class:(0,s.C4)({"d-none":F.tempProduct.category!==e.category})},null,8,["class"])],8,l)],64)))),128))]),(0,o.Lk)("div",c,[(0,o.Lk)("h4",null,(0,s.v_)(t.$t("shoppingOptions.flavor"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(F.tempProductList,((i,a)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:a},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`flavor${a}`,autocomplete:"off",value:i.title,"onUpdate:modelValue":e[0]||(e[0]=t=>F.option.flavor=t),onClick:t=>(F.option.quantity=1,F.tempProduct=i,F.option.optionId=F.tempProduct.options[0]._id,F.option.price=F.tempProduct.options[0].price,F.option.size=F.tempProduct.options[0].size,F.option.stock=F.tempProduct.options[0].stock,F.option.name=F.tempProduct.title.split(".")[1])},null,8,u),[[n.XL,F.option.flavor]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-3",for:`flavor${a}`},[(0,o.eW)((0,s.v_)(t.$t(i.title))+" ",1),(0,o.bF)(N,{class:(0,s.C4)({"d-none":i.title!==F.option.flavor})},null,8,["class"])],8,d)],64)))),128))]),(0,o.Lk)("div",h,[(0,o.Lk)("h4",null,(0,s.v_)(t.$t("shoppingOptions.size"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(F.tempProduct.options,((t,i)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:i},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-type",id:`size${i}`,autocomplete:"off",value:t.size,"onUpdate:modelValue":e[1]||(e[1]=t=>F.option.size=t),onClick:e=>(F.option.price=t.price,F.option.quantity=1,F.option.stock=t.stock)},null,8,k),[[n.XL,F.option.size]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-3",for:`size${i}`},[(0,o.eW)((0,s.v_)(t.size)+" ",1),(0,o.bF)(D,{class:(0,s.C4)({"d-none":F.option.size!==t.size})},null,8,["class"])],8,m)],64)))),128))]),"drink"===F.tempProduct.category||"coffee"===F.tempProduct.category?((0,o.uX)(),(0,o.CE)("section",L,[(0,o.Lk)("div",g,[(0,o.Lk)("h4",null,(0,s.v_)(t.$t("shoppingOptions.drink.ice"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(F.iceList,((i,a)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:a},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`ice${a}`,autocomplete:"off",value:a,"onUpdate:modelValue":e[2]||(e[2]=t=>F.option.ice=t)},null,8,f),[[n.XL,F.option.ice]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-3",for:`ice${a}`},[(0,o.eW)((0,s.v_)(t.$t(i.title))+" ",1),(0,o.bF)(T,{class:(0,s.C4)({"d-none":a!==F.option.ice})},null,8,["class"])],8,v)],64)))),128))]),(0,o.Lk)("div",y,[(0,o.Lk)("h4",null,(0,s.v_)(t.$t("shoppingOptions.drink.sugar"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(F.sugarList,((i,a)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:a},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`sugar${a}`,autocomplete:"off",value:a,"onUpdate:modelValue":e[3]||(e[3]=t=>F.option.sugar=t)},null,8,b),[[n.XL,F.option.sugar]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-3",for:`sugar${a}`},[(0,o.eW)((0,s.v_)(t.$t(i.title))+" ",1),(0,o.bF)(D,{class:(0,s.C4)({"d-none":a!==F.option.sugar})},null,8,["class"])],8,$)],64)))),128))])])):(0,o.Q3)("",!0),(0,o.Lk)("div",C,[(0,o.Lk)("h4",null,(0,s.v_)(t.$t("shoppingOptions.price"))+":",1),(0,o.Lk)("p",O,[(0,o.eW)(" $ "),(0,o.Lk)("span",_,(0,s.v_)(F.option.price),1),(0,o.eW)(" / "+(0,s.v_)(t.$t("shoppingOptions.each")),1)])]),(0,o.Lk)("div",x,[(0,o.Lk)("h4",null,(0,s.v_)(t.$t("shoppingOptions.quantity"))+":",1),(0,o.Lk)("nav",A,[(0,o.Lk)("ul",P,[(0,o.Lk)("li",I,[(0,o.Lk)("a",{class:(0,s.C4)(["page-link rounded-0",{disabled:F.option.quantity<=1}]),href:"#",onClick:e[4]||(e[4]=(0,n.D$)((t=>F.option.quantity--),["prevent"]))}," - ",2)]),(0,o.Lk)("li",w,[(0,o.Lk)("div",X,(0,s.v_)(F.option.quantity),1)]),(0,o.Lk)("li",E,[(0,o.Lk)("a",{class:(0,s.C4)(["page-link rounded-0",{disabled:F.option.quantity>=F.option.stock}]),href:"#",onClick:e[5]||(e[5]=(0,n.D$)((t=>F.option.quantity++),["prevent"]))},q,2)])])])]),(0,o.Lk)("div",z,[(0,o.Lk)("h4",U,(0,s.v_)(t.$t("shoppingOptions.total"))+"：",1),(0,o.Lk)("div",W," $"+(0,s.v_)(this.$toCurrency(F.option.price*F.option.quantity)),1)]),((0,o.uX)(),(0,o.Wv)((0,o.$y)("wired-button"),{class:"bg-dark text-light h4 mb-0",onClick:e[6]||(e[6]=e=>t.$emit("addToCart",this.option))},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(t.$t("shoppingOptions.addToChart")),1),S])),_:1}))])}i(4114);var D=i(5579),N=i(2582),T=i(4329),M=i(6681),B=i(9152),J=(i(5343),{data(){return{tempProduct:{},tempProductList:[],types:[{title:"shoppingOptions.typeList.coffee",category:"coffee"},{title:"shoppingOptions.typeList.cake",category:"cake"},{title:"shoppingOptions.typeList.drink",category:"drink"},{title:"shoppingOptions.typeList.bread",category:"bread"}],iceList:N,sugarList:D,option:{name:"",productId:"",optionId:"",type:"",flavor:"",ice:0,sugar:0,size:"",quantity:1,stock:0}}},props:["productList"],watch:{productList(){this.slelectProduct()},tempProduct(){this.$emitter.emit("productData",this.tempProduct)}},components:{CircleOne:T.A,CircleTwo:M.A,CircleThree:B.A},methods:{slelectProduct(t="coffee"){this.tempProductList=[],this.productList.forEach((e=>{e.category===t&&this.tempProductList.push(e)})),this.tempProduct=this.tempProductList[0],this.option={name:this.tempProduct.title.split(".")[1],flavor:this.tempProduct.title,ice:0,sugar:0,size:this.tempProduct.options[0].size,productId:this.tempProduct._id,optionId:this.tempProduct.options[0]._id,price:this.tempProduct.options[0].price,stock:this.tempProduct.options[0].stock,quantity:1,type:t}}}}),j=i(6262);const Q=(0,j.A)(J,[["render",K],["__scopeId","data-v-530b6317"]]);var R=Q},8987:function(t,e,i){
/*! js-cookie v3.0.5 | MIT */
function o(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)t[o]=i[o]}return t}i.d(e,{A:function(){return a}});var s={read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function n(t,e){function i(i,s,n){if("undefined"!==typeof document){n=o({},e,n),"number"===typeof n.expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var r in n)n[r]&&(a+="; "+r,!0!==n[r]&&(a+="="+n[r].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function s(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],o={},s=0;s<i.length;s++){var n=i[s].split("="),a=n.slice(1).join("=");try{var r=decodeURIComponent(n[0]);if(o[r]=t.read(a,r),e===r)break}catch(p){}}return e?o[e]:o}}return Object.create({set:i,get:s,remove:function(t,e){i(t,"",o({},e,{expires:-1}))},withAttributes:function(t){return n(this.converter,o({},this.attributes,t))},withConverter:function(t){return n(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var a=n(s,{path:"/"})},2582:function(t){t.exports=JSON.parse('[{"title":"shoppingOptions.drink.iceList.normal"},{"title":"shoppingOptions.drink.iceList.lessIce"},{"title":"shoppingOptions.drink.iceList.lightIce"},{"title":"shoppingOptions.drink.iceList.noIce"},{"title":"shoppingOptions.drink.iceList.warm"},{"title":"shoppingOptions.drink.iceList.hot"}]')},5579:function(t){t.exports=JSON.parse('[{"title":"shoppingOptions.drink.sugarList.standard"},{"title":"shoppingOptions.drink.sugarList.lessSugar"},{"title":"shoppingOptions.drink.sugarList.halfSugar"},{"title":"shoppingOptions.drink.sugarList.lightSugar"},{"title":"shoppingOptions.drink.sugarList.noSugar"}]')}}]);
//# sourceMappingURL=482.8ad54874.js.map