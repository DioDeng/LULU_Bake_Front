"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[871],{9527:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var l=s(6252),a=s(3577),n=s(9963);const o={class:"card-body"},d={class:"table align-middle table-light table-striped-columns"},r=(0,l._)("th",{scope:"row",class:""},[(0,l.Uk)("會員帳號"),(0,l._)("br"),(0,l.Uk)("ID")],-1),u=(0,l._)("th",{scope:"row"},[(0,l.Uk)("生日"),(0,l._)("br"),(0,l.Uk)("Birth")],-1),i=(0,l._)("th",{scope:"row"},[(0,l.Uk)("姓名"),(0,l._)("br"),(0,l.Uk)("Name")],-1),m=(0,l._)("th",{scope:"row"},[(0,l.Uk)("性別"),(0,l._)("br"),(0,l.Uk)("Gender")],-1),c=(0,l._)("th",{scope:"row"},[(0,l.Uk)("行動電話"),(0,l._)("br"),(0,l.Uk)("Mobile")],-1),p=(0,l._)("th",{scope:"row"},[(0,l.Uk)("聯絡地址"),(0,l._)("br"),(0,l.Uk)("Location")],-1),h=(0,l._)("div",{class:""},"本地址將作為您日後購物預設寄送地址，請勿填寫郵政信箱",-1),g={class:"d-flex"},_=(0,l._)("option",{value:"",disabled:""},"Select a town",-1),w=["value"],b=(0,l._)("option",{value:"",disabled:""},"Select a town",-1),V=["value"],U={class:"text-center"},k=["disabled"];function y(e,t,s,y,f,v){const L=(0,l.up)("Loading"),C=(0,l.up)("VField"),W=(0,l.up)("ErrorMessage"),x=(0,l.up)("VForm");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(L,{isLoading:f.isLoading},null,8,["isLoading"]),(0,l._)("div",o,[(0,l.Wm)(x,null,{default:(0,l.w5)((({errors:s,meta:o})=>[(0,l._)("table",d,[(0,l._)("tbody",null,[(0,l._)("tr",null,[r,(0,l._)("td",null,(0,a.zw)(f.user.email),1)]),(0,l._)("tr",null,[u,(0,l._)("td",null,(0,a.zw)(f.user.birth),1)]),(0,l._)("tr",null,[i,(0,l._)("td",null,[(0,l.Wm)(C,{name:"姓名",type:"text",rules:"required",modelValue:f.user.username,"onUpdate:modelValue":t[0]||(t[0]=e=>f.user.username=e)},null,8,["modelValue"]),(0,l.Wm)(W,{name:"姓名",class:"text-danger ms-3"})])]),(0,l._)("tr",null,[m,(0,l._)("td",null,[(0,l.Wm)(C,{name:"gender",type:"radio",value:"男",modelValue:f.user.gender,"onUpdate:modelValue":t[1]||(t[1]=e=>f.user.gender=e)},null,8,["modelValue"]),(0,l.Uk)(" 男 "),(0,l.Wm)(C,{name:"gender",type:"radio",value:"女",modelValue:f.user.gender,"onUpdate:modelValue":t[2]||(t[2]=e=>f.user.gender=e)},null,8,["modelValue"]),(0,l.Uk)(" 女 "),(0,l.Wm)(C,{name:"gender",type:"radio",value:"不提供",modelValue:f.user.gender,"onUpdate:modelValue":t[3]||(t[3]=e=>f.user.gender=e)},null,8,["modelValue"]),(0,l.Uk)(" 不提供 "),(0,l.Wm)(W,{name:"gender"})])]),(0,l._)("tr",null,[c,(0,l._)("td",null,[(0,l.Wm)(C,{name:"電話",type:"text",class:(0,a.C_)({"is-invalid":s["電話"]}),rules:v.isPhone,modelValue:f.user.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>f.user.phone=e)},null,8,["class","rules","modelValue"]),(0,l.Wm)(W,{name:"電話",class:"text-danger ms-3"})])]),(0,l._)("tr",null,[p,(0,l._)("td",null,[h,(0,l._)("div",g,[(0,l.Wm)(C,{name:"city",as:"select",class:"form-select",modelValue:f.user.address.city,"onUpdate:modelValue":t[5]||(t[5]=e=>f.user.address.city=e),onChange:v.changeTown},{default:(0,l.w5)((()=>[_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.cityList,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:e.name},(0,a.zw)(e.name),9,w)))),128))])),_:1},8,["modelValue","onChange"]),(0,l.Wm)(C,{name:"township",as:"select",class:"form-select ms-2",modelValue:f.user.address.town,"onUpdate:modelValue":t[6]||(t[6]=e=>f.user.address.town=e),onChange:v.changePostal},{default:(0,l.w5)((()=>[b,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.townList,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.CODE,value:e.name},(0,a.zw)(e.name),9,V)))),128))])),_:1},8,["modelValue","onChange"]),(0,l.wy)((0,l._)("input",{type:"text",class:"ms-2 col-1 text-center","onUpdate:modelValue":t[7]||(t[7]=e=>f.user.address.postalCode=e),disabled:""},null,512),[[n.nr,f.user.address.postalCode]]),(0,l.Wm)(C,{name:"地址",type:"text",modelValue:f.user.address.street,"onUpdate:modelValue":t[8]||(t[8]=e=>f.user.address.street=e),class:"ms-2 col-7"},null,8,["modelValue"])])])])])]),(0,l._)("div",U,[(0,l._)("button",{type:"button",class:(0,a.C_)([{"btn-info":!o.valid},"btn btn-dark"]),disabled:!o.valid,onClick:t[9]||(t[9]=t=>e.$emit("modify",this.user))}," 確認修改 ",10,k)])])),_:1})])],64)}var f=s(4878),v={inheritAttrs:!1,data(){return{cityList:[],townList:[],isLoading:!1,user:{email:"",birth:"",username:"",gender:"",address:{city:"",town:"",postalCode:300,street:""}}}},props:["userProfile"],watch:{userProfile(){this.user=this.userProfile}},components:{Loading:f.Z},methods:{isPhone(e){const t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"},getMap(){this.isLoading=!0;const e="http://127.0.0.1:3000/api/map/getMap";this.$http.get(e).then((e=>{this.cityList=e.data.data,this.changeTown(),this.isLoading=!1})).catch((e=>{console.log(e),this.isLoading=!1}))},changeTown(){this.cityList.forEach((e=>{e.name===this.user.address.city&&(this.townList=e.districts)}))},changePostal(){this.townList.forEach((e=>{e.name===this.user.address.town&&(this.user.address.postalCode=e.zip)}))}},mounted(){this.getMap()}},L=s(3744);const C=(0,L.Z)(v,[["render",y]]);var W=C}}]);
//# sourceMappingURL=871.b9e8a028.js.map