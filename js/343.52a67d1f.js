"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[343],{1200:function(t,e,i){i.d(e,{Z:function(){return u}});var a=i(6252),o=i(3577);const s=t=>((0,a.dD)("data-v-580516b6"),t=t(),(0,a.Cn)(),t),n=s((()=>(0,a._)("path",{class:"hover-path",fill:"none",stroke:"#333","stroke-miterlimit":"10","stroke-width":"4px",d:"M51.36,8.75q-9.14-.64-18.3-.85-4.92-.16-9.85,0c-3.22.23-6.62.7-9.39,2.49A21.08,21.08,0,0,0,8,16.62,17.68,17.68,0,0,0,5.8,21.85c-.68,2.42-1.13,4.43-.48,6.94,1,3.79,3.48,7,6,9.91a60.49,60.49,0,0,0,15,12.44C33.6,55.43,41.8,57.88,49.91,60a144.68,144.68,0,0,0,27.72,4.25c10.65.62,21.78.65,32.27-1.6a48.14,48.14,0,0,0,10.86-3.49,16.81,16.81,0,0,0,6-4.33,11,11,0,0,0,1.91-9.37c-1.11-5.29-4.53-9.43-8.55-12.91a71.43,71.43,0,0,0-17.8-10.19Q89.91,17.05,77.08,13C66.09,9.53,54.58,6,43,5.14a32.64,32.64,0,0,0-8.67.34"},null,-1))),r=[n];function l(t,e,i,s,n,l){return(0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -4 140.93 80.58",class:(0,o.C_)(["hex position-absolute top-50 start-50 translate-middle",n.setting])},r,2)}var c={data(){return{setting:"circle-1"}}},d=i(3744);const p=(0,d.Z)(c,[["render",l],["__scopeId","data-v-580516b6"]]);var u=p},4960:function(t,e,i){i.d(e,{Z:function(){return u}});var a=i(6252),o=i(3577);const s=t=>((0,a.dD)("data-v-9f4a6104"),t=t(),(0,a.Cn)(),t),n=s((()=>(0,a._)("path",{fill:"none",stroke:"#333","stroke-miterlimit":"10","stroke-width":"10px",class:"hover-path",d:"M180.35,13.55c34.13-1.2,68.69-2.81,102.4,4.3,16.68,3.52,34,8,42.07,24.47,6.87,14.12.21,30.15-13.29,37-14.74,7.47-31.66,8.88-47.81,10.7-37.22,4.19-74.64,6.71-112.06,8.23-26.8,1.09-53.5,1-80.27-.54q-13.88-.54-27.64-2.36a52.37,52.37,0,0,1-16.92-3.74,26.59,26.59,0,0,1-13.5-18.42c-1.42-6.8-1.45-11.7,3.62-16.94,10.74-11.1,28.44-15.61,42.88-20.07a334.43,334.43,0,0,1,58.34-10q39.16-5.09,78.66-6.47c49.34-2.31,98.76-1.35,148.06,1.27,19.22,1,38.35,2.18,57.45,4.55"},null,-1))),r=[n];function l(t,e,i,s,n,l){return(0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 380.84 111.47",class:(0,o.C_)(["hex1 position-absolute top-50 start-50 translate-middle",n.setting])},r,2)}var c={data(){return{setting:"circle-3"}}},d=i(3744);const p=(0,d.Z)(c,[["render",l],["__scopeId","data-v-9f4a6104"]]);var u=p},1230:function(t,e,i){i.d(e,{Z:function(){return u}});var a=i(6252),o=i(3577);const s=t=>((0,a.dD)("data-v-7bcbdb97"),t=t(),(0,a.Cn)(),t),n=s((()=>(0,a._)("path",{fill:"none",stroke:"#333","stroke-miterlimit":"10","stroke-width":"10px",class:"hover-path",d:"M104.1,58.5c-25.8,0.1-54.1,3.7-75,20.2c-6.4,5-11.8,11-13.7,19.1c-2.3,9.3,5.9,20.1,13,24.8\nc14.3,9.3,31.5,10.9,48,12.5c36.1,3.7,72.4,3,108.6,1.3c25-1.1,49.9-3.6,74.7-7.4c21.3-2.2,42.4-6.3,63-12.2\nc9.3-3.2,18.6-6.4,27.9-9.6c11-2.4,19.7-8,26.2-16.8c-4.6-10.3-12.3-17.4-23.1-21.2c-17.4-11.4-36.1-20.4-55.9-27\nc-33.5-12.8-71.9-23.1-108-25.8c-17.8-1.3-37.2-2.9-54.7,1.4c-5.4,1.3-11.6,2.5-14.6,7.7"},null,-1))),r=[n];function l(t,e,i,s,n,l){return(0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 394.1 152.8",class:(0,o.C_)(["hex1 position-absolute top-50 start-50 translate-middle",n.setting])},r,2)}var c={data(){return{setting:"circle-2"}}},d=i(3744);const p=(0,d.Z)(c,[["render",l],["__scopeId","data-v-7bcbdb97"]]);var u=p},3366:function(t,e,i){i.d(e,{Z:function(){return _}});var a=i(6252),o=i(3577);const s=t=>((0,a.dD)("data-v-81546e66"),t=t(),(0,a.Cn)(),t),n=s((()=>(0,a._)("h5",{class:"text-uppercase"},"Remark：",-1))),r={class:"notepad mb-4"},l=["textContent"];function c(t,e,i,s,c,d){return(0,a.wg)(),(0,a.iD)(a.HY,null,[n,(0,a._)("div",r,[(0,a._)("div",{class:"paper",contenteditable:"true",onInput:e[0]||(e[0]=(...t)=>d.change&&d.change(...t)),textContent:(0,o.zw)(c.noteStr)},null,40,l)])],64)}var d=i(2930),p={data(){return{noteStr:"Hello, this is a paper.\n      Click to write your message.",newData:"Hello, this is a paper.\n      Click to write your message."}},methods:{change(t){t.target.innerHTML.length<280?(this.newData=t.target.innerHTML,d.Z.emit("remark",this.newData)):alert("word count don't > 280")}}},u=i(3744);const h=(0,u.Z)(p,[["render",c],["__scopeId","data-v-81546e66"]]);var _=h},7343:function(t,e,i){i.r(e),i.d(e,{default:function(){return St}});var a=i(6252);const o={class:"card-group row w-tab"},s={class:"card col-sm-6 p-0"},n={class:"card col-sm-6"},r={class:"card-group row"},l={class:"card px-0 border-2"};function c(t,e,i,c,d,p){const u=(0,a.up)("ProductInformation"),h=(0,a.up)("ShopProcess"),_=(0,a.up)("CartList");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("section",o,[(0,a._)("div",s,[(0,a.Wm)(u)]),(0,a._)("div",n,[(0,a.Wm)(h)])]),(0,a._)("section",r,[(0,a._)("div",l,[(0,a.Wm)(_)])])],64)}var d=i(3577);const p={class:"card-body p-0"},u={class:"border-bottom border-dark border-3 p-3"},h={class:"ps-4 pb-4"},_=(0,a.uE)('<nav aria-label="Page navigation example" style="margin-top:-2px;margin-right:-2px;"><ul class="pagination justify-content-end"><li class="page-item disabled"><a class="page-link border-2 border-dark rounded-0"><i class="bi bi-caret-left-fill"></i></a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">1</a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">2</a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">3</a></li><li class="page-item"><a class="page-link border-2 border-dark rounded-0" href="#"><i class="bi bi-caret-right-fill"></i></a></li></ul></nav>',1),m=["src"];function g(t,e,i,o,s,n){return(0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",u,[(0,a._)("div",null,[(0,a._)("h3",null,(0,d.zw)(s.product.title),1),(0,a._)("p",null,(0,d.zw)(s.product.comments),1),(0,a._)("p",null," 成分："+(0,d.zw)(s.product.ingredient),1)])]),(0,a._)("div",h,[_,(0,a._)("img",{src:this.product.image,alt:""},null,8,m)])])}var v=i(2930),b={data(){return{product:{}}},mounted(){v.Z.on("infoData",(t=>{this.product=t}))}},f=i(3744);const w=(0,f.Z)(b,[["render",g]]);var k=w,C=i(9963);const y=t=>((0,a.dD)("data-v-1b24b340"),t=t(),(0,a.Cn)(),t),x={class:"card-body"},z={class:"mb-4"},O={class:"mb-4"},D=y((()=>(0,a._)("h5",null,"TYPE：",-1))),Z=["id","value"],L=["for"],q={class:"mb-4"},H=y((()=>(0,a._)("h5",null,"FLAVOR：",-1))),$=["id","value","onClick"],S=["for"],P={class:"mb-4"},Y=y((()=>(0,a._)("h5",null,"SIZE：",-1))),I=["id","value","onClick"],M=["for"],U={class:"mb-3"},T=y((()=>(0,a._)("h5",{class:"text-uppercase"},"quantity：",-1))),E={class:"d-flex align-items-center"},K={"aria-label":"...",class:"me-4"},W={class:"pagination"},B={class:"page-item"},V=y((()=>(0,a._)("i",{class:"bi bi-dash"},null,-1))),A=[V],F={class:"page-item"},R={class:"page-item"},G=y((()=>(0,a._)("i",{class:"bi bi-plus-lg"},null,-1))),N=[G],Q={class:"ms-3"},j={class:"d-flex align-items-center"},J=y((()=>(0,a._)("h5",{class:"text-uppercase"},"total：",-1))),X={class:"fst-italic h4 text-secondary luluText"},tt=y((()=>(0,a._)("i",{class:"bi bi-caret-right-fill"},null,-1)));function et(t,e,i,o,s,n){const r=(0,a.up)("CircleTwo"),l=(0,a.up)("CircleOne"),c=(0,a.up)("CircleThree"),p=(0,a.up)("Note");return(0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("section",z,[(0,a._)("div",O,[D,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.types,((t,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[(0,a.wy)((0,a._)("input",{type:"radio",class:"btn-check",name:"options-type",id:`type${i}`,autocomplete:"off",value:t,"onUpdate:modelValue":e[0]||(e[0]=t=>s.orderOption.type=t)},null,8,Z),[[C.G2,s.orderOption.type]]),(0,a._)("label",{class:"btn border-0 position-relative me-4",for:`type${i}`},[(0,a.Uk)((0,d.zw)(t)+" ",1),(0,a.Wm)(r,{class:(0,d.C_)({"d-none":s.orderOption.type!==t})},null,8,["class"])],8,L)],64)))),128))]),(0,a._)("div",q,[H,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.productList,((t,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[(0,a.wy)((0,a._)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`flavor${i}`,autocomplete:"off",value:t.title,"onUpdate:modelValue":e[1]||(e[1]=t=>s.orderOption.flavor=t),onClick:e=>s.tempProduct=t},null,8,$),[[C.G2,s.orderOption.flavor]]),t.category===s.orderOption.type?((0,a.wg)(),(0,a.iD)("label",{key:0,class:"btn border-0 position-relative",for:`flavor${i}`},[(0,a.Uk)((0,d.zw)(t.title)+" ",1),(0,a.Wm)(l,{class:(0,d.C_)({"d-none":t.title!==s.orderOption.flavor})},null,8,["class"])],8,S)):(0,a.kq)("",!0)],64)))),128))]),(0,a._)("div",P,[Y,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.sizeList,((t,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[(0,a.wy)((0,a._)("input",{type:"radio",class:"btn-check me-md-4",name:"options-size",id:`size${i}`,autocomplete:"off",value:t._id,"onUpdate:modelValue":e[2]||(e[2]=t=>s.orderOption.size=t),onClick:e=>{s.orderOption.price=t.price,s.orderOption.quantity=1}},null,8,I),[[C.G2,s.orderOption.size]]),(0,a._)("label",{class:"btn border-0 position-relative me-3",for:`size${i}`},[(0,a.Uk)((0,d.zw)(t.size)+" ",1),(0,a.Wm)(c,{class:(0,d.C_)({"d-none":t._id!==s.orderOption.size})},null,8,["class"])],8,M)],64)))),128))]),(0,a.Wm)(p),(0,a._)("div",U,[T,(0,a._)("div",E,[(0,a._)("nav",K,[(0,a._)("ul",W,[(0,a._)("li",B,[(0,a._)("a",{class:(0,d.C_)(["page-link",{disabled:s.orderOption.quantity<=1}]),href:"#",onClick:e[3]||(e[3]=(0,C.iM)((t=>s.orderOption.quantity--),["prevent"]))},A,2)]),(0,a._)("li",F,[(0,a.wy)((0,a._)("input",{type:"text",class:"page-link",style:{width:"2.9em"},"onUpdate:modelValue":e[4]||(e[4]=t=>s.orderOption.quantity=t)},null,512),[[C.nr,s.orderOption.quantity]])]),(0,a._)("li",R,[(0,a._)("a",{class:(0,d.C_)(["page-link",{disabled:s.orderOption.quantity>=10}]),href:"#",onClick:e[5]||(e[5]=(0,C.iM)((t=>s.orderOption.quantity++),["prevent"]))},N,2)])])]),(0,a._)("p",Q,"$"+(0,d.zw)(s.orderOption.price)+"/EACH",1)])]),(0,a._)("div",j,[J,(0,a._)("div",X," $"+(0,d.zw)(this.$toCurrency(s.orderOption.price*s.orderOption.quantity)),1)])]),(0,a._)("button",{class:"btn btn-outline-primary rounded-0",onClick:e[6]||(e[6]=(...t)=>n.addCart&&n.addCart(...t))},[tt,(0,a.Uk)("Add to Chart ")])])}i(560);var it=i(3366),at=i(1200),ot=i(1230),st=i(4960),nt={data(){return{tempProduct:{},productList:[],flavorList:[],sizeList:[],types:["pie","cake","cookie"],orderOption:{type:"pie",flavor:"",size:"",price:0,quantity:1,remark:""}}},components:{Note:it.Z,CircleOne:at.Z,CircleTwo:ot.Z,CircleThree:st.Z},watch:{"orderOption.type"(){this.selectFlavor()},"orderOption.flavor"(){this.selectSize()},tempProduct(){v.Z.emit("infoData",this.tempProduct)}},methods:{getProducts(){v.Z.emit("loadingStatus",!0);const t="http://127.0.0.1:3000/products";this.$http.get(t).then((t=>{this.productList=t.data.data,this.selectFlavor(),v.Z.emit("loadingStatus",!1)})).catch((t=>{console.log(t),v.Z.emit("loadingStatus",!1)}))},selectFlavor(){this.flavorList=[],this.productList.forEach((t=>{this.orderOption.type===t.category&&this.flavorList.push(t)})),this.orderOption.flavor=this.flavorList[0].title,this.tempProduct=this.flavorList[0]},selectSize(){this.flavorList.forEach((t=>{t.title===this.orderOption.flavor&&(this.sizeList=t.options)})),this.orderOption.size=this.sizeList[0]._id,this.orderOption.price=this.sizeList[0].price},addCart(){v.Z.emit("loadingStatus",!0);const t="http://127.0.0.1:3000/cart";this.$http.post(t,{productId:this.tempProduct._id,option:this.orderOption}).then((t=>{console.log(t),v.Z.emit("loadingStatus",!1),v.Z.emit("getCatrs")})).catch((t=>{console.log(t),v.Z.emit("loadingStatus",!1)}))}},mounted(){v.Z.on("remark",(t=>{this.orderOption.remark=t})),this.getProducts()}};const rt=(0,f.Z)(nt,[["render",et],["__scopeId","data-v-1b24b340"]]);var lt=rt;const ct=t=>((0,a.dD)("data-v-019ec930"),t=t(),(0,a.Cn)(),t),dt={class:"card-body p-0"},pt={class:"table table-bordered border-primary m-0 overflow-x-scroll"},ut=ct((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{scope:"col"},"PRODUCT"),(0,a._)("th",{scope:"col"},"Size"),(0,a._)("th",{scope:"col"},"Price"),(0,a._)("th",{scope:"col"},"Qty"),(0,a._)("th",{scope:"col"},"SUB"),(0,a._)("th",{scope:"col"},"RMK")])],-1))),ht={class:"table-group-divider luluText"},_t={class:"text-center"},mt=["onClick"],gt=["onClick"],vt={class:"text-truncate d-none d-md-inline-block"},bt=ct((()=>(0,a._)("i",{class:"bi bi-pencil"},null,-1))),ft={key:0},wt=ct((()=>(0,a._)("td",{colspan:"2"},null,-1))),kt={class:"text-center"},Ct=["onClick"],yt=["onClick"],xt={class:"text-truncate d-none d-md-inline-block"},zt=ct((()=>(0,a._)("i",{class:"bi bi-pencil"},null,-1))),Ot=ct((()=>(0,a._)("tr",null,[(0,a._)("td",{colspan:"2"},[(0,a._)("div",{class:"d-flex align-items-center dashBottom"},[(0,a._)("i",{class:"bi bi-dot h3 text-danger mb-0"}),(0,a._)("h6",null,"pie")]),(0,a._)("div",{class:"d-flex align-items-center dashBottom"},[(0,a._)("i",{class:"bi bi-dot h3 text-info mb-0"}),(0,a._)("h6",null,"cake")]),(0,a._)("div",{class:"d-flex align-items-center"},[(0,a._)("i",{class:"bi bi-dot h3 text-secondary mb-0"}),(0,a._)("h6",null,"cookie")])]),(0,a._)("td",{colspan:"3",class:"align-middle"},"total:"),(0,a._)("td",{colspan:"2",class:"text-sm-end text-center align-middle"},[(0,a._)("button",{class:"btn btn-outline-primary rounded-0"},[(0,a._)("i",{class:"bi bi-caret-right-fill"}),(0,a.Uk)("CHECKOUT ")])])],-1)));function Dt(t,e,i,o,s,n){return(0,a.wg)(),(0,a.iD)("section",dt,[(0,a._)("table",pt,[ut,(0,a._)("tbody",ht,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.cartList.carts,((t,e)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e},[(0,a._)("tr",null,[(0,a._)("td",null,(0,d.zw)(e+1),1),(0,a._)("td",null,(0,d.zw)(t.product.title),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.option,((e,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[0===i?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("td",null,(0,d.zw)(e.info.size),1),(0,a._)("td",null,"$"+(0,d.zw)(e.info.price),1),(0,a._)("td",_t,[(0,a._)("a",{href:"#",class:"me-1 text-decoration-none",onClick:(0,C.iM)((i=>n.addCart(-1,e,t)),["prevent"])},"-",8,mt),(0,a._)("span",null,(0,d.zw)(e.quantity),1),(0,a._)("a",{href:"#",class:"ms-1 text-decoration-none",onClick:(0,C.iM)((i=>n.addCart(1,e,t)),["prevent"])},"+",8,gt)]),(0,a._)("td",null,"$"+(0,d.zw)(this.$toCurrency(e.quantity*e.info.price)),1),(0,a._)("td",null,[(0,a._)("span",vt,(0,d.zw)(e.remark),1),bt])],64)):(0,a.kq)("",!0)],64)))),128))]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.option,((e,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[1!==t.option.length&&0!==i?((0,a.wg)(),(0,a.iD)("tr",ft,[wt,(0,a._)("td",null,(0,d.zw)(e.info.size),1),(0,a._)("td",null,"$"+(0,d.zw)(e.info.price),1),(0,a._)("td",kt,[(0,a._)("a",{href:"#",class:"me-1 text-decoration-none",onClick:(0,C.iM)((i=>n.addCart(-1,e,t)),["prevent"])},"-",8,Ct),(0,a._)("span",null,(0,d.zw)(e.quantity),1),(0,a._)("a",{href:"#",class:"ms-1 text-decoration-none",onClick:(0,C.iM)((i=>n.addCart(1,e,t)),["prevent"])},"+",8,yt)]),(0,a._)("td",null,"$"+(0,d.zw)(this.$toCurrency(e.quantity*e.info.price)),1),(0,a._)("td",null,[(0,a._)("span",xt,(0,d.zw)(e.remark),1),zt])])):(0,a.kq)("",!0)],64)))),128))],64)))),128)),Ot])])])}var Zt={data(){return{cartList:[]}},methods:{getCarts(){v.Z.emit("loadingStatus",!0);const t="http://127.0.0.1:3000/carts";this.$http.get(t).then((t=>{this.cartList=t.data.data,this.populateCarts(this.cartList.carts),v.Z.emit("loadingStatus",!1)})).catch((t=>{console.log(t),v.Z.emit("loadingStatus",!1)}))},populateCarts(t){t.forEach((t=>{t.option.forEach((e=>{t.product.options.forEach((t=>{t._id===e.size&&(e.info=t)}))}))}))},addCart(t,e,i){console.log(e);const a="http://127.0.0.1:3000/cart";e.quantity+t===0?this.$http.delete(a,{data:{productId:i.product._id,optionId:e._id}}).then((t=>{console.log(t),this.getCarts()})).catch((t=>{console.log(t)})):this.$http.post(a,{productId:i.product._id,option:{size:e.size,quantity:t}}).then((t=>{console.log(t),this.getCarts()})).catch((t=>{console.log(t)}))}},mounted(){this.getCarts(),v.Z.on("getCatrs",(()=>{this.getCarts()}))}};const Lt=(0,f.Z)(Zt,[["render",Dt],["__scopeId","data-v-019ec930"]]);var qt=Lt,Ht={components:{ShopProcess:lt,ProductInformation:k,CartList:qt}};const $t=(0,f.Z)(Ht,[["render",c]]);var St=$t}}]);
//# sourceMappingURL=343.52a67d1f.js.map