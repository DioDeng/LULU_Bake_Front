"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[574],{1309:function(e,t,s){s.r(t),s.d(t,{default:function(){return re}});var l=s(6252),o=s(9963),n=s(3577);const a=e=>((0,l.dD)("data-v-b38f8618"),e=e(),(0,l.Cn)(),e),r={class:"card-group row w-tab"},d={class:"card col-3 pt-3"},i=["id","value"],u=["for"],c={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 394.1 152.8",class:"circle-3 hex1 position-absolute top-50 start-50 translate-middle"},m=a((()=>(0,l._)("path",{fill:"none",stroke:"#000","stroke-miterlimit":"10","stroke-width":"10px",class:"hover-path",d:"M104.1,58.5c-25.8,0.1-54.1,3.7-75,20.2c-6.4,5-11.8,11-13.7,19.1c-2.3,9.3,5.9,20.1,13,24.8\n\tc14.3,9.3,31.5,10.9,48,12.5c36.1,3.7,72.4,3,108.6,1.3c25-1.1,49.9-3.6,74.7-7.4c21.3-2.2,42.4-6.3,63-12.2\n\tc9.3-3.2,18.6-6.4,27.9-9.6c11-2.4,19.7-8,26.2-16.8c-4.6-10.3-12.3-17.4-23.1-21.2c-17.4-11.4-36.1-20.4-55.9-27\n\tc-33.5-12.8-71.9-23.1-108-25.8c-17.8-1.3-37.2-2.9-54.7,1.4c-5.4,1.3-11.6,2.5-14.6,7.7"},null,-1))),p=[m],h={class:"card col-9"};function g(e,t,s,a,m,g){const w=(0,l.up)("Profile"),k=(0,l.up)("Chart"),_=(0,l.up)("Order"),f=(0,l.up)("Coupon"),v=(0,l.up)("Password"),b=(0,l.up)("Logout");return(0,l.wg)(),(0,l.iD)("section",r,[(0,l._)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.menuList,(e=>((0,l.wg)(),(0,l.iD)(l.HY,{key:e},[(0,l.wy)((0,l._)("input",{type:"radio",class:"btn-check",name:"options-size",id:e,autocomplete:"off",value:e,"onUpdate:modelValue":t[0]||(t[0]=e=>m.select=e)},null,8,i),[[o.G2,m.select]]),(0,l._)("label",{class:"btn border-0 position-relative mb-3",for:e},[(0,l.Uk)((0,n.zw)(e)+" ",1),m.select===`${e}`?((0,l.wg)(),(0,l.iD)("svg",c,p)):(0,l.kq)("",!0)],8,u)],64)))),128))]),(0,l._)("div",h,["PROFILE"===m.select?((0,l.wg)(),(0,l.j4)(w,{key:0,userProfile:m.user,onModify:g.modifyUser},null,8,["userProfile","onModify"])):(0,l.kq)("",!0),"CHART"===m.select?((0,l.wg)(),(0,l.j4)(k,{key:1})):(0,l.kq)("",!0),"ORDER"===m.select?((0,l.wg)(),(0,l.j4)(_,{key:2})):(0,l.kq)("",!0),"COUPON"===m.select?((0,l.wg)(),(0,l.j4)(f,{key:3})):(0,l.kq)("",!0),"PASSWORD"===m.select?((0,l.wg)(),(0,l.j4)(v,{key:4})):(0,l.kq)("",!0),"LOGOUT"===m.select?((0,l.wg)(),(0,l.j4)(b,{key:5})):(0,l.kq)("",!0)])])}const w={class:"card-body"},k={class:"table align-middle table-light table-striped-columns"},_=(0,l._)("th",{scope:"row",class:""},[(0,l.Uk)("會員帳號"),(0,l._)("br"),(0,l.Uk)("ID")],-1),f=(0,l._)("th",{scope:"row"},[(0,l.Uk)("生日"),(0,l._)("br"),(0,l.Uk)("Birth")],-1),v=(0,l._)("th",{scope:"row"},[(0,l.Uk)("姓名"),(0,l._)("br"),(0,l.Uk)("Name")],-1),b=(0,l._)("th",{scope:"row"},[(0,l.Uk)("性別"),(0,l._)("br"),(0,l.Uk)("Gender")],-1),y=(0,l._)("th",{scope:"row"},[(0,l.Uk)("行動電話"),(0,l._)("br"),(0,l.Uk)("Mobile")],-1),U=(0,l._)("th",{scope:"row"},[(0,l.Uk)("聯絡地址"),(0,l._)("br"),(0,l.Uk)("Location")],-1),L=(0,l._)("div",{class:""},"本地址將作為您日後購物預設寄送地址，請勿填寫郵政信箱",-1),V={class:"d-flex"},C=(0,l._)("option",{value:"",disabled:""},"Select a town",-1),P=["value"],D=(0,l._)("option",{value:"",disabled:""},"Select a town",-1),O=["value"],W={class:"text-center"},x=["disabled"];function q(e,t,s,a,r,d){const i=(0,l.up)("Loading"),u=(0,l.up)("VField"),c=(0,l.up)("ErrorMessage"),m=(0,l.up)("VForm");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i,{isLoading:r.isLoading},null,8,["isLoading"]),(0,l._)("div",w,[(0,l.Wm)(m,null,{default:(0,l.w5)((({errors:s,meta:a})=>[(0,l._)("table",k,[(0,l._)("tbody",null,[(0,l._)("tr",null,[_,(0,l._)("td",null,(0,n.zw)(r.user.email),1)]),(0,l._)("tr",null,[f,(0,l._)("td",null,(0,n.zw)(r.user.birth),1)]),(0,l._)("tr",null,[v,(0,l._)("td",null,[(0,l.Wm)(u,{name:"姓名",type:"text",rules:"required",modelValue:r.user.username,"onUpdate:modelValue":t[0]||(t[0]=e=>r.user.username=e)},null,8,["modelValue"]),(0,l.Wm)(c,{name:"姓名",class:"text-danger ms-3"})])]),(0,l._)("tr",null,[b,(0,l._)("td",null,[(0,l.Wm)(u,{name:"gender",type:"radio",value:"男",modelValue:r.user.gender,"onUpdate:modelValue":t[1]||(t[1]=e=>r.user.gender=e)},null,8,["modelValue"]),(0,l.Uk)(" 男 "),(0,l.Wm)(u,{name:"gender",type:"radio",value:"女",modelValue:r.user.gender,"onUpdate:modelValue":t[2]||(t[2]=e=>r.user.gender=e)},null,8,["modelValue"]),(0,l.Uk)(" 女 "),(0,l.Wm)(u,{name:"gender",type:"radio",value:"不提供",modelValue:r.user.gender,"onUpdate:modelValue":t[3]||(t[3]=e=>r.user.gender=e)},null,8,["modelValue"]),(0,l.Uk)(" 不提供 "),(0,l.Wm)(c,{name:"gender"})])]),(0,l._)("tr",null,[y,(0,l._)("td",null,[(0,l.Wm)(u,{name:"電話",type:"text",class:(0,n.C_)({"is-invalid":s["電話"]}),rules:d.isPhone,modelValue:r.user.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>r.user.phone=e)},null,8,["class","rules","modelValue"]),(0,l.Wm)(c,{name:"電話",class:"text-danger ms-3"})])]),(0,l._)("tr",null,[U,(0,l._)("td",null,[L,(0,l._)("div",V,[(0,l.Wm)(u,{name:"city",as:"select",class:"form-select",modelValue:r.user.address.city,"onUpdate:modelValue":t[5]||(t[5]=e=>r.user.address.city=e),onChange:d.changeTown},{default:(0,l.w5)((()=>[C,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.cityList,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:e.name},(0,n.zw)(e.name),9,P)))),128))])),_:1},8,["modelValue","onChange"]),(0,l.Wm)(u,{name:"township",as:"select",class:"form-select ms-2",modelValue:r.user.address.town,"onUpdate:modelValue":t[6]||(t[6]=e=>r.user.address.town=e),onChange:d.changePostal},{default:(0,l.w5)((()=>[D,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.townList,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.CODE,value:e.name},(0,n.zw)(e.name),9,O)))),128))])),_:1},8,["modelValue","onChange"]),(0,l.wy)((0,l._)("input",{type:"text",class:"ms-2 col-1 text-center","onUpdate:modelValue":t[7]||(t[7]=e=>r.user.address.postalCode=e),disabled:""},null,512),[[o.nr,r.user.address.postalCode]]),(0,l.Wm)(u,{name:"地址",type:"text",modelValue:r.user.address.street,"onUpdate:modelValue":t[8]||(t[8]=e=>r.user.address.street=e),class:"ms-2 col-7"},null,8,["modelValue"])])])])])]),(0,l._)("div",W,[(0,l._)("button",{type:"button",class:(0,n.C_)([{"btn-info":!a.valid},"btn btn-dark"]),disabled:!a.valid,onClick:t[9]||(t[9]=t=>e.$emit("modify",this.user))}," 確認修改 ",10,x)])])),_:1})])],64)}var R=s(4878),E={inheritAttrs:!1,data(){return{cityList:[],townList:[],isLoading:!1,user:{email:"",birth:"",username:"",gender:"",address:{city:"",town:"",postalCode:300,street:""}}}},props:["userProfile"],watch:{userProfile(){this.user=this.userProfile}},components:{Loading:R.Z},methods:{isPhone(e){const t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"},getMap(){this.isLoading=!0;const e="http://127.0.0.1:3000/api/map/getMap";this.$http.get(e).then((e=>{this.cityList=e.data.data,this.changeTown(),this.isLoading=!1})).catch((e=>{console.log(e)}))},changeTown(){this.cityList.forEach((e=>{e.name===this.user.address.city&&(this.townList=e.districts)}))},changePostal(){this.townList.forEach((e=>{e.name===this.user.address.town&&(this.user.address.postalCode=e.zip)}))}},mounted(){this.getMap()}},M=s(3744);const Z=(0,M.Z)(E,[["render",q]]);var z=Z;function H(e,t){return(0,l.wg)(),(0,l.iD)("div",null," Chart ")}const T={},$=(0,M.Z)(T,[["render",H]]);var j=$;function S(e,t){return(0,l.wg)(),(0,l.iD)("div",null," Order ")}const A={},F=(0,M.Z)(A,[["render",S]]);var I=F;function Y(e,t){return(0,l.wg)(),(0,l.iD)("div",null," Coupon ")}const G={},K=(0,M.Z)(G,[["render",Y]]);var N=K;const B={class:"card-body"};function J(e,t,s,o,n,a){return(0,l.wg)(),(0,l.iD)("div",B)}var Q={methods:{updatePassword(){const e="http://127.0.0.1:3000/api/user/password";this.$http.patch(e,{password:"qq222485kk",confirmPassword:"qq222485kk"}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}}};const X=(0,M.Z)(Q,[["render",J]]);var ee=X;function te(e,t){return(0,l.wg)(),(0,l.iD)("div",null," 登出 ")}const se={},le=(0,M.Z)(se,[["render",te]]);var oe=le,ne={data(){return{select:"PROFILE",menuList:["PROFILE","CHART","ORDER","COUPON","PASSWORD","LOGOUT"],user:{}}},components:{Profile:z,Chart:j,Order:I,Coupon:N,Password:ee,Logout:oe},methods:{getUser(){const e="http://127.0.0.1:3000/api/user/profile";this.$http.get(e).then((e=>{this.user=e.data.data,this.isLogin=!this.isLogin})).catch((e=>{console.log(e)}))},modifyUser(e){const t="http://127.0.0.1:3000/api/user/profile";this.$http.patch(t,e).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}},mounted(){this.getUser()}};const ae=(0,M.Z)(ne,[["render",g],["__scopeId","data-v-b38f8618"]]);var re=ae}}]);
//# sourceMappingURL=574.2d67bfb5.js.map