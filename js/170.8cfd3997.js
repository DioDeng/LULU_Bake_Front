"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[170],{185:function(t,e,a){a.d(e,{Er:function(){return p},FF:function(){return u},Gx:function(){return n},LL:function(){return d},Xr:function(){return s},dK:function(){return c},eT:function(){return i},gF:function(){return r},h$:function(){return m},w0:function(){return b},zO:function(){return k}});var o=a(4335);const l="http://127.0.0.1:3000",s=t=>o.A.post(`${l}/admin/sign_in`,t),i=()=>o.A.get(`${l}/admin/products`),d=t=>o.A.post(`${l}/admin/product`,t),n=(t,e)=>o.A.patch(`${l}/admin/product/${t}`,e),r=t=>o.A.delete(`${l}/admin/product/${t}`),c=()=>o.A.get(`${l}/products`),u=t=>o.A.get(`${l}/order/${t}`),m=t=>o.A.post(`${l}/order`,t),p=t=>o.A.delete(`${l}/order/${t}`),k=t=>o.A.post(`${l}/linepay/${t}`),b=t=>o.A.post(`${l}/upload?type=""`,t)},1227:function(t,e,a){a.d(e,{g:function(){return o}});const o=()=>{const t=document.cookie.replace(/(?:(?:^|.*;\s*)LULU-Bake-Admin\s*=\s*([^;]*).*$)|^.*$/,"$1");return t}},2905:function(t,e,a){a.d(e,{A:function(){return nt}});var o=a(641),l=a(3751),s=a(33);const i=t=>((0,o.Qi)("data-v-26b501aa"),t=t(),(0,o.jt)(),t),d={class:"card-body"},n={class:"modal fade",ref:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r={class:"modal-dialog modal-dialog-centered modal-xl"},c={class:"modal-content rounded-0 border-2 border-dark"},u=i((()=>(0,o.Lk)("div",{class:"modal-header paperDarkBg border-bottom border-dark border-2"},[(0,o.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"}," ADD NEW PRODUCT "),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),m={class:"modal-body"},p={class:"row row-cols-1 row-cols-md-2 g-4"},k={class:"col"},b={class:"card h-100 border-0"},g={class:"card-body"},h={class:"input-group mb-3"},L=i((()=>(0,o.Lk)("label",{class:"input-group-text w-100 p-4 d-flex flex-column align-items-center btn border-dark rounded",for:"inputGroupFile01"},[(0,o.Lk)("i",{class:"bi bi-cloud-arrow-up h3"}),(0,o.eW)(" Drag an image or click here to uploadâ€¦")],-1))),f={class:"container"},y={class:"row row-cols-1 row-cols-md-3 g-3"},v={key:0,class:"col position-relative border border-2 border-info rounded-3"},D=["src"],C=i((()=>(0,o.Lk)("i",{class:"bi bi-x-lg text-danger position-absolute top-0 end-0"},null,-1))),$=[C],E=["src"],x=["onClick"],w=i((()=>(0,o.Lk)("i",{class:"bi bi-x-lg text-danger position-absolute top-0 end-0"},null,-1))),F=[w],I={class:"col"},_={class:"card h-100 border-0"},A={class:"card-body"},S=i((()=>(0,o.Lk)("h5",{class:"card-title"},"Product Discription",-1))),X={class:"form-floating mb-3"},V={for:"floatingInput"},P={class:"form-floating mb-3"},B={for:"floatingComment"},U=i((()=>(0,o.Lk)("h5",{class:"card-title"},"Type",-1))),z={class:"mb-3"},O=["id","value"],K=["for"],M=i((()=>(0,o.Lk)("h5",{class:"card-title mb-3"},"Option",-1))),T={class:"input-group mb-3"},W=i((()=>(0,o.Lk)("span",{class:"input-group-text border-dark"},"Size",-1))),G=i((()=>(0,o.Lk)("span",{class:"input-group-text border-dark"},"$",-1))),j=i((()=>(0,o.Lk)("span",{class:"input-group-text border-dark"},"Stock",-1))),q={class:"input-group-text border-dark"},N=["onClick"],H={class:"mb-2"},Q={class:"text-center"},R={class:"modal-footer border-top border-dark border-2 justify-content-between paperDarkBg"},J=i((()=>(0,o.Lk)("div",null,null,-1))),Y=["disabled"],Z={key:0},tt={key:1};function et(t,e,a,i,C,w){const et=(0,o.g2)("VField"),at=(0,o.g2)("ErrorMessage"),ot=(0,o.g2)("CircleTwo"),lt=(0,o.g2)("VForm");return(0,o.uX)(),(0,o.CE)("div",d,[(0,o.Lk)("div",n,[(0,o.Lk)("div",r,[(0,o.Lk)("div",c,[u,(0,o.bF)(lt,{onSubmit:w.AddEditProduct,class:"d-flex flex-column h-100"},{default:(0,o.k6)((({meta:t})=>[(0,o.Lk)("div",m,[(0,o.Lk)("div",p,[(0,o.Lk)("div",k,[(0,o.Lk)("div",b,[(0,o.Lk)("div",g,[(0,o.Lk)("div",h,[L,(0,o.Lk)("input",{type:"file",ref:"image_uploads",onChange:e[0]||(e[0]=(...t)=>w.uploadImage&&w.uploadImage(...t)),name:"image_uploads",class:"form-control d-none",accept:".jpg, .jpeg, .png",id:"inputGroupFile01"},null,544)]),(0,o.Lk)("div",f,[(0,o.Lk)("div",y,[C.tempData.image?((0,o.uX)(),(0,o.CE)("div",v,[(0,o.Lk)("img",{src:C.tempData.image,alt:""},null,8,D),(0,o.Lk)("a",{href:"#",onClick:e[1]||(e[1]=(0,l.D$)(((...t)=>w.deleteImage&&w.deleteImage(...t)),["prevent"]))},$)])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(C.tempData.images,((t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"col position-relative"},[(0,o.Lk)("img",{src:t,alt:""},null,8,E),(0,o.Lk)("a",{href:"#",onClick:(0,l.D$)((t=>w.deleteImages(e)),["prevent"])},F,8,x)])))),128))])])])])]),(0,o.Lk)("div",I,[(0,o.Lk)("div",_,[(0,o.Lk)("div",A,[S,(0,o.Lk)("div",X,[(0,o.bF)(et,{name:"title",type:"text",rules:"required",class:"form-control border-dark",id:"floatingInput",placeholder:"title",modelValue:C.tempData.title,"onUpdate:modelValue":e[2]||(e[2]=t=>C.tempData.title=t)},null,8,["modelValue"]),(0,o.Lk)("label",V,[(0,o.eW)("Product Name "),(0,o.bF)(at,{name:"title",class:"text-danger"})])]),(0,o.Lk)("div",P,[(0,o.bF)(et,{name:"comment",as:"textarea",type:"text",rules:"required",class:"form-control border-dark",style:{height:"100px"},id:"floatingComment",placeholder:"Write your message here...",modelValue:C.tempData.comment,"onUpdate:modelValue":e[3]||(e[3]=t=>C.tempData.comment=t)},null,8,["modelValue"]),(0,o.Lk)("label",B,[(0,o.eW)("Write your message here... "),(0,o.bF)(at,{name:"comment",class:"text-danger"})])]),U,(0,o.Lk)("div",z,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(C.categoryOption,((t,a)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:a},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-type",id:`category${a}`,autocomplete:"off",value:t.value,"onUpdate:modelValue":e[4]||(e[4]=t=>C.tempData.category=t)},null,8,O),[[l.XL,C.tempData.category]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-4",for:`category${a}`},[(0,o.eW)((0,s.v_)(t.title)+" ",1),(0,o.bF)(ot,{class:(0,s.C4)({"d-none":C.tempData.category!==t.value})},null,8,["class"])],8,K)],64)))),128))]),M,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(C.tempData.options,((t,e)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:e},[(0,o.Lk)("div",T,[W,(0,o.bF)(et,{name:`size${e}`,type:"text",rules:"required",class:"form-control border-dark",modelValue:C.tempData.options[e].size,"onUpdate:modelValue":t=>C.tempData.options[e].size=t},null,8,["name","modelValue","onUpdate:modelValue"]),G,(0,o.bF)(et,{name:`price${e}`,type:"number",rules:"required|min_value:1",class:"form-control border-dark",modelValue:C.tempData.options[e].price,"onUpdate:modelValue":t=>C.tempData.options[e].price=t},null,8,["name","modelValue","onUpdate:modelValue"]),j,(0,o.bF)(et,{name:`stock${e}`,type:"number",rules:"required|min_value:1",class:"form-control border-dark",id:"floatingStock",modelValue:C.tempData.options[e].stock,"onUpdate:modelValue":t=>C.tempData.options[e].stock=t},null,8,["name","modelValue","onUpdate:modelValue"]),(0,o.Lk)("span",q,[(0,o.Lk)("a",{class:"m-0 p-0 text-danger text-decoration-none",href:"#",onClick:(0,l.D$)((t=>w.deleteOptionColumn(e)),["prevent"])}," x ",8,N)])]),(0,o.Lk)("div",H,[(0,o.bF)(at,{name:`size${e}`,class:"text-danger"},null,8,["name"]),(0,o.bF)(at,{name:`price${e}`,class:"text-danger"},null,8,["name"]),(0,o.bF)(at,{name:`stock${e}`,class:"text-danger"},null,8,["name"])])],64)))),128)),(0,o.Lk)("div",Q,[(0,o.Lk)("button",{class:"btn btn-outline-primary",onClick:e[5]||(e[5]=(...t)=>w.addOptionColumn&&w.addOptionColumn(...t))}," ADD NEW SPECIFICATION ")])])])])])]),(0,o.Lk)("div",R,[(0,o.bo)((0,o.Lk)("button",{type:"button",class:"btn btn-outline-danger","data-bs-dismiss":"modal",onClick:e[6]||(e[6]=t=>w.deleteProduct(C.tempData._id))}," Delete ",512),[[l.aG,C.tempData._id]]),J,(0,o.Lk)("button",{class:"btn btn-dark",disabled:!t.valid||!C.tempData.image,type:"submit"},[C.tempData._id?((0,o.uX)(),(0,o.CE)("span",Z,"edit product")):((0,o.uX)(),(0,o.CE)("span",tt,"add product"))],8,Y)])])),_:1},8,["onSubmit"])])])],512)])}a(4114);var at=a(6681),ot=a(185),lt=a(7430),st={data(){return{staticBackdrop:"",tempData:{},categoryOption:[{title:"Cake",value:"cake"},{title:"Coffee",value:"coffee"},{title:"Drink",value:"drink"},{title:"Bread",value:"bread"}]}},props:["addEditData"],components:{CircleTwo:at.A},watch:{addEditData(){this.tempData=this.addEditData}},methods:{AddEditProduct(){this.tempData._id?(0,ot.Gx)(this.tempData._id,this.tempData).then((()=>{this.$emitter.emit("getProducts"),this.toggleModal()})).catch((t=>{console.log(t)})):(0,ot.LL)(this.tempData).then((()=>{this.$emitter.emit("getProducts"),this.toggleModal()})).catch((t=>{console.log(t)}))},deleteProduct(t){this.$emitter.emit("loadingStatus",!1),(0,ot.gF)(t).then((()=>{this.$emitter.emit("loadingStatus",!0),this.$emitter.emit("getProducts")})).catch((t=>{console.log(t)}))},toggleModal(){this.staticBackdrop.toggle()},addOptionColumn(){this.tempData.options.push({size:"",price:100,stock:10})},deleteOptionColumn(t){1!==this.tempData.options.length&&this.tempData.options.splice(t,1)},getInputData(){this.$emitter.emit("inputData",this.tempData)},uploadImage(){this.$emitter.emit("loadingStatus",!0);const t=new FormData;t.append("file-to-upload",this.$refs.image_uploads.form[0].files[0]),(0,ot.w0)(t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{this.$emitter.emit("loadingStatus",!1),this.tempData.image?this.tempData.images.push(t.data.data):this.tempData.image=t.data.data})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))},deleteImage(){this.tempData.image="",this.tempData.images.length>0&&(this.tempData.image=this.tempData.images[0],this.tempData.images.splice(0,1))},deleteImages(t){this.tempData.images.splice(t,1)}},mounted(){this.staticBackdrop=new lt.aF(this.$refs.staticBackdrop)}},it=a(6262);const dt=(0,it.A)(st,[["render",et],["__scopeId","data-v-26b501aa"]]);var nt=dt},170:function(t,e,a){a.r(e),a.d(e,{default:function(){return F}});var o=a(641),l=a(33);const s={class:"row overflow-scroll"},i={class:"card border-dark sticky-top w-100 paperDarkBg"},d={class:"card-body d-flex align-items-start justify-content-between"},n=(0,o.Fv)('<div class="h5 me-3 mt-auto d-flex align-items-center mb-0"><small class="text-secondary">2025/01/01</small><i class="bi bi-caret-right-fill h6 mb-0 mx-2"></i><small class="text-secondary">2025/01/08</small>, <small class="ms-3 text-secondary">weekly</small><i class="bi bi-caret-down-fill h6 mb-0"></i></div>',1),r={class:"card border-dark"},c={class:"card-body"},u={class:"table align-middle table-hover"},m=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col",style:{width:"30%"}},"Product"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Type"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Size"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Price"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Inventory"),(0,o.Lk)("th",{scope:"col",style:{width:"15%"}},"Status"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Edit")])],-1),p={class:"d-flex align-items-center"},k=["src"],b={class:"list-unstyled mb-0"},g={class:"list-unstyled mb-0"},h={class:"list-unstyled mb-0"},L=["onClick"],f=["onClick"],y=["onClick"];function v(t,e,a,v,D,C){const $=(0,o.g2)("AddEditModal");return(0,o.uX)(),(0,o.CE)("section",s,[(0,o.bF)($,{ref:"addEdit",addEditData:D.tempData},null,8,["addEditData"]),(0,o.Lk)("div",i,[(0,o.Lk)("div",d,[n,(0,o.Lk)("div",null,[(0,o.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=t=>C.openModal(!0))}," cearte product ")])])]),(0,o.Lk)("div",r,[(0,o.Lk)("div",c,[(0,o.Lk)("table",u,[m,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(D.productList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e._id},[(0,o.Lk)("th",null,[(0,o.Lk)("div",p,[(0,o.Lk)("img",{src:e.image,style:{width:"5rem"},alt:"",class:"me-3"},null,8,k),(0,o.eW)(" "+(0,l.v_)(t.$t(e.title)),1)])]),(0,o.Lk)("td",null,(0,l.v_)(e.category),1),(0,o.Lk)("td",null,[(0,o.Lk)("ul",b,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,e)=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:"border-bottom"},(0,l.v_)(t.size),1)))),128))])]),(0,o.Lk)("td",null,[(0,o.Lk)("ul",g,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,e)=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:"border-bottom"},"$"+(0,l.v_)(t.price),1)))),128))])]),(0,o.Lk)("td",null,[(0,o.Lk)("ul",h,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,e)=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:"border-bottom"},(0,l.v_)(t.stock),1)))),128))])]),(0,o.Lk)("td",null,[e.is_enable?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn btn-secondary",onClick:t=>C.toggleStatus(e)}," PUBLISHED ",8,L)):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn btn-warning",onClick:t=>C.toggleStatus(e)}," UNPUBLISHED ",8,f))]),(0,o.Lk)("td",null,[(0,o.Lk)("button",{class:"btn btn-primary",onClick:t=>C.openModal(!1,e)}," EDIT ",8,y)])])))),128))])])])])])}a(4114);var D=a(185),C=a(1227),$=a(2905),E={data(){return{staticBackdrop:"",productList:[],tempData:{}}},components:{AddEditModal:$.A},methods:{toggleStatus(t){this.$emitter.emit("loadingStatus",!0);const e={...t};e.is_enable=!e.is_enable,(0,D.Gx)(t._id,e).then((()=>{this.getProducts()})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))},getProducts(){this.$emitter.emit("loadingStatus",!0),(0,D.eT)().then((t=>{this.productList=t.data.data})).catch((t=>{console.log(t)})),this.$emitter.emit("loadingStatus",!1)},openModal(t,e){this.tempData=t?{_id:"",title:"",comment:"",category:"cake",image:"",images:[],options:[{size:"",price:100,stock:10}]}:e,this.$refs.addEdit.toggleModal()},checkSignIn(){const t=(0,C.g)();t?this.$http.defaults.headers.common.Authorization=`Bearer ${t}`:this.$router.push("/backend")}},mounted(){this.getProducts(),this.$emitter.on("getProducts",(()=>{this.getProducts()}))},created(){this.checkSignIn()}},x=a(6262);const w=(0,x.A)(E,[["render",v]]);var F=w}}]);
//# sourceMappingURL=170.8cfd3997.js.map