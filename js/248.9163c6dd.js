"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[248],{1200:function(t,e,i){i.d(e,{Z:function(){return u}});var a=i(6252),o=i(3577);const s=t=>((0,a.dD)("data-v-580516b6"),t=t(),(0,a.Cn)(),t),l=s((()=>(0,a._)("path",{class:"hover-path",fill:"none",stroke:"#333","stroke-miterlimit":"10","stroke-width":"4px",d:"M51.36,8.75q-9.14-.64-18.3-.85-4.92-.16-9.85,0c-3.22.23-6.62.7-9.39,2.49A21.08,21.08,0,0,0,8,16.62,17.68,17.68,0,0,0,5.8,21.85c-.68,2.42-1.13,4.43-.48,6.94,1,3.79,3.48,7,6,9.91a60.49,60.49,0,0,0,15,12.44C33.6,55.43,41.8,57.88,49.91,60a144.68,144.68,0,0,0,27.72,4.25c10.65.62,21.78.65,32.27-1.6a48.14,48.14,0,0,0,10.86-3.49,16.81,16.81,0,0,0,6-4.33,11,11,0,0,0,1.91-9.37c-1.11-5.29-4.53-9.43-8.55-12.91a71.43,71.43,0,0,0-17.8-10.19Q89.91,17.05,77.08,13C66.09,9.53,54.58,6,43,5.14a32.64,32.64,0,0,0-8.67.34"},null,-1))),n=[l];function r(t,e,i,s,l,r){return(0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -4 140.93 80.58",class:(0,o.C_)(["hex position-absolute top-50 start-50 translate-middle",l.setting])},n,2)}var c={data(){return{setting:"circle-1"}}},d=i(3744);const p=(0,d.Z)(c,[["render",r],["__scopeId","data-v-580516b6"]]);var u=p},1230:function(t,e,i){i.d(e,{Z:function(){return u}});var a=i(6252),o=i(3577);const s=t=>((0,a.dD)("data-v-7bcbdb97"),t=t(),(0,a.Cn)(),t),l=s((()=>(0,a._)("path",{fill:"none",stroke:"#333","stroke-miterlimit":"10","stroke-width":"10px",class:"hover-path",d:"M104.1,58.5c-25.8,0.1-54.1,3.7-75,20.2c-6.4,5-11.8,11-13.7,19.1c-2.3,9.3,5.9,20.1,13,24.8\nc14.3,9.3,31.5,10.9,48,12.5c36.1,3.7,72.4,3,108.6,1.3c25-1.1,49.9-3.6,74.7-7.4c21.3-2.2,42.4-6.3,63-12.2\nc9.3-3.2,18.6-6.4,27.9-9.6c11-2.4,19.7-8,26.2-16.8c-4.6-10.3-12.3-17.4-23.1-21.2c-17.4-11.4-36.1-20.4-55.9-27\nc-33.5-12.8-71.9-23.1-108-25.8c-17.8-1.3-37.2-2.9-54.7,1.4c-5.4,1.3-11.6,2.5-14.6,7.7"},null,-1))),n=[l];function r(t,e,i,s,l,r){return(0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 394.1 152.8",class:(0,o.C_)(["hex1 position-absolute top-50 start-50 translate-middle",l.setting])},n,2)}var c={data(){return{setting:"circle-2"}}},d=i(3744);const p=(0,d.Z)(c,[["render",r],["__scopeId","data-v-7bcbdb97"]]);var u=p},1248:function(t,e,i){i.r(e),i.d(e,{default:function(){return Yt}});var a=i(6252);const o={class:"card-group row w-tab"},s={class:"card col-sm-6 p-0"},l={class:"card col-sm-6"},n={class:"card-group row"},r={class:"card px-0 border-2"};function c(t,e,i,c,d,p){const u=(0,a.up)("ProductInformation"),m=(0,a.up)("ShopProcess"),h=(0,a.up)("CartList");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("section",o,[(0,a._)("div",s,[(0,a.Wm)(u)]),(0,a._)("div",l,[(0,a.Wm)(m,{products:d.productList,onAddCart:p.addCart},null,8,["products","onAddCart"])])]),(0,a._)("section",n,[(0,a._)("div",r,[(0,a.Wm)(h,{carts:d.cartList,onAddCart:p.addCart,onDeleteCart:p.deleteCart},null,8,["carts","onAddCart","onDeleteCart"])])])],64)}var d=i(3577);const p={class:"card-body p-0"},u={class:"border-bottom border-dark border-3 p-3"},m={class:"ps-4 pb-4"},h=(0,a.uE)('<nav aria-label="Page navigation example" style="margin-top:-2px;margin-right:-2px;"><ul class="pagination justify-content-end"><li class="page-item disabled"><a class="page-link border-2 border-dark rounded-0"><i class="bi bi-caret-left-fill"></i></a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">1</a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">2</a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">3</a></li><li class="page-item"><a class="page-link border-2 border-dark rounded-0" href="#"><i class="bi bi-caret-right-fill"></i></a></li></ul></nav>',1),_=["src"];function g(t,e,i,o,s,l){return(0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",u,[(0,a._)("div",null,[(0,a._)("h3",null,(0,d.zw)(s.product.title),1),(0,a._)("p",null,(0,d.zw)(s.product.comments),1),(0,a._)("p",null," 成分："+(0,d.zw)(s.product.ingredient),1)])]),(0,a._)("div",m,[h,(0,a._)("img",{src:this.product.image,alt:""},null,8,_)])])}var v={data(){return{product:{}}},mounted(){this.$emitter.on("infoData",(t=>{this.product=t}))}},b=i(3744);const f=(0,b.Z)(v,[["render",g]]);var y=f,C=i(9963);const k=t=>((0,a.dD)("data-v-da71d662"),t=t(),(0,a.Cn)(),t),w={class:"card-body"},x={class:"mb-4"},$={class:"mb-4"},D=k((()=>(0,a._)("h5",null,"TYPE：",-1))),z=["id","value"],q=["for"],L={class:"mb-4"},S=k((()=>(0,a._)("h5",null,"FLAVOR：",-1))),H=["id","value","onClick"],P=["for"],U={class:"mb-4"},Y=k((()=>(0,a._)("h5",null,"SIZE：",-1))),E=["id","value","onClick"],I=["for"],Z={class:"mb-4"},T=k((()=>(0,a._)("h5",null,"PRICE：",-1))),M={class:"ms-3"},A={class:"text-secondary"},B={class:"mb-4"},K=k((()=>(0,a._)("h5",{class:"text-uppercase"},"quantity：",-1))),F={"aria-label":"...",class:"me-4"},W={class:"pagination"},O={class:"page-item"},R={class:"page-item"},V={class:"page-link"},G={class:"page-item"},Q=k((()=>(0,a._)("i",{class:"bi bi-plus-lg"},null,-1))),j=[Q],J={class:""},N=k((()=>(0,a._)("h5",{class:"text-uppercase"},"total：",-1))),X={class:"fst-italic ms-3 h4 text-secondary luluText"},tt=k((()=>(0,a._)("i",{class:"bi bi-caret-right-fill"},null,-1)));function et(t,e,i,o,s,l){const n=(0,a.up)("CircleTwo"),r=(0,a.up)("CircleOne"),c=(0,a.up)("CircleThree");return(0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("section",x,[(0,a._)("div",$,[D,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.types,((t,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[(0,a.wy)((0,a._)("input",{type:"radio",class:"btn-check",name:"options-type",id:`type${i}`,autocomplete:"off",value:t,"onUpdate:modelValue":e[0]||(e[0]=t=>s.option.type=t),onClick:e[1]||(e[1]=t=>{s.option.quantity=1})},null,8,z),[[C.G2,s.option.type]]),(0,a._)("label",{class:"btn border-0 position-relative me-4",for:`type${i}`},[(0,a.Uk)((0,d.zw)(t)+" ",1),(0,a.Wm)(n,{class:(0,d.C_)({"d-none":s.option.type!==t})},null,8,["class"])],8,q)],64)))),128))]),(0,a._)("div",L,[S,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.productList,((t,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[(0,a.wy)((0,a._)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`flavor${i}`,autocomplete:"off",value:t.title,"onUpdate:modelValue":e[2]||(e[2]=t=>s.option.flavor=t),onClick:e=>{s.tempProduct=t,s.option.quantity=1}},null,8,H),[[C.G2,s.option.flavor]]),t.category===s.option.type?((0,a.wg)(),(0,a.iD)("label",{key:0,class:"btn border-0 position-relative",for:`flavor${i}`},[(0,a.Uk)((0,d.zw)(t.title)+" ",1),(0,a.Wm)(r,{class:(0,d.C_)({"d-none":t.title!==s.option.flavor})},null,8,["class"])],8,P)):(0,a.kq)("",!0)],64)))),128))]),(0,a._)("div",U,[Y,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.productList,((t,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.options,((i,o)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:o},[t.title===s.option.flavor?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,type:"radio",class:"btn-check me-md-4",name:"options-size",id:`size${o}`,autocomplete:"off",value:i._id,"onUpdate:modelValue":e[3]||(e[3]=t=>s.option.select=t),onClick:t=>{s.option.price=i.price,s.option.quantity=1}},null,8,E)),[[C.G2,s.option.select]]):(0,a.kq)("",!0),t.title===s.option.flavor?((0,a.wg)(),(0,a.iD)("label",{key:1,class:"btn border-0 position-relative me-3",for:`size${o}`},[(0,a.Uk)((0,d.zw)(i.size)+" ",1),(0,a.Wm)(c,{class:(0,d.C_)({"d-none":i._id!==s.option.select})},null,8,["class"])],8,I)):(0,a.kq)("",!0)],64)))),128))],64)))),128))]),(0,a._)("div",Z,[T,(0,a._)("p",M,[(0,a.Uk)(" $ "),(0,a._)("span",A,(0,d.zw)(s.option.price),1),(0,a.Uk)(" / EACH ")])]),(0,a._)("div",B,[K,(0,a._)("nav",F,[(0,a._)("ul",W,[(0,a._)("li",O,[(0,a._)("a",{class:(0,d.C_)(["page-link rounded-0",{disabled:s.option.quantity<=1}]),href:"#",onClick:e[4]||(e[4]=(0,C.iM)((t=>s.option.quantity--),["prevent"]))},"-",2)]),(0,a._)("li",R,[(0,a._)("div",V,(0,d.zw)(s.option.quantity),1)]),(0,a._)("li",G,[(0,a._)("a",{class:(0,d.C_)(["page-link rounded-0",{disabled:s.option.quantity>=10}]),href:"#",onClick:e[5]||(e[5]=(0,C.iM)((t=>s.option.quantity++),["prevent"]))},j,2)])])])]),(0,a._)("div",J,[N,(0,a._)("div",X," $"+(0,d.zw)(this.$toCurrency(s.option.price*s.option.quantity)),1)])]),(0,a._)("button",{class:"btn btn-outline-primary rounded-0 mb-3",onClick:e[6]||(e[6]=e=>t.$emit("addCart",{productId:s.tempProduct._id,option:s.option}))},[tt,(0,a.Uk)("Add to Chart ")])])}i(560);var it=i(1200),at=i(1230),ot=i(5590),st={data(){return{tempProduct:{},productList:[],flavorList:[],types:["pie","cake","cookie"],option:{type:"pie",flavor:"",select:"",price:0,quantity:1}}},props:["products"],components:{CircleOne:it.Z,CircleTwo:at.Z,CircleThree:ot.Z},watch:{products(){this.productList=this.products,this.selectFlavor()},"option.type"(){this.selectFlavor()},"option.flavor"(){this.selectSize()},tempProduct(){this.$emitter.emit("infoData",this.tempProduct)}},methods:{selectFlavor(){this.flavorList=[],this.productList.forEach((t=>{this.option.type===t.category&&this.flavorList.push(t)})),this.option.flavor=this.flavorList[0].title,this.tempProduct=this.flavorList[0]},selectSize(){this.flavorList.forEach((t=>{t.title===this.option.flavor&&(this.sizeList=t.options)})),this.option.select=this.sizeList[0]._id,this.option.price=this.sizeList[0].price}}};const lt=(0,b.Z)(st,[["render",et],["__scopeId","data-v-da71d662"]]);var nt=lt;const rt=t=>((0,a.dD)("data-v-a719cc70"),t=t(),(0,a.Cn)(),t),ct={class:"card-body p-0"},dt={class:"table tableText tableSm table-bordered border-primary m-0"},pt=rt((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{scope:"col"},"PRODUCT"),(0,a._)("th",{scope:"col"},"SIZE"),(0,a._)("th",{scope:"col"},"PRICE"),(0,a._)("th",{scope:"col"},"Qty"),(0,a._)("th",{scope:"col"},"SUB")])],-1))),ut={class:"table-group-divider luluText"},mt={class:"d-flex align-items-center text-sm-nowrap"},ht={class:"text-center"},_t=["onClick"],gt=["onClick"],vt={key:0},bt=rt((()=>(0,a._)("td",{colspan:"2"},null,-1))),ft={class:"text-center"},yt=["onClick"],Ct=["onClick"],kt=rt((()=>(0,a._)("td",{colspan:"2"},[(0,a._)("div",{class:"d-flex align-items-center dashBottom"},[(0,a._)("i",{class:"bi bi-dot h3 text-danger mb-0"}),(0,a._)("h6",null,"pie")]),(0,a._)("div",{class:"d-flex align-items-center dashBottom"},[(0,a._)("i",{class:"bi bi-dot h3 text-info mb-0"}),(0,a._)("h6",null,"cake")]),(0,a._)("div",{class:"d-flex align-items-center"},[(0,a._)("i",{class:"bi bi-dot h3 text-secondary mb-0"}),(0,a._)("h6",null,"cookie")])],-1))),wt={colspan:"3",class:"align-middle"},xt=(0,a.uE)('<select class="form-select" aria-label="Default select example" data-v-a719cc70><option selected data-v-a719cc70>選擇折扣卷</option><option value="1" data-v-a719cc70>Line Friend -100</option><option value="2" data-v-a719cc70>BBB -50</option><option value="3" data-v-a719cc70>LULU So CUTE</option></select>',1),$t={colspan:"1",class:"text-sm-end text-center align-middle"},Dt=rt((()=>(0,a._)("i",{class:"bi bi-caret-right-fill"},null,-1)));function zt(t,e,i,o,s,l){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("section",ct,[(0,a._)("table",dt,[pt,(0,a._)("tbody",ut,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.cartList.carts,((e,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[(0,a._)("tr",null,[(0,a._)("td",null,(0,d.zw)(i+1),1),(0,a._)("td",null,[(0,a._)("div",mt,[(0,a._)("i",{class:(0,d.C_)(["bi bi-circle-fill me-1",{"text-danger":"pie"===e.product.category,"text-info":"cake"===e.product.category,"text-secondary":"cookie"===e.product.category}]),style:{"font-size":"8px"}},null,2),(0,a.Uk)((0,d.zw)(e.product.title),1)])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.option,((i,o)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:o},[0===o?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("td",null,(0,d.zw)(i.select.size),1),(0,a._)("td",null,"$"+(0,d.zw)(i.select.price),1),(0,a._)("td",ht,[(0,a._)("a",{href:"#",class:"me-1 text-decoration-none",onClick:(0,C.iM)((t=>l.cartStatus({num:i.quantity,productId:e.product._id,option:{select:i.select._id,quantity:-1}})),["prevent"])},"-",8,_t),(0,a._)("span",null,(0,d.zw)(i.quantity),1),(0,a._)("a",{href:"#",class:(0,d.C_)(["ms-1 text-decoration-none",{"d-none":i.quantity>=10}]),onClick:(0,C.iM)((a=>t.$emit("addCart",{productId:e.product._id,option:{select:i.select._id,quantity:1}})),["prevent"])},"+",10,gt)]),(0,a._)("td",null,"$"+(0,d.zw)(this.$toCurrency(i.quantity*i.select.price)),1)],64)):(0,a.kq)("",!0)],64)))),128))]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.option,((i,o)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:o},[1!==e.option.length&&0!==o?((0,a.wg)(),(0,a.iD)("tr",vt,[bt,(0,a._)("td",null,(0,d.zw)(i.select.size),1),(0,a._)("td",null,"$"+(0,d.zw)(i.select.price),1),(0,a._)("td",ft,[(0,a._)("a",{href:"#",class:"me-1 text-decoration-none",onClick:(0,C.iM)((t=>l.cartStatus({num:i.quantity,productId:e.product._id,option:{select:i.select._id,quantity:-1}})),["prevent"])},"-",8,yt),(0,a._)("span",null,(0,d.zw)(i.quantity),1),(0,a._)("a",{href:"#",class:(0,d.C_)(["ms-1 text-decoration-none",{"d-none":i.quantity>=10}]),onClick:(0,C.iM)((a=>t.$emit("addCart",{productId:e.product._id,option:{select:i.select._id,quantity:1}})),["prevent"])},"+",10,Ct)]),(0,a._)("td",null,"$"+(0,d.zw)(this.$toCurrency(i.quantity*i.select.price)),1)])):(0,a.kq)("",!0)],64)))),128))],64)))),128)),(0,a._)("tr",null,[kt,(0,a._)("td",wt,[xt,(0,a.Uk)(" total: $"+(0,d.zw)(this.$toCurrency(s.total)),1)]),(0,a._)("td",$t,[(0,a.Wm)(n,{to:"/shop/checkout",class:"border border-2 border-primary p-2"},{default:(0,a.w5)((()=>[Dt,(0,a.Uk)("CHECKOUT")])),_:1})])])])])])}var qt={data(){return{cartList:[],total:0,finalTotal:0}},props:["carts"],watch:{carts(){this.cartList=this.carts,this.populateCarts()}},methods:{cartStatus(t){1===t.num?this.$emit("deleteCart",t):this.$emit("addCart",t)},populateCarts(){this.total=0,this.cartList.carts.forEach((t=>{t.option.forEach((t=>{this.total+=t.select.price*t.quantity}))}))}}};const Lt=(0,b.Z)(qt,[["render",zt],["__scopeId","data-v-a719cc70"]]);var St=Lt,Ht=i(9241),Pt={data(){return{productList:[],cartList:[]}},components:{ShopProcess:nt,ProductInformation:y,CartList:St},methods:{getProducts(){this.$emitter.emit("loadingStatus",!0),(0,Ht.dx)().then((t=>{this.productList=t.data.data,this.$emitter.emit("loadingStatus",!1)})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))},addCart(t){this.$emitter.emit("loadingStatus",!0),(0,Ht.Ef)(t).then((()=>{this.$emitter.emit("loadingStatus",!1),this.getCarts(),this.$emitter.emit("getCarts")})).catch((t=>{console.log(t.response.data.message),this.$emitter.emit("loadingStatus",!1)}))},getCarts(){this.$emitter.emit("loadingStatus",!0),(0,Ht.MF)().then((t=>{this.cartList=t.data.data,this.$emitter.emit("loadingStatus",!1)})).catch((t=>{console.log(t.response.data.message),this.$emitter.emit("loadingStatus",!1)}))},deleteCart(t){this.$emitter.emit("loadingStatus",!0),(0,Ht.mF)({data:t}).then((()=>{this.$emitter.emit("loadingStatus",!1),this.$emitter.emit("messageModal",{status:!0,message:"Delete Product Option"}),this.getCarts(),this.$emitter.emit("getCarts")})).catch((()=>{this.$emitter.emit("loadingStatus",!1)}))}},mounted(){this.getProducts(),this.getCarts()}};const Ut=(0,b.Z)(Pt,[["render",c]]);var Yt=Ut}}]);
//# sourceMappingURL=248.9163c6dd.js.map