{"version":3,"file":"js/389.2a4c8ce8.js","mappings":"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","sources":["webpack://web/./src/components/order/OrderInfo.vue","webpack://web/./src/components/order/OrderInfo.vue?8de2"],"sourcesContent":["<template>\n  <div class=\"card border-0 h-100\">\n    {{ cookieList }}\n    <div class=\"card-body d-flex flex-column\">\n      <h5\n        class=\"card-title mb-2 text-body-secondary d-flex justify-content-between\"\n      >\n        <div>\n          {{ $t('orderView.orderStatus') }}：<span\n            class=\"fst-italic text-secondary\"\n            v-if=\"tempData.mealStatus === 25\"\n          >\n            {{ $t('orderView.payment') }}</span\n          >\n          <span\n            class=\"fst-italic text-secondary\"\n            v-else-if=\"tempData.mealStatus === 50\"\n            >{{ $t('orderView.diningOut') }}</span\n          >\n          <span class=\"fst-italic text-secondary\" v-else>{{\n            $t('orderView.finish')\n          }}</span>\n        </div>\n        <button\n          @click.prevent=\"cancleOrder(tempData._id)\"\n          class=\"card-link h6 text-decoration-underline border-0 bg-body\"\n          :class=\"{\n            'text-decoration-line-through': tempData.mealStatus !== 25,\n          }\"\n          :disabled=\"tempData.mealStatus !== 25\"\n        >\n          取消訂單\n        </button>\n      </h5>\n      <div\n        class=\"progress mb-3\"\n        role=\"progressbar\"\n        aria-label=\"Animated striped example\"\n        aria-valuenow=\"75\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n      >\n        <div\n          class=\"progress-bar progress-bar-striped progress-bar-animated\"\n          :style=\"`width: ${tempData.mealStatus}%`\"\n        ></div>\n      </div>\n      <p class=\"card-text\">目前尚未付款，請選擇付款方式</p>\n      <div class=\"card-text mb-3\">\n        <ol>\n          <template v-for=\"(item, index) in tempData.productList\" :key=\"index\">\n            <li class=\"border-bottom mb-3\">\n              <div clas=\"w-100\">\n                <h5\n                  class=\"mb-0 d-flex justify-content-between align-items-center w-100\"\n                  :class=\"{\n                    'text-decoration-line-through':\n                      tempData.mealStatus === '100%',\n                  }\"\n                >\n                  <div>\n                    {{ $t(item.flavor) }} - ${{ item.price }} X\n                    {{ item.qty }}\n                  </div>\n                  <div>${{ item.price * item.qty }}</div>\n                </h5>\n                <p\n                  v-if=\"item.type === 'drink' || item.type === 'coffee'\"\n                  class=\"mb-0 text-dark-emphasis\"\n                >\n                  {{ $t('orderView.size') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ item.size }}</span\n                  >, {{ $t('orderView.ice') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ $t(iceList[item.ice].title) }}</span\n                  >, {{ $t('orderView.sugar') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ $t(sugarList[item.sugar].title) }}</span\n                  >\n                </p>\n              </div>\n            </li>\n          </template>\n        </ol>\n        <div class=\"d-flex justify-content-between\">\n          <h4 class=\"fw-bold\">{{ $t('orderView.total') }}：</h4>\n          <h4 class=\"fw-bold\">${{ $toCurrency(1080) }}</h4>\n        </div>\n      </div>\n      <div class=\"card-footer\">\n        <h5>付款方式：</h5>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Cookies from 'js-cookie';\nimport iceOption from '@/assets/json/iceOption.json';\nimport sugarOption from '@/assets/json/sugarOption.json';\nimport { apiDeleteOrder } from '@/assets/javascript/api';\n\nexport default {\n  data() {\n    return {\n      cookieList: [],\n      tempData: {},\n      iceList: iceOption,\n      sugarList: sugarOption,\n      tempCookie: '',\n    };\n  },\n  methods: {\n    cancleOrder(id) {\n      if (this.tempData.mealStatus === 25) {\n        apiDeleteOrder(id)\n          .then((res) => {\n            console.log(res);\n            const orderNum = this.cookieList.findIndex(\n              (element) => element.optionId === id,\n            );\n            this.cookieList.splice(orderNum, 1);\n            // 檢查cookieList是否還有order\n            if (this.cookieList.length === 0) {\n              Cookies.remove('luluBakeOrder');\n            } else {\n              this.tempCookie = '';\n              this.cookieList.forEach((item) => {\n                this.tempCookie += `${JSON.stringify(item)};`;\n              });\n              this.tempCookie = this.tempCookie.replace(/.$/, '');\n              Cookies.set('luluBakeOrder', this.tempCookie);\n            }\n            this.$emitter.emit('getCookieOrder');\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n  },\n  mounted() {\n    this.$emitter.on('getOrderData', (e) => {\n      this.tempData = e;\n    });\n    if (Cookies.get('luluBakeOrder')) {\n      const tempCookie = Cookies.get('luluBakeOrder').split(';');\n      Object.values(tempCookie).forEach((item) => {\n        this.cookieList.push(JSON.parse(item));\n      });\n      this.cookieList.reverse();\n    }\n  },\n};\n</script>\n","import { render } from \"./OrderInfo.vue?vue&type=template&id=6979d1d4\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","role","_createElementVNode","clas","_createElementBlock","_hoisted_1","_createTextVNode","_toDisplayString","$data","cookieList","_hoisted_2","_hoisted_3","_ctx","$t","tempData","mealStatus","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","_withModifiers","$event","$options","cancleOrder","_id","_normalizeClass","disabled","_hoisted_7","_hoisted_8","style","_normalizeStyle","_hoisted_9","_hoisted_10","_Fragment","_renderList","productList","item","index","_hoisted_11","flavor","price","qty","type","_hoisted_12","_hoisted_13","size","_hoisted_14","iceList","ice","title","_hoisted_15","sugarList","sugar","_createCommentVNode","_hoisted_16","_hoisted_17","_hoisted_18","$toCurrency","_hoisted_19","data","iceOption","sugarOption","tempCookie","methods","id","this","apiDeleteOrder","then","res","console","log","orderNum","findIndex","element","optionId","splice","length","Cookies","remove","forEach","JSON","stringify","replace","set","$emitter","emit","catch","err","mounted","on","e","get","split","Object","values","push","parse","reverse","__exports__","render"],"sourceRoot":""}