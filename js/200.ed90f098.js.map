{"version":3,"file":"js/200.ed90f098.js","mappings":"mLAEEA,EAAAA,EAAAA,GAAiD,MAA7CC,MAAM,4BAA2B,WAAO,G,GAErCA,MAAM,sB,GAEFC,IAAI,iB,GAIRD,MAAM,sB,GAEFC,IAAI,iB,sJAVfC,GACAC,EAAAA,EAAAA,IAqBQC,EAAA,CArBDC,IAAI,gBAAmCC,SAAQC,EAAAC,O,mBACpD,EADmCC,UAAI,EACvCV,EAAAA,EAAAA,GAKM,MALNW,EAKM,EAJJP,EAAAA,EAAAA,IAAgFQ,EAAA,CAAxEC,KAAK,QAAQC,KAAK,QAAQC,MAAM,iBAAiBd,MAAM,kBAC/DD,EAAAA,EAAAA,GAEU,QAFVgB,EAEU,UADP,kBAAaZ,EAAAA,EAAAA,IACda,EAAA,CAD4BJ,KAAK,QAAQZ,MAAM,0BAGnDD,EAAAA,EAAAA,GAKM,MALNkB,EAKM,EAJJd,EAAAA,EAAAA,IAAgFQ,EAAA,CAAxEC,KAAK,WAAWZ,MAAM,eAAea,KAAK,WAAWC,MAAM,cACnEf,EAAAA,EAAAA,GAEU,QAFVmB,EAEU,UADP,aAAQf,EAAAA,EAAAA,IACTa,EAAA,CADuBJ,KAAK,WAAWZ,MAAM,0BAGjDD,EAAAA,EAAAA,GAOS,UANPc,KAAK,SACLb,OAAKmB,EAAAA,EAAAA,IAAA,CAAC,kBAAiB,aACAV,EAAKW,SAC3BC,UAAWZ,EAAKW,OAClB,YAED,GAAAE,M,+CAOJ,GACEC,QAAS,CACPf,KAAAA,CAAMgB,GACJC,KAAKC,SAASC,KAAK,iBAAiB,IACpCC,EAAAA,EAAAA,IAAeJ,GACZK,MAAMC,IACL,MAAMC,EAAU,IAAIC,KAAKA,KAAKC,MAAQ,OAAqBC,cAC3DC,SAASC,OAAU,mBAAkBN,EAAIO,KAAKA,KAAKC,kBAAkBP,YACrEN,KAAKC,SAASC,KAAK,iBAAiB,GACpCF,KAAKc,QAAQC,KAAK,sBAClBf,KAAKC,SAASC,KAAK,eAAgB,CAAEc,QAAQ,EAAMC,QAAS,4BAA6B,IAE1FC,OAAOC,IACNnB,KAAKC,SAASC,KAAK,eAAgB,CACjCc,QAAQ,EACRC,QAASE,EAAMC,SAASR,KAAKK,UAE/BjB,KAAKC,SAASC,KAAK,iBAAiB,EAAM,GAEhD,EACAmB,WAAAA,GAEE,MAAMR,EAAQH,SAASC,OAAOW,QAC5B,wDACA,MAEET,IACFb,KAAKuB,MAAMC,SAASC,QAAQC,OAAOC,cAAiB,UAASd,IAC7Db,KAAKc,QAAQC,KAAK,sBAEtB,GAEFa,OAAAA,GACE5B,KAAKqB,aACP,G,UC3DF,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://web/./src/views/dashboard/LoginView.vue","webpack://web/./src/views/dashboard/LoginView.vue?9d14"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <h4 class=\"titleText text-uppercase\">Sign In</h4>\n  <VForm ref=\"formRefSignin\" v-slot=\"{ meta }\" @submit=\"logIn\">\n    <div class=\"form-floating mb-3\">\n      <VField name=\"email\" type=\"email\" rules=\"required|email\" class=\"form-control\" />\n      <label for=\"floatingInput\"\n        >Email address<ErrorMessage name=\"email\" class=\"text-danger ms-3\"\n      /></label>\n    </div>\n    <div class=\"form-floating mb-3\">\n      <VField name=\"password\" class=\"form-control\" type=\"password\" rules=\"required\" />\n      <label for=\"floatingInput\"\n        >Password<ErrorMessage name=\"password\" class=\"ms-3 text-danger\"\n      /></label>\n    </div>\n    <button\n      type=\"submit\"\n      class=\"btn btn-primary\"\n      :class=\"{ 'btn-info': !meta.valid }\"\n      :disabled=\"!meta.valid\"\n    >\n      Sign In\n    </button>\n  </VForm>\n</template>\n\n<script>\nimport { apiAdminSignIn } from '@/assets/javascript/api';\n\nexport default {\n  methods: {\n    logIn(e) {\n      this.$emitter.emit('loadingStatus', true);\n      apiAdminSignIn(e)\n        .then((res) => {\n          const expries = new Date(Date.now() + 48 * 1000 * 60 * 30).toGMTString();\n          document.cookie = `LULU-Bake-Admin=${res.data.data.token}; expires=${expries}; path=/`;\n          this.$emitter.emit('loadingStatus', false);\n          this.$router.push('/dashboard/profile');\n          this.$emitter.emit('messageModal', { status: true, message: 'Admin Login Successfully' });\n        })\n        .catch((error) => {\n          this.$emitter.emit('messageModal', {\n            status: false,\n            message: error.response.data.message,\n          });\n          this.$emitter.emit('loadingStatus', false);\n        });\n    },\n    checkSignIn() {\n      // 取得 cookie 中的 token\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)LULU-Bake-Admin\\s*=\\s*([^;]*).*$)|^.*$/,\n        '$1',\n      );\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = `Bearer ${token}`;\n        this.$router.push('/dashboard/profile');\n      }\n    },\n  },\n  created() {\n    this.checkSignIn();\n  },\n};\n</script>\n","import { render } from \"./LoginView.vue?vue&type=template&id=588a874b\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","_hoisted_1","_createVNode","_component_VForm","ref","onSubmit","$options","logIn","meta","_hoisted_2","_component_VField","name","type","rules","_hoisted_3","_component_ErrorMessage","_hoisted_4","_hoisted_5","_normalizeClass","valid","disabled","_hoisted_6","methods","e","this","$emitter","emit","apiAdminSignIn","then","res","expries","Date","now","toGMTString","document","cookie","data","token","$router","push","status","message","catch","error","response","checkSignIn","replace","$http","defaults","headers","common","Authorization","created","__exports__","render"],"sourceRoot":""}