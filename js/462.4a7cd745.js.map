{"version":3,"file":"js/462.4a7cd745.js","mappings":"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","sources":["webpack://web/./src/components/user/ProfileModel.vue","webpack://web/./src/components/user/ProfileModel.vue?6b16"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/form-control-has-label -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <div class=\"card-body\">\n    {{profile}}\n    <VForm v-slot=\"{ errors, meta }\">\n      <table class=\"table align-middle table-light table-striped-columns\">\n        <tbody>\n          <!-- id -->\n          <tr>\n            <th scope=\"row\" class=\"\">會員帳號<br />ID</th>\n            <td>\n              {{ profile.email }}\n            </td>\n          </tr>\n          <!-- birth -->\n          <tr>\n            <th scope=\"row\">生日<br />Birth</th>\n            <td>{{ profile.birth }}</td>\n          </tr>\n          <!-- name -->\n          <tr>\n            <th scope=\"row\">姓名<br />Name</th>\n            <td>\n              <VField name=\"姓名\" type=\"text\" rules=\"required\" v-model=\"profile.name\" />\n              <ErrorMessage name=\"姓名\" class=\"text-danger ms-3\" />\n            </td>\n          </tr>\n          <!-- gender -->\n          <tr>\n            <th scope=\"row\">性別<br />Gender</th>\n            <td>\n              <VField name=\"gender\" type=\"radio\" value=\"男\" v-model=\"profile.gender\" /> 男\n              <VField name=\"gender\" type=\"radio\" value=\"女\" v-model=\"profile.gender\" /> 女\n              <VField name=\"gender\" type=\"radio\" value=\"不提供\" v-model=\"profile.gender\" /> 不提供\n              <ErrorMessage name=\"gender\" />\n            </td>\n          </tr>\n          <!-- phone -->\n          <tr>\n            <th scope=\"row\">行動電話<br />Mobile</th>\n            <td>\n              <VField\n                name=\"電話\"\n                type=\"text\"\n                :class=\"{ 'is-invalid': errors['電話'] }\"\n                :rules=\"isPhone\"\n                v-model=\"profile.phone\"\n              />\n              <ErrorMessage name=\"電話\" class=\"text-danger ms-3\" />\n            </td>\n          </tr>\n          <!-- address -->\n          <tr>\n            <th scope=\"row\">聯絡地址<br />Location</th>\n            <td>\n              <div class=\"\">本地址將作為您日後購物預設寄送地址，請勿填寫郵政信箱</div>\n              <div class=\"d-flex mb-2\">\n                <VField name=\"city\" as=\"select\" class=\"form-select\" @change=\"changeTown\">\n                  <option value=\"\" disabled>Select a town</option>\n                  <template v-for=\"(item, id) in cityList\" :key=\"id\">\n                    <option :value=\"item.name\">{{ item.name }}</option>\n                  </template>\n                </VField>\n                <VField name=\"township\" as=\"select\" class=\"form-select ms-2\" @change=\"changePostal\">\n                  <option value=\"\" disabled>Select a town</option>\n                  <template v-for=\"item in townList\" :key=\"item.CODE\">\n                    <option :value=\"item.name\">{{ item.name }}</option>\n                  </template>\n                </VField>\n                <input type=\"text\" class=\"ms-2 col-1 text-center\" disabled />\n              </div>\n              <VField name=\"地址\" type=\"text\" class=\"form-control\" />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"text-center\">\n        <button\n          type=\"button\"\n          :class=\"{ 'btn-info': !meta.valid }\"\n          :disabled=\"!meta.valid\"\n          class=\"btn btn-dark\"\n          @click=\"$emit('modify', this.user)\"\n        >\n          確認修改\n        </button>\n      </div>\n    </VForm>\n  </div>\n</template>\n\n<script>\nexport default {\n  inheritAttrs: false, // 移除不必要警告\n  data() {\n    return {\n      profile: {},\n      cityList: [],\n      townList: [],\n      isLoading: false,\n    };\n  },\n  props: ['user'],\n  watch: {\n    user() {\n      this.profile = { ...this.user };\n    },\n  },\n  methods: {\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n    getMap() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}/api/map/getMap`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.cityList = res.data.data;\n          this.changeTown();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          console.log(error);\n          this.isLoading = false;\n        });\n    },\n    changeTown() {\n      this.cityList.forEach((item) => {\n        if (item.name === this.user.address.city) {\n          this.townList = item.districts;\n        }\n      });\n    },\n    changePostal() {\n      this.townList.forEach((item) => {\n        if (item.name === this.user.address.town) {\n          // this.user.address.postalCode = item.zip;\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./ProfileModel.vue?vue&type=template&id=40b62e48\"\nimport script from \"./ProfileModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","value","disabled","type","_createElementBlock","_hoisted_1","$data","profile","_createVNode","_component_VForm","errors","meta","_hoisted_2","_hoisted_3","_toDisplayString","email","_hoisted_4","birth","_hoisted_5","_component_VField","name","rules","$event","_component_ErrorMessage","_hoisted_6","gender","_hoisted_7","_normalizeClass","$options","isPhone","phone","_hoisted_8","_hoisted_9","_hoisted_10","as","onChange","changeTown","_hoisted_11","_Fragment","_renderList","cityList","item","id","_hoisted_12","changePostal","_hoisted_13","townList","CODE","_hoisted_14","_hoisted_15","_hoisted_16","valid","onClick","_cache","_ctx","$emit","this","user","_hoisted_17","inheritAttrs","data","isLoading","props","watch","methods","phoneNumber","test","getMap","api","$http","get","then","res","catch","error","console","log","forEach","address","city","districts","town","__exports__","render"],"sourceRoot":""}