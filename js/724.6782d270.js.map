{"version":3,"file":"js/724.6782d270.js","mappings":"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","sources":["webpack://web/./src/assets/javascript/api.js","webpack://web/./src/components/models/MessageModal.vue","webpack://web/./src/components/models/MessageModal.vue?7b94","webpack://web/./src/components/user/ProfileModel.vue","webpack://web/./src/components/user/ProfileModel.vue?6b16"],"sourcesContent":["import axios from 'axios';\n\nconst api = process.env.VUE_APP_API;\n\n// users\nexport const apiUserSignUp = (data) => axios.post(`${api}/user/sign_up`, data);\nexport const apiUserSignIn = (data) => axios.post(`${api}/user/sign_in`, data);\nexport const apiGetProfile = () => axios.get(`${api}/user/profile`);\nexport const apiUpdateProfile = (data) => axios.patch(`${api}/user/profile`, data);\nexport const apiUpdatePassword = (data) => axios.post(`${api}/user/updatePassword`, data);\n\n// products\nexport const apiGetProducts = () => axios.get(`${api}/products`);\n\n// carts\nexport const apiGetCarts = () => axios.get(`${api}/carts`);\nexport const apiPostCart = (data) => axios.post(`${api}/cart`, data);\nexport const apiDeleteCart = (data) => axios.delete(`${api}/cart`, data);\nexport const apiPatchCart = (data) => axios.patch(`${api}/cart`, data);\n","<template>\n  <div\n    class=\"modal fade\"\n    ref=\"messageModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"alert alert-danger border-2 border-danger rounded-0\" role=\"alert\" v-if=\"!status\">\n        <i class=\"bi bi-exclamation-triangle me-2\"></i>{{ message }}\n      </div>\n      <div class=\"alert alert-primary border-2 border-primary rounded-0\" role=\"alert\" v-else>\n        <i class=\"bi bi-check-square me-2\"></i>{{ message }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Modal } from 'bootstrap';\n\nexport default {\n  data() {\n    return {\n      messageModal: '',\n      message: '',\n      status: false,\n    };\n  },\n  methods: {\n    openModal(e, data) {\n      this.status = e;\n      this.message = data;\n      this.messageModal.show();\n    },\n  },\n  mounted() {\n    this.messageModal = new Modal(this.$refs.messageModal);\n  },\n};\n</script>\n","import { render } from \"./MessageModal.vue?vue&type=template&id=73aa513d\"\nimport script from \"./MessageModal.vue?vue&type=script&lang=js\"\nexport * from \"./MessageModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- eslint-disable vuejs-accessibility/form-control-has-label -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <MessageModal ref=\"message\" />\n  <VForm v-slot=\"{ meta }\" @submit=\"updateProfile\">\n    <table class=\"table align-middle table-light table-striped-columns\">\n      <tbody>\n        <!-- id -->\n        <tr>\n          <th scope=\"row\" class=\"\">會員帳號<br />ID</th>\n          <td>\n            {{ profile.email }}\n          </td>\n        </tr>\n        <!-- birth -->\n        <tr>\n          <th scope=\"row\">生日<br />Birth</th>\n          <td>{{ profile.birth }}</td>\n        </tr>\n        <!-- phone -->\n        <tr>\n          <th scope=\"row\">行動電話<br />Mobile</th>\n          <td>\n            {{ profile.phone }}\n          </td>\n        </tr>\n        <!-- name -->\n        <tr>\n          <th scope=\"row\">姓名<br />Name</th>\n          <td>\n            <VField name=\"name\" type=\"text\" rules=\"required\" v-model=\"profile.name\" />\n            <ErrorMessage name=\"name\" class=\"text-danger ms-3\" />\n          </td>\n        </tr>\n        <!-- address -->\n        <tr>\n          <th scope=\"row\">收件地址<br />Location</th>\n          <td>\n            <div class=\"\">Shipping address, please do not fill in email address</div>\n            <div class=\"d-flex mb-2\">\n              <VField name=\"city\" as=\"select\" class=\"form-select\" v-model=\"address.city\">\n                <template v-for=\"(item, index) in districts\" :key=\"index\">\n                  <option :value=\"item.name\">{{ item.name }}</option>\n                </template>\n              </VField>\n              <VField name=\"town\" as=\"select\" class=\"form-select ms-2\" v-model=\"address.town\">\n                <template v-for=\"(item, index) in townList\" :key=\"index\">\n                  <option :value=\"item.name\">{{ item.name }}</option>\n                </template>\n              </VField>\n              <VField\n                name=\"zip\"\n                type=\"text\"\n                disabled\n                class=\"ms-2 col-md-1 col-2 text-center\"\n                v-model=\"address.zip\"\n              />\n            </div>\n            <VField\n              name=\"street\"\n              type=\"text\"\n              rules=\"required\"\n              class=\"form-control\"\n              v-model=\"address.street\"\n            />\n            <ErrorMessage name=\"street\" class=\"text-danger ms-3\" />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"text-center\">\n      <button\n        type=\"submit\"\n        :class=\"{ 'btn-info': !meta.valid }\"\n        :disabled=\"!meta.valid\"\n        class=\"btn btn-primary rounded-0\"\n      >\n        Update\n      </button>\n    </div>\n  </VForm>\n</template>\n\n<script>\nimport TWdistricts from '@/assets/taiwan_districts.json';\nimport { apiGetProfile, apiUpdateProfile } from '@/assets/javascript/api';\nimport MessageModal from '../models/MessageModal.vue';\n\nexport default {\n  inheritAttrs: false, // 移除不必要警告\n  data() {\n    return {\n      profile: {},\n      address: {},\n      districts: TWdistricts,\n      townList: [],\n    };\n  },\n  watch: {\n    // eslint-disable-next-line object-shorthand\n    'address.city'() {\n      this.districts.forEach((item) => {\n        if (this.address.city === item.name) {\n          this.townList = item.districts;\n        }\n      });\n      const isExit = this.townList.findIndex((item) => item.name === this.address.town);\n      if (isExit === -1) {\n        this.address.town = this.townList[0].name;\n      }\n    },\n    // eslint-disable-next-line object-shorthand\n    'address.town'() {\n      this.townList.forEach((item) => {\n        if (this.address.town === item.name) {\n          this.address.zip = item.zip;\n        }\n      });\n    },\n  },\n  components: {\n    MessageModal,\n  },\n  methods: {\n    getProfile() {\n      this.$emitter.emit('loadingStatus', true);\n      apiGetProfile()\n        .then((res) => {\n          this.profile = res.data.data;\n          this.address = res.data.data.address;\n          this.$emitter.emit('loadingStatus', false);\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$emitter.emit('loadingStatus', false);\n        });\n    },\n    updateProfile(e) {\n      this.$emitter.emit('loadingStatus', true);\n      apiUpdateProfile(e)\n        .then((res) => {\n          this.$emitter.emit('loadingStatus', false);\n          if (res.data.status) {\n            this.$refs.message.openModal(true, 'Successfully modified');\n            this.getProfile();\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          this.$refs.message.openModal(false, err.response.data.message);\n          this.$emitter.emit('loadingStatus', false);\n        });\n    },\n  },\n  mounted() {\n    this.getProfile();\n  },\n};\n</script>\n","import { render } from \"./ProfileModel.vue?vue&type=template&id=00ec665c\"\nimport script from \"./ProfileModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["api","process","apiUserSignUp","data","axios","post","apiUserSignIn","apiGetProfile","get","apiUpdateProfile","patch","apiUpdatePassword","apiGetProducts","apiGetCarts","apiPostCart","apiDeleteCart","delete","apiPatchCart","class","ref","tabindex","role","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","$data","status","_hoisted_5","_hoisted_6","message","_hoisted_3","_hoisted_4","messageModal","methods","openModal","e","this","show","mounted","Modal","$refs","__exports__","render","scope","_createVNode","_component_MessageModal","_component_VForm","onSubmit","$options","updateProfile","meta","_toDisplayString","profile","email","birth","phone","_component_VField","name","type","rules","$event","_component_ErrorMessage","_hoisted_7","_hoisted_8","as","address","city","_Fragment","_renderList","districts","item","index","value","_hoisted_9","town","townList","_hoisted_10","disabled","zip","street","_hoisted_11","_normalizeClass","valid","_hoisted_12","inheritAttrs","TWdistricts","watch","forEach","isExit","findIndex","components","MessageModal","getProfile","$emitter","emit","then","res","catch","error","console","log","err","response"],"sourceRoot":""}