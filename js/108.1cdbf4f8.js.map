{"version":3,"file":"js/108.1cdbf4f8.js","mappings":"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","sources":["webpack://web/./src/components/order/OrderInfo.vue","webpack://web/./src/components/order/OrderInfo.vue?8de2"],"sourcesContent":["<template>\n  <div class=\"card border-0 h-100\">\n    <div class=\"card-body d-flex flex-column\">\n      <h5\n        class=\"card-title mb-2 text-body-secondary d-flex justify-content-between\"\n      >\n        <div>\n          {{ $t('orderView.orderStatus') }}：<span\n            class=\"fst-italic text-secondary\"\n            v-if=\"tempData.mealStatus === 25\"\n          >\n            {{ $t('orderView.payment') }}</span\n          >\n          <span\n            class=\"fst-italic text-secondary\"\n            v-else-if=\"tempData.mealStatus === 50\"\n            >{{ $t('orderView.diningOut') }}</span\n          >\n          <span class=\"fst-italic text-secondary\" v-else>{{\n            $t('orderView.finish')\n          }}</span>\n        </div>\n        <button\n          @click.prevent=\"cancleOrder(tempData._id)\"\n          class=\"card-link h6 text-decoration-underline border-0 bg-body\"\n          :class=\"{\n            'text-decoration-line-through': tempData.mealStatus !== 25,\n          }\"\n          :disabled=\"tempData.mealStatus !== 25\"\n        >\n          取消訂單\n        </button>\n      </h5>\n      <div\n        class=\"progress mb-3\"\n        role=\"progressbar\"\n        aria-label=\"Animated striped example\"\n        aria-valuenow=\"75\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n      >\n        <div\n          class=\"progress-bar progress-bar-striped progress-bar-animated\"\n          :style=\"`width: ${tempData.mealStatus}%`\"\n        ></div>\n      </div>\n      <p class=\"card-text\">目前尚未付款，請選擇付款方式</p>\n      <div class=\"card-text mb-3\">\n        <ol>\n          <template v-for=\"(item, index) in tempData.productList\" :key=\"index\">\n            <li class=\"border-bottom mb-3\">\n              <div clas=\"w-100\">\n                <h5\n                  class=\"mb-0 d-flex justify-content-between align-items-center w-100\"\n                  :class=\"{\n                    'text-decoration-line-through':\n                      tempData.mealStatus === '100%',\n                  }\"\n                >\n                  <div>\n                    {{ $t(item.flavor) }} - ${{ item.price }} X\n                    {{ item.qty }}\n                  </div>\n                  <div>${{ item.price * item.qty }}</div>\n                </h5>\n                <p\n                  v-if=\"item.type === 'drink' || item.type === 'coffee'\"\n                  class=\"mb-0 text-dark-emphasis\"\n                >\n                  {{ $t('orderView.size') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ item.size }}</span\n                  >, {{ $t('orderView.ice') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ $t(iceList[item.ice].title) }}</span\n                  >, {{ $t('orderView.sugar') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ $t(sugarList[item.sugar].title) }}</span\n                  >\n                </p>\n              </div>\n            </li>\n          </template>\n        </ol>\n        <div class=\"d-flex justify-content-between\">\n          <h4 class=\"fw-bold\">{{ $t('orderView.total') }}：</h4>\n          <h4 class=\"fw-bold\">${{ $toCurrency(1080) }}</h4>\n        </div>\n      </div>\n      <div class=\"card-footer\">\n        <h5>付款方式：</h5>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Cookies from 'js-cookie';\nimport iceOption from '@/assets/json/iceOption.json';\nimport sugarOption from '@/assets/json/sugarOption.json';\nimport { apiDeleteOrder } from '@/assets/javascript/api';\n\nexport default {\n  data() {\n    return {\n      cookieList: [],\n      tempData: {},\n      iceList: iceOption,\n      sugarList: sugarOption,\n      tempCookie: '',\n    };\n  },\n  methods: {\n    cancleOrder(id) {\n      console.log(id);\n      if (this.tempData.mealStatus === 25) {\n        apiDeleteOrder(id)\n          .then(() => {\n            const orderNum = this.cookieList.findIndex(\n              (element) => element.orderId === id,\n            );\n            this.cookieList.splice(orderNum, 1);\n            // 檢查cookieList是否還有order\n            if (this.cookieList.length === 0) {\n              Cookies.remove('luluBakeOrder');\n            } else {\n              this.tempCookie = '';\n              this.cookieList.forEach((item) => {\n                this.tempCookie += `${JSON.stringify(item)};`;\n              });\n              this.tempCookie = this.tempCookie.replace(/.$/, '');\n              Cookies.set('luluBakeOrder', this.tempCookie);\n            }\n            this.$emitter.emit('getCookieOrder');\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n  },\n  mounted() {\n    this.$emitter.on('getOrderData', (e) => {\n      this.tempData = e;\n    });\n    if (Cookies.get('luluBakeOrder')) {\n      const tempCookie = Cookies.get('luluBakeOrder').split(';');\n      Object.values(tempCookie).forEach((item) => {\n        this.cookieList.push(JSON.parse(item));\n      });\n      this.cookieList.reverse();\n    }\n  },\n};\n</script>\n","import { render } from \"./OrderInfo.vue?vue&type=template&id=71d203c8\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","role","_createElementVNode","clas","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createTextVNode","_toDisplayString","_ctx","$t","$data","tempData","mealStatus","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","_withModifiers","$event","$options","cancleOrder","_id","_normalizeClass","disabled","_hoisted_7","_hoisted_8","style","_normalizeStyle","_hoisted_9","_hoisted_10","_Fragment","_renderList","productList","item","index","_hoisted_11","flavor","price","qty","type","_hoisted_12","_hoisted_13","size","_hoisted_14","iceList","ice","title","_hoisted_15","sugarList","sugar","_createCommentVNode","_hoisted_16","_hoisted_17","_hoisted_18","$toCurrency","_hoisted_19","data","cookieList","iceOption","sugarOption","tempCookie","methods","id","console","log","this","apiDeleteOrder","then","orderNum","findIndex","element","orderId","splice","length","Cookies","remove","forEach","JSON","stringify","replace","set","$emitter","emit","catch","err","mounted","on","e","get","split","Object","values","push","parse","reverse","__exports__","render"],"sourceRoot":""}