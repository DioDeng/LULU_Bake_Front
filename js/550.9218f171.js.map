{"version":3,"file":"js/550.9218f171.js","mappings":"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","sources":["webpack://web/./src/components/models/AddressModal.vue","webpack://web/./src/components/models/AddressModal.vue?56a4","webpack://web/./src/components/user/ProfileModel.vue","webpack://web/./src/components/user/ProfileModel.vue?6b16"],"sourcesContent":["<template>\n  <div class=\"\">Shipping address, please do not fill in email address</div>\n  <div class=\"d-flex mb-2\">\n    <VField name=\"city\" as=\"select\" class=\"form-select\" v-model=\"address.city\">\n      <template v-for=\"(item, index) in districts\" :key=\"index\">\n        <option :value=\"item.name\">{{ item.name }}</option>\n      </template>\n    </VField>\n    <VField name=\"town\" as=\"select\" class=\"form-select ms-2\" v-model=\"address.town\">\n      <template v-for=\"(item, index) in townList\" :key=\"index\">\n        <option :value=\"item.name\">{{ item.name }}</option>\n      </template>\n    </VField>\n    <VField\n      name=\"zip\"\n      type=\"text\"\n      disabled\n      class=\"ms-2 col-md-1 col-2 text-center\"\n      v-model=\"address.zip\"\n    />\n  </div>\n  <VField\n    name=\"street\"\n    type=\"text\"\n    rules=\"required\"\n    class=\"form-control\"\n    v-model=\"address.street\"\n  />\n  <ErrorMessage name=\"street\" class=\"text-danger ms-3\" />\n</template>\n\n<script>\nimport TWdistricts from '@/assets/taiwan_districts.json';\n\nexport default {\n  inheritAttrs: false, // 移除不必要警告\n  data() {\n    return {\n      address: {},\n      districts: TWdistricts,\n      townList: [],\n    };\n  },\n  props: ['addressData'],\n  watch: {\n    addressData() {\n      this.address = this.addressData;\n    },\n    // eslint-disable-next-line object-shorthand\n    'address.city'() {\n      this.districts.forEach((item) => {\n        if (this.address.city === item.name) {\n          this.townList = item.districts;\n        }\n      });\n      const isExit = this.townList.findIndex((item) => item.name === this.address.town);\n      if (isExit === -1) {\n        this.address.town = this.townList[0].name;\n      }\n    },\n    // eslint-disable-next-line object-shorthand\n    'address.town'() {\n      this.townList.forEach((item) => {\n        if (this.address.town === item.name) {\n          this.address.zip = item.zip;\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./AddressModal.vue?vue&type=template&id=3fbca3a0\"\nimport script from \"./AddressModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddressModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <VForm v-slot=\"{ meta }\" @submit=\"updateProfile\">\n    <table class=\"table align-middle table-light table-striped-columns\">\n      <tbody>\n        <!-- id -->\n        <tr>\n          <th scope=\"row\" class=\"\">會員帳號<br />ID</th>\n          <td>\n            {{ profile.email }}\n          </td>\n        </tr>\n        <!-- birth -->\n        <tr>\n          <th scope=\"row\">生日<br />Birth</th>\n          <td>{{ profile.birth }}</td>\n        </tr>\n        <!-- phone -->\n        <tr>\n          <th scope=\"row\">行動電話<br />Mobile</th>\n          <td>\n            {{ profile.phone }}\n          </td>\n        </tr>\n        <!-- name -->\n        <tr>\n          <th scope=\"row\">姓名<br />Name</th>\n          <td>\n            <VField name=\"name\" type=\"text\" rules=\"required\" v-model=\"profile.name\" />\n            <ErrorMessage name=\"name\" class=\"text-danger ms-3\" />\n          </td>\n        </tr>\n        <!-- address -->\n        <tr>\n          <th scope=\"row\">收件地址<br />Location</th>\n          <td>\n            <Address :addressData=\"profile.address\" />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"text-center\">\n      <button\n        type=\"submit\"\n        :class=\"{ 'btn-info': !meta.valid }\"\n        :disabled=\"!meta.valid\"\n        class=\"btn btn-primary rounded-0\"\n      >\n        Update\n      </button>\n    </div>\n  </VForm>\n</template>\n\n<script>\nimport { apiGetProfile, apiUpdateProfile } from '@/assets/javascript/api';\nimport Address from '@/components/models/AddressModal.vue';\n\nexport default {\n  data() {\n    return {\n      profile: {},\n    };\n  },\n  components: {\n    Address,\n  },\n  methods: {\n    getProfile() {\n      this.$emitter.emit('loadingStatus', true);\n      apiGetProfile()\n        .then((res) => {\n          this.profile = res.data.data;\n          this.$emitter.emit('loadingStatus', false);\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$emitter.emit('loadingStatus', false);\n        });\n    },\n    updateProfile(e) {\n      this.$emitter.emit('loadingStatus', true);\n      apiUpdateProfile(e)\n        .then((res) => {\n          this.$emitter.emit('loadingStatus', false);\n          if (res.data.status) {\n            this.$emitter.emit('messageModal', { status: true, message: 'Successfully modified' });\n            this.getProfile();\n          }\n        })\n        .catch((err) => {\n          this.$emitter.emit('messageModal', { status: false, message: err.response.data.message });\n          this.$emitter.emit('loadingStatus', false);\n        });\n    },\n  },\n  mounted() {\n    this.getProfile();\n  },\n};\n</script>\n","import { render } from \"./ProfileModel.vue?vue&type=template&id=2095190d\"\nimport script from \"./ProfileModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_1","_hoisted_2","_createVNode","_component_VField","name","as","$data","address","city","$event","_createElementBlock","_Fragment","_renderList","districts","item","index","value","_hoisted_3","town","townList","_hoisted_4","type","disabled","zip","rules","street","_component_ErrorMessage","inheritAttrs","data","TWdistricts","props","watch","addressData","this","forEach","isExit","findIndex","__exports__","render","scope","_createBlock","_component_VForm","onSubmit","$options","updateProfile","meta","_toDisplayString","profile","email","birth","phone","_hoisted_5","_hoisted_6","_component_Address","_hoisted_7","_normalizeClass","valid","_hoisted_8","components","Address","methods","getProfile","$emitter","emit","apiGetProfile","then","res","catch","error","console","log","e","apiUpdateProfile","status","message","err","response","mounted"],"sourceRoot":""}