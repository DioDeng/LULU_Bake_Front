{"version":3,"file":"js/871.b9e8a028.js","mappings":"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","sources":["webpack://web/./src/components/user/ProfileModel.vue","webpack://web/./src/components/user/ProfileModel.vue?6b16"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/form-control-has-label -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <Loading :isLoading=\"isLoading\" />\n  <div class=\"card-body\">\n    <VForm v-slot=\"{ errors, meta }\">\n      <table class=\"table align-middle table-light table-striped-columns\">\n        <tbody>\n          <!-- id -->\n          <tr>\n            <th scope=\"row\" class=\"\">會員帳號<br />ID</th>\n            <td>\n              {{ user.email }}\n            </td>\n          </tr>\n          <!-- birth -->\n          <tr>\n            <th scope=\"row\">生日<br />Birth</th>\n            <td>{{ user.birth }}</td>\n          </tr>\n          <!-- name -->\n          <tr>\n            <th scope=\"row\">姓名<br />Name</th>\n            <td>\n              <VField name=\"姓名\" type=\"text\" rules=\"required\" v-model=\"user.username\" />\n              <ErrorMessage name=\"姓名\" class=\"text-danger ms-3\" />\n            </td>\n          </tr>\n          <!-- gender -->\n          <tr>\n            <th scope=\"row\">性別<br />Gender</th>\n            <td>\n              <VField name=\"gender\" type=\"radio\" value=\"男\" v-model=\"user.gender\" /> 男\n              <VField name=\"gender\" type=\"radio\" value=\"女\" v-model=\"user.gender\" /> 女\n              <VField name=\"gender\" type=\"radio\" value=\"不提供\" v-model=\"user.gender\" /> 不提供\n              <ErrorMessage name=\"gender\" />\n            </td>\n          </tr>\n          <!-- phone -->\n          <tr>\n            <th scope=\"row\">行動電話<br />Mobile</th>\n            <td>\n              <VField\n                name=\"電話\"\n                type=\"text\"\n                :class=\"{ 'is-invalid': errors['電話'] }\"\n                :rules=\"isPhone\"\n                v-model=\"user.phone\"\n              />\n              <ErrorMessage name=\"電話\" class=\"text-danger ms-3\" />\n            </td>\n          </tr>\n          <!-- address -->\n          <tr>\n            <th scope=\"row\">聯絡地址<br />Location</th>\n            <td>\n              <div class=\"\">本地址將作為您日後購物預設寄送地址，請勿填寫郵政信箱</div>\n              <div class=\"d-flex\">\n                <VField\n                  name=\"city\"\n                  as=\"select\"\n                  class=\"form-select\"\n                  v-model=\"user.address.city\"\n                  @change=\"changeTown\"\n                >\n                  <option value=\"\" disabled>Select a town</option>\n                  <template v-for=\"(item, id) in cityList\" :key=\"id\">\n                    <option :value=\"item.name\">{{ item.name }}</option>\n                  </template>\n                </VField>\n                <VField\n                  name=\"township\"\n                  as=\"select\"\n                  class=\"form-select ms-2\"\n                  v-model=\"user.address.town\"\n                  @change=\"changePostal\"\n                >\n                  <option value=\"\" disabled>Select a town</option>\n                  <template v-for=\"item in townList\" :key=\"item.CODE\">\n                    <option :value=\"item.name\">{{ item.name }}</option>\n                  </template>\n                </VField>\n                <input\n                  type=\"text\"\n                  class=\"ms-2 col-1 text-center\"\n                  v-model=\"user.address.postalCode\"\n                  disabled\n                />\n                <VField name=\"地址\" type=\"text\" v-model=\"user.address.street\" class=\"ms-2 col-7\" />\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"text-center\">\n        <button\n          type=\"button\"\n          :class=\"{ 'btn-info': !meta.valid }\"\n          :disabled=\"!meta.valid\"\n          class=\"btn btn-dark\"\n          @click=\"$emit('modify', this.user)\"\n        >\n          確認修改\n        </button>\n      </div>\n    </VForm>\n  </div>\n</template>\n\n<script>\nimport Loading from '@/components/models/LoadingModel.vue';\n\nexport default {\n  inheritAttrs: false, // 移除不必要警告\n  data() {\n    return {\n      cityList: [],\n      townList: [],\n      isLoading: false,\n      user: {\n        email: '',\n        birth: '',\n        username: '',\n        gender: '',\n        address: {\n          city: '',\n          town: '',\n          postalCode: 300,\n          street: '',\n        },\n      },\n    };\n  },\n  props: ['userProfile'],\n  watch: {\n    userProfile() {\n      this.user = this.userProfile;\n    },\n  },\n  components: {\n    Loading,\n  },\n  methods: {\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n    getMap() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API2}/api/map/getMap`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.cityList = res.data.data;\n          this.changeTown();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          console.log(error);\n          this.isLoading = false;\n        });\n    },\n    changeTown() {\n      this.cityList.forEach((item) => {\n        if (item.name === this.user.address.city) {\n          this.townList = item.districts;\n        }\n      });\n    },\n    changePostal() {\n      this.townList.forEach((item) => {\n        if (item.name === this.user.address.town) {\n          this.user.address.postalCode = item.zip;\n        }\n      });\n    },\n  },\n  mounted() {\n    this.getMap();\n  },\n};\n</script>\n","import { render } from \"./ProfileModel.vue?vue&type=template&id=e850af9c\"\nimport script from \"./ProfileModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","value","disabled","_createVNode","_component_Loading","isLoading","$data","_hoisted_1","_component_VForm","errors","meta","_hoisted_2","_hoisted_3","_toDisplayString","user","email","_hoisted_4","birth","_hoisted_5","_component_VField","name","type","rules","username","$event","_component_ErrorMessage","_hoisted_6","gender","_hoisted_7","_normalizeClass","$options","isPhone","phone","_hoisted_8","_hoisted_9","_hoisted_10","as","address","city","onChange","changeTown","_hoisted_11","_createElementBlock","_Fragment","_renderList","cityList","item","id","_hoisted_12","town","changePostal","_hoisted_13","townList","CODE","_hoisted_14","postalCode","street","_hoisted_15","valid","onClick","_cache","_ctx","$emit","this","_hoisted_16","inheritAttrs","data","props","watch","userProfile","components","Loading","methods","phoneNumber","test","getMap","api","$http","get","then","res","catch","error","console","log","forEach","districts","zip","mounted","__exports__","render"],"sourceRoot":""}