{"version":3,"file":"js/783.ba4b3229.js","mappings":"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","sources":["webpack://web/./src/components/order/OrderInfo.vue","webpack://web/./src/components/order/OrderInfo.vue?8de2"],"sourcesContent":["<template>\n  <div class=\"card border-0 h-100\">\n    <div class=\"card-body d-flex flex-column\">\n      <h5\n        class=\"card-title mb-2 text-body-secondary d-flex justify-content-between\"\n      >\n        <div>\n          {{ $t('orderView.orderStatus') }}：<span\n            class=\"fst-italic text-secondary\"\n            v-if=\"tempData.mealStatus === 25\"\n          >\n            {{ $t('orderView.payment') }}</span\n          >\n          <span\n            class=\"fst-italic text-secondary\"\n            v-else-if=\"tempData.mealStatus === 50\"\n            >{{ $t('orderView.diningOut') }}</span\n          >\n          <span class=\"fst-italic text-secondary\" v-else>{{\n            $t('orderView.finish')\n          }}</span>\n        </div>\n        <button\n          @click.prevent=\"cancleOrder(tempData._id)\"\n          class=\"card-link h6 text-decoration-underline border-0 bg-body\"\n          :class=\"{\n            'text-decoration-line-through': tempData.mealStatus !== 25,\n          }\"\n          :disabled=\"tempData.mealStatus !== 25\"\n        >\n          {{$t('orderView.cancleOrder')}}\n        </button>\n      </h5>\n      <h6>\n        {{ $t('shoppingOptions.paymethod') }}：<span\n          class=\"fst-italic text-secondary\"\n          >{{ $t(payMethod) }}</span\n        >\n      </h6>\n      <div\n        class=\"progress mb-3\"\n        role=\"progressbar\"\n        aria-label=\"Animated striped example\"\n        aria-valuenow=\"75\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n      >\n        <div\n          class=\"progress-bar progress-bar-striped progress-bar-animated\"\n          :style=\"`width: ${tempData.mealStatus}%`\"\n        ></div>\n      </div>\n      <div class=\"card-text mb-3\">\n        <ol>\n          <template v-for=\"(item, index) in tempData.productList\" :key=\"index\">\n            <li class=\"border-bottom mb-3\">\n              <div clas=\"w-100\">\n                <h5\n                  class=\"mb-0 d-flex justify-content-between align-items-center w-100\"\n                  :class=\"{\n                    'text-decoration-line-through':\n                      tempData.mealStatus === 100,\n                  }\"\n                >\n                  <div>\n                    {{ $t(item.flavor) }} - ${{ item.price }} X\n                    {{ item.qty }}\n                  </div>\n                  <div>${{ item.price * item.qty }}</div>\n                </h5>\n                <p\n                  v-if=\"item.type === 'drink' || item.type === 'coffee'\"\n                  class=\"mb-0 text-dark-emphasis\"\n                >\n                  {{ $t('orderView.size') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ item.size }}</span\n                  >, {{ $t('orderView.ice') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ $t(iceList[item.ice].title) }}</span\n                  >, {{ $t('orderView.sugar') }}:<span\n                    class=\"fst-italic text-secondary\"\n                    >{{ $t(sugarList[item.sugar].title) }}</span\n                  >\n                </p>\n              </div>\n            </li>\n          </template>\n        </ol>\n        <div class=\"d-flex justify-content-between\">\n          <h4 class=\"fw-bold\">{{ $t('orderView.total') }}：</h4>\n          <h4 class=\"fw-bold\">${{ $toCurrency(total) }}</h4>\n        </div>\n      </div>\n      <div class=\"card-footer\">\n        <p v-if=\"tempData.mealStatus === 25\">\n          {{ $t('orderView.orderMessage.notPaidYet') }}\n        </p>\n        <p v-else-if=\"tempData.mealStatus === 50\">\n          {{ $t('orderView.orderMessage.eatingOut') }}\n        </p>\n        <p v-else-if=\"tempData.mealStatus === 100\">\n          {{ $t('orderView.orderMessage.finishedEating') }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Cookies from 'js-cookie';\nimport iceOption from '@/assets/json/iceOption.json';\nimport sugarOption from '@/assets/json/sugarOption.json';\nimport { apiDeleteOrder } from '@/assets/javascript/api';\n\nexport default {\n  data() {\n    return {\n      payMethod: 'shoppingOptions.paymethods.cash',\n      cookieList: [],\n      tempData: {},\n      iceList: iceOption,\n      sugarList: sugarOption,\n      tempCookie: '',\n      total: 0,\n    };\n  },\n  methods: {\n    cancleOrder(id) {\n      if (this.tempData.mealStatus === 25) {\n        apiDeleteOrder(id)\n          .then(() => {\n            const orderNum = this.cookieList.findIndex(\n              (element) => element.orderId === id,\n            );\n            this.cookieList.splice(orderNum, 1);\n            // 檢查cookieList是否還有order\n            if (this.cookieList.length === 0) {\n              Cookies.remove('luluBakeOrder');\n            } else {\n              this.tempCookie = '';\n              this.cookieList.forEach((item) => {\n                this.tempCookie += `${JSON.stringify(item)};`;\n              });\n              this.tempCookie = this.tempCookie.replace(/.$/, '');\n              Cookies.set('luluBakeOrder', this.tempCookie);\n            }\n            this.$emitter.emit('getCookieOrder');\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n    totalPrice() {\n      this.total = 0;\n      this.tempData.productList.forEach((item) => {\n        this.total += item.price * item.qty;\n      });\n    },\n  },\n  mounted() {\n    this.$emitter.on('getOrderData', (e) => {\n      this.tempData = e;\n      this.payMethod = e.payMethod;\n      this.totalPrice();\n    });\n    if (Cookies.get('luluBakeOrder')) {\n      const tempCookie = Cookies.get('luluBakeOrder').split(';');\n      Object.values(tempCookie).forEach((item) => {\n        this.cookieList.push(JSON.parse(item));\n      });\n      this.cookieList.reverse();\n    }\n  },\n};\n</script>\n","import { render } from \"./OrderInfo.vue?vue&type=template&id=5930d6bc\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","role","clas","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createTextVNode","_toDisplayString","_ctx","$t","$data","tempData","mealStatus","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","_withModifiers","$event","$options","cancleOrder","_id","_normalizeClass","disabled","_hoisted_7","_hoisted_8","payMethod","_hoisted_9","style","_normalizeStyle","_hoisted_10","_Fragment","_renderList","productList","item","index","_hoisted_11","flavor","price","qty","type","_hoisted_12","_hoisted_13","size","_hoisted_14","iceList","ice","title","_hoisted_15","sugarList","sugar","_createCommentVNode","_hoisted_16","_hoisted_17","_hoisted_18","$toCurrency","total","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","data","cookieList","iceOption","sugarOption","tempCookie","methods","id","this","apiDeleteOrder","then","orderNum","findIndex","element","orderId","splice","length","Cookies","remove","forEach","JSON","stringify","replace","set","$emitter","emit","catch","err","console","log","totalPrice","mounted","on","e","get","split","Object","values","push","parse","reverse","__exports__","render"],"sourceRoot":""}