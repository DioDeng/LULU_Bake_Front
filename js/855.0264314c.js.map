{"version":3,"file":"js/855.0264314c.js","mappings":"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","sources":["webpack://web/./src/components/models/MessageModal.vue","webpack://web/./src/components/models/MessageModal.vue?7b94","webpack://web/./src/components/user/ProfileModel.vue","webpack://web/./src/components/user/ProfileModel.vue?6b16"],"sourcesContent":["<template>\n  <div\n    class=\"modal fade\"\n    ref=\"messageModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"alert alert-danger border-2 border-danger rounded-0\" role=\"alert\" v-if=\"!status\">\n        <i class=\"bi bi-exclamation-triangle me-2\"></i>{{ message }}\n      </div>\n      <div class=\"alert alert-primary border-2 border-primary rounded-0\" role=\"alert\" v-else>\n        <i class=\"bi bi-check-square me-2\"></i>{{ message }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Modal } from 'bootstrap';\n\nexport default {\n  data() {\n    return {\n      messageModal: '',\n      message: '',\n      status: false,\n    };\n  },\n  methods: {\n    openModal(e, data) {\n      this.status = e;\n      this.message = data;\n      this.messageModal.show();\n    },\n  },\n  mounted() {\n    this.messageModal = new Modal(this.$refs.messageModal);\n  },\n};\n</script>\n","import { render } from \"./MessageModal.vue?vue&type=template&id=73aa513d\"\nimport script from \"./MessageModal.vue?vue&type=script&lang=js\"\nexport * from \"./MessageModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- eslint-disable vuejs-accessibility/form-control-has-label -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n<MessageModal ref=\"message\" />\n  <div class=\"card-body\">\n    <VForm v-slot=\"{ meta }\" @submit=\"updateProfile\">\n      <table class=\"table align-middle table-light table-striped-columns\">\n        <tbody>\n          <!-- id -->\n          <tr>\n            <th scope=\"row\" class=\"\">會員帳號<br />ID</th>\n            <td>\n              {{ profile.email }}\n            </td>\n          </tr>\n          <!-- birth -->\n          <tr>\n            <th scope=\"row\">生日<br />Birth</th>\n            <td>{{ profile.birth }}</td>\n          </tr>\n          <!-- phone -->\n          <tr>\n            <th scope=\"row\">行動電話<br />Mobile</th>\n            <td>\n              {{ profile.phone }}\n            </td>\n          </tr>\n          <!-- name -->\n          <tr>\n            <th scope=\"row\">姓名<br />Name</th>\n            <td>\n              <VField name=\"name\" type=\"text\" rules=\"required\" v-model=\"profile.name\" />\n              <ErrorMessage name=\"name\" class=\"text-danger ms-3\" />\n            </td>\n          </tr>\n          <!-- address -->\n          <tr>\n            <th scope=\"row\">收件地址<br />Location</th>\n            <td>\n              <div class=\"\">Shipping address, please do not fill in email address</div>\n              <div class=\"d-flex mb-2\">\n                <VField name=\"city\" as=\"select\" class=\"form-select\" v-model=\"address.city\">\n                  <template v-for=\"(item, index) in districts\" :key=\"index\">\n                    <option :value=\"item.name\">{{ item.name }}</option>\n                  </template>\n                </VField>\n                <VField name=\"town\" as=\"select\" class=\"form-select ms-2\" v-model=\"address.town\">\n                  <template v-for=\"(item, index) in townList\" :key=\"index\">\n                    <option :value=\"item.name\">{{ item.name }}</option>\n                  </template>\n                </VField>\n                <VField\n                  name=\"zip\"\n                  type=\"text\"\n                  disabled\n                  class=\"ms-2 col-1 text-center\"\n                  v-model=\"address.zip\"\n                />\n              </div>\n              <VField\n                name=\"street\"\n                type=\"text\"\n                rules=\"required\"\n                class=\"form-control\"\n                v-model=\"address.street\"\n              />\n              <ErrorMessage name=\"street\" class=\"text-danger ms-3\" />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"text-center\">\n        <button\n          type=\"submit\"\n          :class=\"{ 'btn-info': !meta.valid }\"\n          :disabled=\"!meta.valid\"\n          class=\"btn btn-primary rounded-0\"\n        >\n          Update\n        </button>\n      </div>\n    </VForm>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/assets/javascript/emitter';\nimport TWdistricts from '@/assets/taiwan_districts.json';\nimport MessageModal from '../models/MessageModal.vue';\n\nexport default {\n  inheritAttrs: false, // 移除不必要警告\n  data() {\n    return {\n      profile: {},\n      address: {},\n      districts: TWdistricts,\n      townList: [],\n    };\n  },\n  watch: {\n    // eslint-disable-next-line object-shorthand\n    'address.city'() {\n      this.districts.forEach((item) => {\n        if (this.address.city === item.name) {\n          this.townList = item.districts;\n        }\n      });\n      this.address.town = this.townList[0].name;\n    },\n    // eslint-disable-next-line object-shorthand\n    'address.town'() {\n      this.townList.forEach((item) => {\n        if (this.address.town === item.name) {\n          this.address.zip = item.zip;\n        }\n      });\n    },\n  },\n  components: {\n    MessageModal,\n  },\n  methods: {\n    getProfile() {\n      emitter.emit('loadingStatus', true);\n      const api = `${process.env.VUE_APP_API}/user/profile`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.profile = res.data.data;\n          this.address = res.data.data.address;\n          emitter.emit('loadingStatus', false);\n        })\n        .catch((error) => {\n          console.log(error);\n          emitter.emit('loadingStatus', false);\n        });\n    },\n    updateProfile(e) {\n      emitter.emit('loadingStatus', true);\n      const api = `${process.env.VUE_APP_API}/user/profile`;\n      this.$http\n        .patch(api, e)\n        .then((res) => {\n          emitter.emit('loadingStatus', false);\n          if (res.data.status) {\n            this.$refs.message.openModal(true, 'Successfully modified');\n            this.getProfile();\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          this.$refs.message.openModal(false, err.response.data.message);\n        });\n    },\n  },\n  mounted() {\n    this.getProfile();\n  },\n};\n</script>\n","import { render } from \"./ProfileModel.vue?vue&type=template&id=50579418\"\nimport script from \"./ProfileModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","ref","tabindex","role","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","$data","status","_hoisted_5","_hoisted_6","message","_hoisted_3","_hoisted_4","data","messageModal","methods","openModal","e","this","show","mounted","Modal","$refs","__exports__","render","scope","_createVNode","_component_MessageModal","_component_VForm","onSubmit","$options","updateProfile","meta","_toDisplayString","profile","email","birth","phone","_component_VField","name","type","rules","$event","_component_ErrorMessage","_hoisted_7","_hoisted_8","_hoisted_9","as","address","city","_Fragment","_renderList","districts","item","index","value","_hoisted_10","town","townList","_hoisted_11","disabled","zip","street","_hoisted_12","_normalizeClass","valid","_hoisted_13","inheritAttrs","TWdistricts","watch","forEach","components","MessageModal","getProfile","emitter","emit","api","$http","get","then","res","catch","error","console","log","patch","err","response"],"sourceRoot":""}