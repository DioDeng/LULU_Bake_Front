"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[779],{185:function(t,e,a){a.d(e,{Er:function(){return b},FF:function(){return p},Gx:function(){return n},LL:function(){return d},Xr:function(){return s},dK:function(){return m},eT:function(){return i},fc:function(){return c},gF:function(){return r},h$:function(){return k},u1:function(){return u},w0:function(){return h},zO:function(){return g}});var o=a(4335);const l="https://lulubakeapp.zeabur.app",s=t=>o.A.post(`${l}/admin/sign_in`,t),i=()=>o.A.get(`${l}/admin/products`),d=t=>o.A.post(`${l}/admin/product`,t),n=(t,e)=>o.A.patch(`${l}/admin/product/${t}`,e),r=t=>o.A.delete(`${l}/admin/product/${t}`),c=()=>o.A.get(`${l}/orders`),u=(t,e)=>o.A.patch(`${l}/order/${t}`,e),m=()=>o.A.get(`${l}/products`),p=t=>o.A.get(`${l}/order/${t}`),k=t=>o.A.post(`${l}/order`,t),b=t=>o.A.delete(`${l}/order/${t}`),g=t=>o.A.post(`${l}/linepay/${t}`),h=t=>o.A.post(`${l}/upload?type=""`,t)},1227:function(t,e,a){a.d(e,{g:function(){return o}});const o=()=>{const t=document.cookie.replace(/(?:(?:^|.*;\s*)LULU-Bake-Admin\s*=\s*([^;]*).*$)|^.*$/,"$1");return t}},2779:function(t,e,a){a.r(e),a.d(e,{default:function(){return It}});var o=a(641),l=a(33);const s={class:"row overflow-scroll"},i={class:"card border-dark sticky-top paperDarkBg w-100"},d={class:"card-body d-flex align-items-start justify-content-between"},n=(0,o.Fv)('<div class="h5 me-3 mt-auto d-flex align-items-center mb-0"><small class="text-secondary">2025/01/01</small><i class="bi bi-caret-right-fill h6 mb-0 mx-2"></i><small class="text-secondary">2025/01/08</small>, <small class="ms-3 text-secondary">weekly</small><i class="bi bi-caret-down-fill h6 mb-0"></i></div>',1),r={class:"card border-dark"},c={class:"card-body"},u={class:"table align-middle table-hover"},m=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col",style:{width:"30%"}},"Product"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Type"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Size"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Price"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Inventory"),(0,o.Lk)("th",{scope:"col",style:{width:"15%"}},"Status"),(0,o.Lk)("th",{scope:"col",style:{width:"10%"}},"Edit")])],-1),p={class:"d-flex align-items-center"},k=["src"],b={class:"list-unstyled mb-0"},g={class:"list-unstyled mb-0"},h={class:"list-unstyled mb-0"},L=["onClick"],f=["onClick"],y=["onClick"];function v(t,e,a,v,D,$){const C=(0,o.g2)("AddEditModal");return(0,o.uX)(),(0,o.CE)("section",s,[(0,o.bF)(C,{ref:"addEdit",addEditData:D.tempData},null,8,["addEditData"]),(0,o.Lk)("div",i,[(0,o.Lk)("div",d,[n,(0,o.Lk)("div",null,[(0,o.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=t=>$.openModal(!0))}," cearte product ")])])]),(0,o.Lk)("div",r,[(0,o.Lk)("div",c,[(0,o.Lk)("table",u,[m,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(D.productList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e._id},[(0,o.Lk)("th",null,[(0,o.Lk)("div",p,[(0,o.Lk)("img",{src:e.image,style:{width:"5rem"},alt:"",class:"me-3"},null,8,k),(0,o.eW)(" "+(0,l.v_)(t.$t(e.title)),1)])]),(0,o.Lk)("td",null,(0,l.v_)(e.category),1),(0,o.Lk)("td",null,[(0,o.Lk)("ul",b,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,e)=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:"border-bottom"},(0,l.v_)(t.size),1)))),128))])]),(0,o.Lk)("td",null,[(0,o.Lk)("ul",g,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,e)=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:"border-bottom"},"$"+(0,l.v_)(t.price),1)))),128))])]),(0,o.Lk)("td",null,[(0,o.Lk)("ul",h,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,e)=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:"border-bottom"},(0,l.v_)(t.stock),1)))),128))])]),(0,o.Lk)("td",null,[e.is_enable?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn btn-secondary",onClick:t=>$.toggleStatus(e)}," PUBLISHED ",8,L)):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn btn-warning",onClick:t=>$.toggleStatus(e)}," UNPUBLISHED ",8,f))]),(0,o.Lk)("td",null,[(0,o.Lk)("button",{class:"btn btn-primary",onClick:t=>$.openModal(!1,e)}," EDIT ",8,y)])])))),128))])])])])])}a(4114);var D=a(185),$=a(1227),C=a(3751);const E=t=>((0,o.Qi)("data-v-26b501aa"),t=t(),(0,o.jt)(),t),x={class:"card-body"},w={class:"modal fade",ref:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},F={class:"modal-dialog modal-dialog-centered modal-xl"},I={class:"modal-content rounded-0 border-2 border-dark"},_=E((()=>(0,o.Lk)("div",{class:"modal-header paperDarkBg border-bottom border-dark border-2"},[(0,o.Lk)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"}," ADD NEW PRODUCT "),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),A={class:"modal-body"},S={class:"row row-cols-1 row-cols-md-2 g-4"},X={class:"col"},V={class:"card h-100 border-0"},P={class:"card-body"},B={class:"input-group mb-3"},U=E((()=>(0,o.Lk)("label",{class:"input-group-text w-100 p-4 d-flex flex-column align-items-center btn border-dark rounded",for:"inputGroupFile01"},[(0,o.Lk)("i",{class:"bi bi-cloud-arrow-up h3"}),(0,o.eW)(" Drag an image or click here to uploadâ€¦")],-1))),z={class:"container"},O={class:"row row-cols-1 row-cols-md-3 g-3"},K={key:0,class:"col position-relative border border-2 border-info rounded-3"},M=["src"],T=E((()=>(0,o.Lk)("i",{class:"bi bi-x-lg text-danger position-absolute top-0 end-0"},null,-1))),W=[T],G=["src"],j=["onClick"],q=E((()=>(0,o.Lk)("i",{class:"bi bi-x-lg text-danger position-absolute top-0 end-0"},null,-1))),N=[q],H={class:"col"},Q={class:"card h-100 border-0"},R={class:"card-body"},J=E((()=>(0,o.Lk)("h5",{class:"card-title"},"Product Discription",-1))),Y={class:"form-floating mb-3"},Z={for:"floatingInput"},tt={class:"form-floating mb-3"},et={for:"floatingComment"},at=E((()=>(0,o.Lk)("h5",{class:"card-title"},"Type",-1))),ot={class:"mb-3"},lt=["id","value"],st=["for"],it=E((()=>(0,o.Lk)("h5",{class:"card-title mb-3"},"Option",-1))),dt={class:"input-group mb-3"},nt=E((()=>(0,o.Lk)("span",{class:"input-group-text border-dark"},"Size",-1))),rt=E((()=>(0,o.Lk)("span",{class:"input-group-text border-dark"},"$",-1))),ct=E((()=>(0,o.Lk)("span",{class:"input-group-text border-dark"},"Stock",-1))),ut={class:"input-group-text border-dark"},mt=["onClick"],pt={class:"mb-2"},kt={class:"text-center"},bt={class:"modal-footer border-top border-dark border-2 justify-content-between paperDarkBg"},gt=E((()=>(0,o.Lk)("div",null,null,-1))),ht=["disabled"],Lt={key:0},ft={key:1};function yt(t,e,a,s,i,d){const n=(0,o.g2)("VField"),r=(0,o.g2)("ErrorMessage"),c=(0,o.g2)("CircleTwo"),u=(0,o.g2)("VForm");return(0,o.uX)(),(0,o.CE)("div",x,[(0,o.Lk)("div",w,[(0,o.Lk)("div",F,[(0,o.Lk)("div",I,[_,(0,o.bF)(u,{onSubmit:d.AddEditProduct,class:"d-flex flex-column h-100"},{default:(0,o.k6)((({meta:t})=>[(0,o.Lk)("div",A,[(0,o.Lk)("div",S,[(0,o.Lk)("div",X,[(0,o.Lk)("div",V,[(0,o.Lk)("div",P,[(0,o.Lk)("div",B,[U,(0,o.Lk)("input",{type:"file",ref:"image_uploads",onChange:e[0]||(e[0]=(...t)=>d.uploadImage&&d.uploadImage(...t)),name:"image_uploads",class:"form-control d-none",accept:".jpg, .jpeg, .png",id:"inputGroupFile01"},null,544)]),(0,o.Lk)("div",z,[(0,o.Lk)("div",O,[i.tempData.image?((0,o.uX)(),(0,o.CE)("div",K,[(0,o.Lk)("img",{src:i.tempData.image,alt:""},null,8,M),(0,o.Lk)("a",{href:"#",onClick:e[1]||(e[1]=(0,C.D$)(((...t)=>d.deleteImage&&d.deleteImage(...t)),["prevent"]))},W)])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.tempData.images,((t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"col position-relative"},[(0,o.Lk)("img",{src:t,alt:""},null,8,G),(0,o.Lk)("a",{href:"#",onClick:(0,C.D$)((t=>d.deleteImages(e)),["prevent"])},N,8,j)])))),128))])])])])]),(0,o.Lk)("div",H,[(0,o.Lk)("div",Q,[(0,o.Lk)("div",R,[J,(0,o.Lk)("div",Y,[(0,o.bF)(n,{name:"title",type:"text",rules:"required",class:"form-control border-dark",id:"floatingInput",placeholder:"title",modelValue:i.tempData.title,"onUpdate:modelValue":e[2]||(e[2]=t=>i.tempData.title=t)},null,8,["modelValue"]),(0,o.Lk)("label",Z,[(0,o.eW)("Product Name "),(0,o.bF)(r,{name:"title",class:"text-danger"})])]),(0,o.Lk)("div",tt,[(0,o.bF)(n,{name:"comment",as:"textarea",type:"text",rules:"required",class:"form-control border-dark",style:{height:"100px"},id:"floatingComment",placeholder:"Write your message here...",modelValue:i.tempData.comment,"onUpdate:modelValue":e[3]||(e[3]=t=>i.tempData.comment=t)},null,8,["modelValue"]),(0,o.Lk)("label",et,[(0,o.eW)("Write your message here... "),(0,o.bF)(r,{name:"comment",class:"text-danger"})])]),at,(0,o.Lk)("div",ot,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.categoryOption,((t,a)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:a},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-type",id:`category${a}`,autocomplete:"off",value:t.value,"onUpdate:modelValue":e[4]||(e[4]=t=>i.tempData.category=t)},null,8,lt),[[C.XL,i.tempData.category]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-4",for:`category${a}`},[(0,o.eW)((0,l.v_)(t.title)+" ",1),(0,o.bF)(c,{class:(0,l.C4)({"d-none":i.tempData.category!==t.value})},null,8,["class"])],8,st)],64)))),128))]),it,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.tempData.options,((t,e)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:e},[(0,o.Lk)("div",dt,[nt,(0,o.bF)(n,{name:`size${e}`,type:"text",rules:"required",class:"form-control border-dark",modelValue:i.tempData.options[e].size,"onUpdate:modelValue":t=>i.tempData.options[e].size=t},null,8,["name","modelValue","onUpdate:modelValue"]),rt,(0,o.bF)(n,{name:`price${e}`,type:"number",rules:"required|min_value:1",class:"form-control border-dark",modelValue:i.tempData.options[e].price,"onUpdate:modelValue":t=>i.tempData.options[e].price=t},null,8,["name","modelValue","onUpdate:modelValue"]),ct,(0,o.bF)(n,{name:`stock${e}`,type:"number",rules:"required|min_value:1",class:"form-control border-dark",id:"floatingStock",modelValue:i.tempData.options[e].stock,"onUpdate:modelValue":t=>i.tempData.options[e].stock=t},null,8,["name","modelValue","onUpdate:modelValue"]),(0,o.Lk)("span",ut,[(0,o.Lk)("a",{class:"m-0 p-0 text-danger text-decoration-none",href:"#",onClick:(0,C.D$)((t=>d.deleteOptionColumn(e)),["prevent"])}," x ",8,mt)])]),(0,o.Lk)("div",pt,[(0,o.bF)(r,{name:`size${e}`,class:"text-danger"},null,8,["name"]),(0,o.bF)(r,{name:`price${e}`,class:"text-danger"},null,8,["name"]),(0,o.bF)(r,{name:`stock${e}`,class:"text-danger"},null,8,["name"])])],64)))),128)),(0,o.Lk)("div",kt,[(0,o.Lk)("button",{class:"btn btn-outline-primary",onClick:e[5]||(e[5]=(...t)=>d.addOptionColumn&&d.addOptionColumn(...t))}," ADD NEW SPECIFICATION ")])])])])])]),(0,o.Lk)("div",bt,[(0,o.bo)((0,o.Lk)("button",{type:"button",class:"btn btn-outline-danger","data-bs-dismiss":"modal",onClick:e[6]||(e[6]=t=>d.deleteProduct(i.tempData._id))}," Delete ",512),[[C.aG,i.tempData._id]]),gt,(0,o.Lk)("button",{class:"btn btn-dark",disabled:!t.valid||!i.tempData.image,type:"submit"},[i.tempData._id?((0,o.uX)(),(0,o.CE)("span",Lt,"edit product")):((0,o.uX)(),(0,o.CE)("span",ft,"add product"))],8,ht)])])),_:1},8,["onSubmit"])])])],512)])}var vt=a(6681),Dt=a(7430),$t={data(){return{staticBackdrop:"",tempData:{},categoryOption:[{title:"Cake",value:"cake"},{title:"Coffee",value:"coffee"},{title:"Drink",value:"drink"},{title:"Bread",value:"bread"}]}},props:["addEditData"],components:{CircleTwo:vt.A},watch:{addEditData(){this.tempData=this.addEditData}},methods:{AddEditProduct(){this.tempData._id?(0,D.Gx)(this.tempData._id,this.tempData).then((()=>{this.$emitter.emit("getProducts"),this.toggleModal()})).catch((t=>{console.log(t)})):(0,D.LL)(this.tempData).then((()=>{this.$emitter.emit("getProducts"),this.toggleModal()})).catch((t=>{console.log(t)}))},deleteProduct(t){this.$emitter.emit("loadingStatus",!1),(0,D.gF)(t).then((()=>{this.$emitter.emit("loadingStatus",!0),this.$emitter.emit("getProducts")})).catch((t=>{console.log(t)}))},toggleModal(){this.staticBackdrop.toggle()},addOptionColumn(){this.tempData.options.push({size:"",price:100,stock:10})},deleteOptionColumn(t){1!==this.tempData.options.length&&this.tempData.options.splice(t,1)},getInputData(){this.$emitter.emit("inputData",this.tempData)},uploadImage(){this.$emitter.emit("loadingStatus",!0);const t=new FormData;t.append("file-to-upload",this.$refs.image_uploads.form[0].files[0]),(0,D.w0)(t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{this.$emitter.emit("loadingStatus",!1),this.tempData.image?this.tempData.images.push(t.data.data):this.tempData.image=t.data.data})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))},deleteImage(){this.tempData.image="",this.tempData.images.length>0&&(this.tempData.image=this.tempData.images[0],this.tempData.images.splice(0,1))},deleteImages(t){this.tempData.images.splice(t,1)}},mounted(){this.staticBackdrop=new Dt.aF(this.$refs.staticBackdrop)}},Ct=a(6262);const Et=(0,Ct.A)($t,[["render",yt],["__scopeId","data-v-26b501aa"]]);var xt=Et,wt={data(){return{staticBackdrop:"",productList:[],tempData:{}}},components:{AddEditModal:xt},methods:{toggleStatus(t){this.$emitter.emit("loadingStatus",!0);const e={...t};e.is_enable=!e.is_enable,(0,D.Gx)(t._id,e).then((()=>{this.getProducts()})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))},getProducts(){this.$emitter.emit("loadingStatus",!0),(0,D.eT)().then((t=>{this.productList=t.data.data})).catch((t=>{console.log(t)})),this.$emitter.emit("loadingStatus",!1)},openModal(t,e){this.tempData=t?{_id:"",title:"",comment:"",category:"cake",image:"",images:[],options:[{size:"",price:100,stock:10}]}:e,this.$refs.addEdit.toggleModal()},checkSignIn(){const t=(0,$.g)();t?this.$http.defaults.headers.common.Authorization=`Bearer ${t}`:this.$router.push("/backend")}},mounted(){this.getProducts(),this.$emitter.on("getProducts",(()=>{this.getProducts()}))},created(){this.checkSignIn()}};const Ft=(0,Ct.A)(wt,[["render",v]]);var It=Ft}}]);
//# sourceMappingURL=779.5fee4740.js.map