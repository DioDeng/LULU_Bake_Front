{"version":3,"file":"js/677.ccaa87f3.js","mappings":"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","sources":["webpack://web/./src/components/user/ProfileModel.vue","webpack://web/./src/components/user/ProfileModel.vue?6b16"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/form-control-has-label -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <div class=\"card-body\">\n    <VForm v-slot=\"{ meta }\" @submit=\"updateProfile\">\n      <table class=\"table align-middle table-light table-striped-columns\">\n        <tbody>\n          <!-- id -->\n          <tr>\n            <th scope=\"row\" class=\"\">會員帳號<br />ID</th>\n            <td>\n              {{ profile.email }}\n            </td>\n          </tr>\n          <!-- birth -->\n          <tr>\n            <th scope=\"row\">生日<br />Birth</th>\n            <td>{{ profile.birth }}</td>\n          </tr>\n          <!-- phone -->\n          <tr>\n            <th scope=\"row\">行動電話<br />Mobile</th>\n            <td>\n              {{ profile.phone }}\n            </td>\n          </tr>\n          <!-- name -->\n          <tr>\n            <th scope=\"row\">姓名<br />Name</th>\n            <td>\n              <VField name=\"name\" type=\"text\" rules=\"required\" v-model=\"profile.name\" />\n              <ErrorMessage name=\"name\" class=\"text-danger ms-3\" />\n            </td>\n          </tr>\n          <!-- address -->\n          <tr>\n            <th scope=\"row\">收件地址<br />Location</th>\n            <td>\n              <div class=\"\">Shipping address, please do not fill in email address</div>\n              <div class=\"d-flex mb-2\">\n                <VField name=\"city\" as=\"select\" class=\"form-select\" v-model=\"address.city\">\n                  <template v-for=\"(item, index) in districts\" :key=\"index\">\n                    <option :value=\"item.name\">{{ item.name }}</option>\n                  </template>\n                </VField>\n                <VField name=\"town\" as=\"select\" class=\"form-select ms-2\" v-model=\"address.town\">\n                  <template v-for=\"(item, index) in townList\" :key=\"index\">\n                    <option :value=\"item.name\">{{ item.name }}</option>\n                  </template>\n                </VField>\n                <VField\n                  name=\"zip\"\n                  type=\"text\"\n                  disabled\n                  class=\"ms-2 col-1 text-center\"\n                  v-model=\"address.zip\"\n                />\n              </div>\n              <VField\n                name=\"street\"\n                type=\"text\"\n                rules=\"required\"\n                class=\"form-control\"\n                v-model=\"address.street\"\n              />\n              <ErrorMessage name=\"street\" class=\"text-danger ms-3\" />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"text-center\">\n        <button\n          type=\"submit\"\n          :class=\"{ 'btn-info': !meta.valid }\"\n          :disabled=\"!meta.valid\"\n          class=\"btn btn-primary\"\n        >\n          Update\n        </button>\n      </div>\n    </VForm>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/assets/javascript/emitter';\nimport TWdistricts from '@/assets/taiwan_districts.json';\n\nexport default {\n  inheritAttrs: false, // 移除不必要警告\n  data() {\n    return {\n      profile: {},\n      address: {},\n      districts: TWdistricts,\n      townList: [],\n    };\n  },\n  watch: {\n    // eslint-disable-next-line object-shorthand\n    'address.city'() {\n      this.districts.forEach((item) => {\n        if (this.address.city === item.name) {\n          this.townList = item.districts;\n        }\n      });\n      this.address.town = this.townList[0].name;\n    },\n    // eslint-disable-next-line object-shorthand\n    'address.town'() {\n      this.townList.forEach((item) => {\n        if (this.address.town === item.name) {\n          this.address.zip = item.zip;\n        }\n      });\n    },\n  },\n  methods: {\n    getProfile() {\n      emitter.emit('loadingStatus', true);\n      const api = `${process.env.VUE_APP_API}/user/profile`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.profile = res.data.data;\n          this.address = res.data.data.address;\n          emitter.emit('loadingStatus', false);\n        })\n        .catch((error) => {\n          console.log(error);\n          emitter.emit('loadingStatus', false);\n        });\n    },\n    updateProfile(e) {\n      emitter.emit('loadingStatus', true);\n      const api = `${process.env.VUE_APP_API}/user/profile`;\n      this.$http\n        .patch(api, e)\n        .then((res) => {\n          emitter.emit('loadingStatus', false);\n          if (res.data.status) {\n            this.getProfile();\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    this.getProfile();\n  },\n};\n</script>\n","import { render } from \"./ProfileModel.vue?vue&type=template&id=57ecfa8a\"\nimport script from \"./ProfileModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","_createElementBlock","_hoisted_1","_createVNode","_component_VForm","onSubmit","$options","updateProfile","meta","_hoisted_2","_hoisted_3","_toDisplayString","$data","profile","email","_hoisted_4","birth","_hoisted_5","phone","_hoisted_6","_component_VField","name","type","rules","$event","_component_ErrorMessage","_hoisted_7","_hoisted_8","_hoisted_9","as","address","city","_Fragment","_renderList","districts","item","index","value","_hoisted_10","town","townList","_hoisted_11","disabled","zip","street","_hoisted_12","_normalizeClass","valid","_hoisted_13","inheritAttrs","data","TWdistricts","watch","this","forEach","methods","getProfile","emitter","emit","api","$http","get","then","res","catch","error","console","log","e","patch","status","err","mounted","__exports__","render"],"sourceRoot":""}