"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[384],{8384:function(t,e,i){i.r(e),i.d(e,{default:function(){return Ht}});var o=i(641);const s={class:"row"},a=(0,o.Lk)("div",{class:"card border-dark paperDarkBg"},[(0,o.Lk)("div",{class:"card-body d-flex align-items-start text-uppercase"},[(0,o.Lk)("span",{class:"h4 me-3"},"step 1"),(0,o.Lk)("span",{class:"h3",style:{"font-family":"BellGothicStd"}},"Select")])],-1),r={class:"card border-dark col-sm-6 px-0"},l={class:"card-body px-0"},n={class:"card border-dark col-sm-6"},c={class:"card-body"},p={class:"row"},d=(0,o.Lk)("div",{class:"card border-dark paperDarkBg"},[(0,o.Lk)("div",{class:"card-body d-flex align-items-start text-uppercase"},[(0,o.Lk)("span",{class:"h4 me-3"},"step 2"),(0,o.Lk)("span",{class:"h3",style:{"font-family":"BellGothicStd"}},"Your Cart")])],-1),u={class:"card p-0 border-0"},k={class:"card-body p-0"};function h(t,e,i,h,L,g){const m=(0,o.g2)("Information"),v=(0,o.g2)("Options"),b=(0,o.g2)("Chartlist");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("section",s,[a,(0,o.Lk)("div",r,[(0,o.Lk)("div",l,[(0,o.bF)(m)])]),(0,o.Lk)("div",n,[(0,o.Lk)("div",c,[(0,o.bF)(v,{productList:L.productList,onAddToCart:g.addToCart},null,8,["productList","onAddToCart"])])])]),(0,o.Lk)("section",p,[d,(0,o.Lk)("div",u,[(0,o.Lk)("div",k,[(0,o.bF)(b,{cookieData:L.cartList,productList:L.productList},null,8,["cookieData","productList"])])])])],64)}i(4114);var L=i(8987),g=i(433),m=i(33),v=i(3751);const b=t=>((0,o.Qi)("data-v-b62f4f22"),t=t(),(0,o.jt)(),t),f={class:"mb-4"},y=["id","value","onClick"],C=["for"],$={class:"mb-4"},O=["id","value","onClick"],_=["for"],x={class:"mb-4"},P=["id","value","onClick"],I=["for"],U={key:0},q={class:"mb-4"},A=["id","value"],E=["for"],X={class:"mb-4"},z=["id","value"],F=["for"],S={class:"mb-4"},D={class:"ms-3"},w={class:"text-secondary"},K={class:"mb-4"},W={"aria-label":"...",class:"me-4"},T={class:"pagination"},N={class:"page-item"},J={class:"page-item"},B={class:"page-link"},Q={class:"page-item"},V=b((()=>(0,o.Lk)("i",{class:"bi bi-plus-lg"},null,-1))),j=[V],G={class:"mb-4"},R={class:"text-uppercase"},Y={class:"fst-italic ms-3 h4 text-secondary"},H=b((()=>(0,o.Lk)("i",{class:"bi bi-plus-lg ms-2 text-light"},null,-1)));function M(t,e,i,s,a,r){const l=(0,o.g2)("CircleTwo"),n=(0,o.g2)("CircleOne"),c=(0,o.g2)("CircleThree");return(0,o.uX)(),(0,o.CE)("section",null,[(0,o.Lk)("div",f,[(0,o.Lk)("h4",null,(0,m.v_)(t.$t("shoppingOptions.type"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.types,((e,i)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:i},[(0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-type",id:`type${i}`,autocomplete:"off",value:e.category,onClick:t=>(a.option.qty=1,r.slelectProduct(e.category))},null,8,y),(0,o.Lk)("label",{class:"btn border-0 position-relative me-4",for:`type${i}`},[(0,o.eW)((0,m.v_)(t.$t(e.title))+" ",1),(0,o.bF)(l,{class:(0,m.C4)({"d-none":a.tempProduct.category!==e.category})},null,8,["class"])],8,C)],64)))),128))]),(0,o.Lk)("div",$,[(0,o.Lk)("h4",null,(0,m.v_)(t.$t("shoppingOptions.flavor"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.tempProductList,((i,s)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:s},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`flavor${s}`,autocomplete:"off",value:i.title,"onUpdate:modelValue":e[0]||(e[0]=t=>a.option.flavor=t),onClick:t=>(a.option.qty=1,a.tempProduct=i,a.option.optionId=a.tempProduct.options[0]._id,a.option.price=a.tempProduct.options[0].price,a.option.size=a.tempProduct.options[0].size,a.option.stock=a.tempProduct.options[0].stock)},null,8,O),[[v.XL,a.option.flavor]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-3",for:`flavor${s}`},[(0,o.eW)((0,m.v_)(t.$t(i.title))+" ",1),(0,o.bF)(n,{class:(0,m.C4)({"d-none":i.title!==a.option.flavor})},null,8,["class"])],8,_)],64)))),128))]),(0,o.Lk)("div",x,[(0,o.Lk)("h4",null,(0,m.v_)(t.$t("shoppingOptions.size"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.tempProduct.options,((t,i)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:i},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-type",id:`size${i}`,autocomplete:"off",value:t.size,"onUpdate:modelValue":e[1]||(e[1]=t=>a.option.size=t),onClick:e=>(a.option.price=t.price,a.option.qty=1,a.option.stock=t.stock)},null,8,P),[[v.XL,a.option.size]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-3",for:`size${i}`},[(0,o.eW)((0,m.v_)(t.size)+" ",1),(0,o.bF)(l,{class:(0,m.C4)({"d-none":a.option.size!==t.size})},null,8,["class"])],8,I)],64)))),128))]),"drink"===a.tempProduct.category||"coffee"===a.tempProduct.category?((0,o.uX)(),(0,o.CE)("section",U,[(0,o.Lk)("div",q,[(0,o.Lk)("h4",null,(0,m.v_)(t.$t("shoppingOptions.drink.ice"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.iceList,((i,s)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:s},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`ice${s}`,autocomplete:"off",value:s,"onUpdate:modelValue":e[2]||(e[2]=t=>a.option.ice=t)},null,8,A),[[v.XL,a.option.ice]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-3",for:`ice${s}`},[(0,o.eW)((0,m.v_)(t.$t(i.title))+" ",1),(0,o.bF)(c,{class:(0,m.C4)({"d-none":s!==a.option.ice})},null,8,["class"])],8,E)],64)))),128))]),(0,o.Lk)("div",X,[(0,o.Lk)("h4",null,(0,m.v_)(t.$t("shoppingOptions.drink.sugar"))+":",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.sugarList,((i,s)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:s},[(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`sugar${s}`,autocomplete:"off",value:s,"onUpdate:modelValue":e[3]||(e[3]=t=>a.option.sugar=t)},null,8,z),[[v.XL,a.option.sugar]]),(0,o.Lk)("label",{class:"btn border-0 position-relative me-3",for:`sugar${s}`},[(0,o.eW)((0,m.v_)(t.$t(i.title))+" ",1),(0,o.bF)(l,{class:(0,m.C4)({"d-none":s!==a.option.sugar})},null,8,["class"])],8,F)],64)))),128))])])):(0,o.Q3)("",!0),(0,o.Lk)("div",S,[(0,o.Lk)("h4",null,(0,m.v_)(t.$t("shoppingOptions.price"))+":",1),(0,o.Lk)("p",D,[(0,o.eW)(" $ "),(0,o.Lk)("span",w,(0,m.v_)(a.option.price),1),(0,o.eW)(" / "+(0,m.v_)(t.$t("shoppingOptions.each")),1)])]),(0,o.Lk)("div",K,[(0,o.Lk)("h4",null,(0,m.v_)(t.$t("shoppingOptions.qty"))+":",1),(0,o.Lk)("nav",W,[(0,o.Lk)("ul",T,[(0,o.Lk)("li",N,[(0,o.Lk)("a",{class:(0,m.C4)(["page-link rounded-0",{disabled:a.option.qty<=1}]),href:"#",onClick:e[4]||(e[4]=(0,v.D$)((t=>a.option.qty--),["prevent"]))}," - ",2)]),(0,o.Lk)("li",J,[(0,o.Lk)("div",B,(0,m.v_)(a.option.qty),1)]),(0,o.Lk)("li",Q,[(0,o.Lk)("a",{class:(0,m.C4)(["page-link rounded-0",{disabled:a.option.qty>=a.option.stock}]),href:"#",onClick:e[5]||(e[5]=(0,v.D$)((t=>a.option.qty++),["prevent"]))},j,2)])])])]),(0,o.Lk)("div",G,[(0,o.Lk)("h4",R,(0,m.v_)(t.$t("shoppingOptions.total"))+"：",1),(0,o.Lk)("div",Y," $"+(0,m.v_)(this.$toCurrency(a.option.price*a.option.qty)),1)]),((0,o.uX)(),(0,o.Wv)((0,o.$y)("wired-button"),{class:"bg-dark text-light h4 mb-0",onClick:e[6]||(e[6]=e=>t.$emit("addToCart",this.option))},{default:(0,o.k6)((()=>[(0,o.eW)((0,m.v_)(t.$t("shoppingOptions.addToChart")),1),H])),_:1}))])}var Z=i(5579),tt=i(2582),et=i(4329),it=i(6681),ot=i(9152),st=(i(5343),{data(){return{tempProduct:{},tempProductList:[],types:[{title:"shoppingOptions.typeList.cake",category:"cake"},{title:"shoppingOptions.typeList.drink",category:"drink"},{title:"shoppingOptions.typeList.coffee",category:"coffee"},{title:"shoppingOptions.typeList.meal",category:"meal"}],iceList:tt,sugarList:Z,option:{productId:"",optionId:"",type:"",flavor:"",ice:0,sugar:0,size:"",qty:1,stock:0}}},props:["productList"],watch:{productList(){this.slelectProduct()},tempProduct(){this.$emitter.emit("productData",this.tempProduct)}},components:{CircleOne:et.A,CircleTwo:it.A,CircleThree:ot.A},methods:{slelectProduct(t="cake"){this.tempProductList=[],this.productList.forEach((e=>{e.category===t&&this.tempProductList.push(e)})),this.tempProduct=this.tempProductList[0],this.option={flavor:this.tempProduct.title,ice:0,sugar:0,size:this.tempProduct.options[0].size,productId:this.tempProduct._id,optionId:this.tempProduct.options[0]._id,price:this.tempProduct.options[0].price,stock:this.tempProduct.options[0].stock,qty:1,type:t}}}}),at=i(6262);const rt=(0,at.A)(st,[["render",M],["__scopeId","data-v-b62f4f22"]]);var lt=rt;const nt={class:"border-bottom border-dark px-4 pb-3"},ct={class:"fw-bold"},pt={class:"border-top border-dark ps-4 pb-4 h-100"},dt=(0,o.Fv)('<nav aria-label="Page navigation example" style="margin-top:0px;margin-right:0px;"><ul class="pagination justify-content-end"><li class="page-item disabled"><a class="page-link border-dark border-top-0 border-2 rounded-0" href="#" aria-label="Previous"><span aria-hidden="true">«</span></a></li><li class="page-item"><a class="page-link border-dark border-top-0 border-2 rounded-0 active" href="#">1</a></li><li class="page-item"><a class="page-link border-dark border-top-0 border-2 rounded-0" href="#">2</a></li><li class="page-item"><a class="page-link border-dark border-top-0 border-2 rounded-0" href="#">3</a></li><li class="page-item"><a class="page-link border-dark border-top-0 border-end-0 border-2 rounded-0" href="#" aria-label="Next"><span aria-hidden="true">»</span></a></li></ul></nav>',1),ut=["src"];function kt(t,e,i,s,a,r){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",nt,[(0,o.Lk)("h3",ct,(0,m.v_)(t.$t(a.productData.title)),1),(0,o.Lk)("p",null,(0,m.v_)(t.$t(a.productData.comment)),1)]),(0,o.Lk)("div",pt,[dt,(0,o.Lk)("img",{src:a.productData.image,class:"mx-auto",style:{width:"75%"},alt:""},null,8,ut)])],64)}var ht={data(){return{productData:{title:"products.soufflé.title",comment:"products.soufflé.comment"}}},mounted(){this.$emitter.on("productData",(t=>{this.productData=t}))}};const Lt=(0,at.A)(ht,[["render",kt]]);var gt=Lt;const mt={class:"table tableText tableSm table-bordered border-primary m-0"},vt=(0,o.Lk)("th",{scope:"col"},"#",-1),bt={scope:"col"},ft={scope:"col"},yt={scope:"col"},Ct={scope:"col"},$t={scope:"col"},Ot={class:"table-group-divider luluText"},_t={class:"fw-bolder"},xt={key:0,class:"mb-0"},Pt={class:"fst-italic text-secondary"},It={class:"fst-italic text-secondary"},Ut={"aria-label":"...",class:"me-4"},qt={class:"pagination mb-0 align-items-center"},At={class:"page-item"},Et=["onClick"],Xt={class:""},zt={class:"mx-2"},Ft={class:"page-item"},St=["onClick"],Dt=(0,o.Lk)("i",{class:"bi bi-plus-lg"},null,-1),wt=[Dt],Kt={class:"fw-bold text-secondary"},Wt={colspan:"6"},Tt={class:"text-end"},Nt={class:"fw-bold text-secondary"},Jt={colspan:"6",class:"text-end"},Bt=(0,o.Lk)("i",{class:"bi bi-caret-right-fill text-light px-2"},null,-1);function Qt(t,e,i,s,a,r){return(0,o.uX)(),(0,o.CE)("table",mt,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[vt,(0,o.Lk)("th",bt,(0,m.v_)(t.$t("shoppingOptions.product")),1),(0,o.Lk)("th",ft,(0,m.v_)(t.$t("shoppingOptions.size")),1),(0,o.Lk)("th",yt,(0,m.v_)(t.$t("shoppingOptions.price")),1),(0,o.Lk)("th",Ct,(0,m.v_)(t.$t("shoppingOptions.qty")),1),(0,o.Lk)("th",$t,(0,m.v_)(t.$t("shoppingOptions.sub")),1)])]),(0,o.Lk)("tbody",Ot,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.cookieList,((e,i)=>((0,o.uX)(),(0,o.CE)("tr",{key:i},[(0,o.Lk)("td",null,(0,m.v_)(i+1),1),(0,o.Lk)("td",null,[(0,o.Lk)("div",_t,(0,m.v_)(t.$t(e.flavor)),1),"drink"===e.type||"coffee"===e.type?((0,o.uX)(),(0,o.CE)("p",xt,[(0,o.eW)((0,m.v_)(t.$t("shoppingOptions.drink.ice"))+":",1),(0,o.Lk)("span",Pt,(0,m.v_)(t.$t(a.iceList[e.ice].title)),1),(0,o.eW)(", "+(0,m.v_)(t.$t("shoppingOptions.drink.sugar"))+":",1),(0,o.Lk)("span",It,(0,m.v_)(t.$t(a.sugarList[e.sugar].title)),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("td",null,(0,m.v_)(e.size),1),(0,o.Lk)("td",null,"$"+(0,m.v_)(e.price),1),(0,o.Lk)("td",null,[(0,o.Lk)("nav",Ut,[(0,o.Lk)("ul",qt,[(0,o.Lk)("li",At,[(0,o.Lk)("a",{class:"page-link rounded-0",href:"#",onClick:(0,v.D$)((t=>r.changeQty(i,-1)),["prevent"])}," - ",8,Et)]),(0,o.Lk)("li",Xt,[(0,o.Lk)("div",zt,(0,m.v_)(e.qty),1)]),(0,o.Lk)("li",Ft,[(0,o.Lk)("a",{class:"page-link rounded-0",href:"#",onClick:(0,v.D$)((t=>r.changeQty(i,1)),["prevent"])},wt,8,St)])])])]),(0,o.Lk)("td",null,[(0,o.eW)(" $"),(0,o.Lk)("span",Kt,(0,m.v_)(e.price*e.qty),1)])])))),128)),(0,o.Lk)("tr",null,[(0,o.Lk)("td",Wt,[(0,o.Lk)("h4",Tt,[(0,o.eW)((0,m.v_)(t.$t("shoppingOptions.total"))+"： ",1),(0,o.Lk)("span",Nt,"$"+(0,m.v_)(t.$toCurrency(a.total)),1)])])]),(0,o.bo)((0,o.Lk)("tr",null,[(0,o.Lk)("td",Jt,[(0,o.Lk)("a",{href:"#",onClick:e[0]||(e[0]=(0,v.D$)(((...t)=>r.createOrder&&r.createOrder(...t)),["prevent"]))},[((0,o.uX)(),(0,o.Wv)((0,o.$y)("wired-button"),{class:"bg-dark text-light h4"},{default:(0,o.k6)((()=>[Bt,(0,o.eW)((0,m.v_)(t.$t("shoppingOptions.checkout")),1)])),_:1}))])])],512),[[v.aG,0!==a.cookieList.length]])])])}var Vt={data(){return{total:0,cookieList:[],iceList:tt,sugarList:Z}},props:["cookieData","productList"],watch:{cookieData(){this.cookieList=JSON.parse(JSON.stringify(this.cookieData)),this.totalPrice()}},methods:{changeQty(t,e){this.cookieList[t].qty+=e,0===this.cookieList[t].qty&&1===this.cookieList.length?(this.cookieList.splice(t,1),L.A.remove("LULUchartList"),this.total=0):0===this.cookieList[t].qty?(this.cookieList.splice(t,1),this.tempCookie="",this.cookieList.forEach((t=>{this.tempCookie+=`${JSON.stringify(t)};`})),L.A.set("LULUchartList",this.tempCookie,{expires:7})):(this.tempCookie="",this.cookieList.forEach((t=>{this.tempCookie+=`${JSON.stringify(t)};`})),L.A.set("LULUchartList",this.tempCookie,{expires:7})),this.$emitter.emit("getCookie")},totalPrice(){this.total=0,this.cookieList.forEach((t=>{this.total+=t.price*t.qty}))},createOrder(){(0,g.h$)(this.cookieList).then((t=>{if(void 0===L.A.get("luluBakeOrder"))L.A.set("luluBakeOrder",JSON.stringify({orderId:t.data.data._id,num:t.data.data.productList.length,cookieId:(new Date).getTime()}));else{let e=L.A.get("luluBakeOrder");e=`${e}; ${JSON.stringify({orderId:t.data.data._id,num:t.data.data.productList.length,cookieId:(new Date).getTime()})}`,L.A.set("luluBakeOrder",e)}L.A.remove("LULUchartList"),this.$router.replace("/order")})).catch((t=>{console.log(t)}))}}};const jt=(0,at.A)(Vt,[["render",Qt]]);var Gt=jt,Rt={data(){return{cartList:[],productList:[],tempCookie:""}},components:{Options:lt,Information:gt,Chartlist:Gt},methods:{forceRerender(){this.componentKey+=1},getProducts(){this.$emitter.emit("loadingStatus",!0),(0,g.dK)().then((t=>{this.productList=t.data.data})).catch((t=>{console.log(t)})),this.$emitter.emit("loadingStatus",!1)},addToCart(t){console.log(t);const e=this.cartList.findIndex((e=>e.optionId===t.optionId&&e.ice===t.ice&&e.sugar===t.sugar&&e.size===t.size));if(void 0===L.A.get("LULUchartList"))L.A.set("LULUchartList",JSON.stringify({productId:t.productId,optionId:t.optionId,ice:t.ice,sugar:t.sugar,qty:t.qty,flavor:t.flavor,size:t.size,price:t.price,type:t.type}),{expires:7});else if(e>-1)this.tempCookie="",this.cartList[e].qty+=t.qty,this.cartList.forEach((t=>{this.tempCookie+=`${JSON.stringify(t)};`})),this.tempCookie=this.tempCookie.replace(/.$/,""),L.A.set("LULUchartList",this.tempCookie,{expires:7});else{let e=L.A.get("LULUchartList");e=`${e}; ${JSON.stringify({productId:t.productId,optionId:t.optionId,ice:t.ice,sugar:t.sugar,qty:t.qty,flavor:t.flavor,size:t.size,price:t.price,type:t.type})}`,L.A.set("LULUchartList",e,{expires:7})}this.getCookie()},getCookie(){if(L.A.get("LULUchartList")){this.cartList=[];const t=L.A.get("LULUchartList").split(";");Object.values(t).forEach((t=>{this.cartList.push(JSON.parse(t))}))}}},mounted(){this.getProducts(),this.getCookie(),this.$emitter.on("getCookie",(()=>{this.getCookie()}))}};const Yt=(0,at.A)(Rt,[["render",h]]);var Ht=Yt},2582:function(t){t.exports=JSON.parse('[{"title":"shoppingOptions.drink.iceList.normal"},{"title":"shoppingOptions.drink.iceList.lessIce"},{"title":"shoppingOptions.drink.iceList.lightIce"},{"title":"shoppingOptions.drink.iceList.noIce"},{"title":"shoppingOptions.drink.iceList.warm"},{"title":"shoppingOptions.drink.iceList.hot"}]')},5579:function(t){t.exports=JSON.parse('[{"title":"shoppingOptions.drink.sugarList.standard"},{"title":"shoppingOptions.drink.sugarList.lessSugar"},{"title":"shoppingOptions.drink.sugarList.halfSugar"},{"title":"shoppingOptions.drink.sugarList.lightSugar"},{"title":"shoppingOptions.drink.sugarList.noSugar"}]')}}]);
//# sourceMappingURL=384.18d38fc2.js.map