"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[974],{9241:function(t,e,i){i.d(e,{Ef:function(){return p},HS:function(){return c},MF:function(){return u},MH:function(){return l},TV:function(){return s},TY:function(){return n},dx:function(){return d},mF:function(){return h},n4:function(){return m},pY:function(){return a}});var o=i(5121);const r="http://127.0.0.1:3000",a=t=>o.Z.post(`${r}/user/sign_up`,t),s=t=>o.Z.post(`${r}/user/sign_in`,t),n=()=>o.Z.get(`${r}/user/profile`),l=t=>o.Z.patch(`${r}/user/profile`,t),c=t=>o.Z.post(`${r}/user/updatePassword`,t),d=()=>o.Z.get(`${r}/products`),u=()=>o.Z.get(`${r}/carts`),p=t=>o.Z.post(`${r}/cart`,t),h=t=>o.Z.delete(`${r}/cart`,t),m=t=>o.Z.patch(`${r}/cart`,t)},1200:function(t,e,i){i.d(e,{Z:function(){return p}});var o=i(6252),r=i(3577);const a=t=>((0,o.dD)("data-v-580516b6"),t=t(),(0,o.Cn)(),t),s=a((()=>(0,o._)("path",{class:"hover-path",fill:"none",stroke:"#333","stroke-miterlimit":"10","stroke-width":"4px",d:"M51.36,8.75q-9.14-.64-18.3-.85-4.92-.16-9.85,0c-3.22.23-6.62.7-9.39,2.49A21.08,21.08,0,0,0,8,16.62,17.68,17.68,0,0,0,5.8,21.85c-.68,2.42-1.13,4.43-.48,6.94,1,3.79,3.48,7,6,9.91a60.49,60.49,0,0,0,15,12.44C33.6,55.43,41.8,57.88,49.91,60a144.68,144.68,0,0,0,27.72,4.25c10.65.62,21.78.65,32.27-1.6a48.14,48.14,0,0,0,10.86-3.49,16.81,16.81,0,0,0,6-4.33,11,11,0,0,0,1.91-9.37c-1.11-5.29-4.53-9.43-8.55-12.91a71.43,71.43,0,0,0-17.8-10.19Q89.91,17.05,77.08,13C66.09,9.53,54.58,6,43,5.14a32.64,32.64,0,0,0-8.67.34"},null,-1))),n=[s];function l(t,e,i,a,s,l){return(0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -4 140.93 80.58",class:(0,r.C_)(["hex position-absolute top-50 start-50 translate-middle",s.setting])},n,2)}var c={data(){return{setting:"circle-1"}}},d=i(3744);const u=(0,d.Z)(c,[["render",l],["__scopeId","data-v-580516b6"]]);var p=u},4960:function(t,e,i){i.d(e,{Z:function(){return p}});var o=i(6252),r=i(3577);const a=t=>((0,o.dD)("data-v-9f4a6104"),t=t(),(0,o.Cn)(),t),s=a((()=>(0,o._)("path",{fill:"none",stroke:"#333","stroke-miterlimit":"10","stroke-width":"10px",class:"hover-path",d:"M180.35,13.55c34.13-1.2,68.69-2.81,102.4,4.3,16.68,3.52,34,8,42.07,24.47,6.87,14.12.21,30.15-13.29,37-14.74,7.47-31.66,8.88-47.81,10.7-37.22,4.19-74.64,6.71-112.06,8.23-26.8,1.09-53.5,1-80.27-.54q-13.88-.54-27.64-2.36a52.37,52.37,0,0,1-16.92-3.74,26.59,26.59,0,0,1-13.5-18.42c-1.42-6.8-1.45-11.7,3.62-16.94,10.74-11.1,28.44-15.61,42.88-20.07a334.43,334.43,0,0,1,58.34-10q39.16-5.09,78.66-6.47c49.34-2.31,98.76-1.35,148.06,1.27,19.22,1,38.35,2.18,57.45,4.55"},null,-1))),n=[s];function l(t,e,i,a,s,l){return(0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 380.84 111.47",class:(0,r.C_)(["hex1 position-absolute top-50 start-50 translate-middle",s.setting])},n,2)}var c={data(){return{setting:"circle-3"}}},d=i(3744);const u=(0,d.Z)(c,[["render",l],["__scopeId","data-v-9f4a6104"]]);var p=u},1230:function(t,e,i){i.d(e,{Z:function(){return p}});var o=i(6252),r=i(3577);const a=t=>((0,o.dD)("data-v-7bcbdb97"),t=t(),(0,o.Cn)(),t),s=a((()=>(0,o._)("path",{fill:"none",stroke:"#333","stroke-miterlimit":"10","stroke-width":"10px",class:"hover-path",d:"M104.1,58.5c-25.8,0.1-54.1,3.7-75,20.2c-6.4,5-11.8,11-13.7,19.1c-2.3,9.3,5.9,20.1,13,24.8\nc14.3,9.3,31.5,10.9,48,12.5c36.1,3.7,72.4,3,108.6,1.3c25-1.1,49.9-3.6,74.7-7.4c21.3-2.2,42.4-6.3,63-12.2\nc9.3-3.2,18.6-6.4,27.9-9.6c11-2.4,19.7-8,26.2-16.8c-4.6-10.3-12.3-17.4-23.1-21.2c-17.4-11.4-36.1-20.4-55.9-27\nc-33.5-12.8-71.9-23.1-108-25.8c-17.8-1.3-37.2-2.9-54.7,1.4c-5.4,1.3-11.6,2.5-14.6,7.7"},null,-1))),n=[s];function l(t,e,i,a,s,l){return(0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 394.1 152.8",class:(0,r.C_)(["hex1 position-absolute top-50 start-50 translate-middle",s.setting])},n,2)}var c={data(){return{setting:"circle-2"}}},d=i(3744);const u=(0,d.Z)(c,[["render",l],["__scopeId","data-v-7bcbdb97"]]);var p=u},6974:function(t,e,i){i.r(e),i.d(e,{default:function(){return Et}});var o=i(6252);const r={class:"card-group row w-tab"},a={class:"card col-sm-6 p-0"},s={class:"card col-sm-6"},n={class:"card-group row"},l={class:"card px-0 border-2"};function c(t,e,i,c,d,u){const p=(0,o.up)("ProductInformation"),h=(0,o.up)("ShopProcess"),m=(0,o.up)("CartList");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("section",r,[(0,o._)("div",a,[(0,o.Wm)(p)]),(0,o._)("div",s,[(0,o.Wm)(h,{products:d.productList,onAddCart:u.addCart},null,8,["products","onAddCart"])])]),(0,o._)("section",n,[(0,o._)("div",l,[(0,o.Wm)(m,{carts:d.cartList,onAddCart:u.addCart,onDeleteCart:u.deleteCart},null,8,["carts","onAddCart","onDeleteCart"])])])],64)}var d=i(3577);const u={class:"card-body p-0"},p={class:"border-bottom border-dark border-3 p-3"},h={class:"ps-4 pb-4"},m=(0,o.uE)('<nav aria-label="Page navigation example" style="margin-top:-2px;margin-right:-2px;"><ul class="pagination justify-content-end"><li class="page-item disabled"><a class="page-link border-2 border-dark rounded-0"><i class="bi bi-caret-left-fill"></i></a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">1</a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">2</a></li><li class="page-item"><a class="page-link border-2 border-dark" href="#">3</a></li><li class="page-item"><a class="page-link border-2 border-dark rounded-0" href="#"><i class="bi bi-caret-right-fill"></i></a></li></ul></nav>',1),f=["src"];function _(t,e,i,r,a,s){return(0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("div",p,[(0,o._)("div",null,[(0,o._)("h3",null,(0,d.zw)(a.product.title),1),(0,o._)("p",null,(0,d.zw)(a.product.comments),1),(0,o._)("p",null," 成分："+(0,d.zw)(a.product.ingredient),1)])]),(0,o._)("div",h,[m,(0,o._)("img",{src:this.product.image,alt:""},null,8,f)])])}var g={data(){return{product:{}}},mounted(){this.$emitter.on("infoData",(t=>{this.product=t}))}},b=i(3744);const v=(0,b.Z)(g,[["render",_]]);var w=v,k=i(9963);const C=t=>((0,o.dD)("data-v-231a0e92"),t=t(),(0,o.Cn)(),t),y={class:"card-body"},$={class:"mb-4"},x={class:"mb-4"},z=C((()=>(0,o._)("h5",null,"TYPE：",-1))),D=["id","value"],O=["for"],L={class:"mb-4"},q=C((()=>(0,o._)("h5",null,"FLAVOR：",-1))),S=["id","value","onClick"],Z=["for"],H={class:"mb-4"},E=C((()=>(0,o._)("h5",null,"SIZE：",-1))),P=["id","value","onClick"],Y=["for"],U={class:"mb-4"},I=C((()=>(0,o._)("h5",null,"PRICE：",-1))),T={class:"ms-3"},M={class:"text-secondary"},B={class:"mb-4"},F=C((()=>(0,o._)("h5",{class:"text-uppercase"},"quantity：",-1))),A={"aria-label":"...",class:"me-4"},K={class:"pagination"},W={class:"page-item"},V={class:"page-item"},R={class:"page-link"},G={class:"page-item"},Q=C((()=>(0,o._)("i",{class:"bi bi-plus-lg"},null,-1))),j=[Q],J={class:""},N=C((()=>(0,o._)("h5",{class:"text-uppercase"},"total：",-1))),X={class:"fst-italic ms-3 h4 text-secondary luluText"},tt=C((()=>(0,o._)("i",{class:"bi bi-caret-right-fill"},null,-1)));function et(t,e,i,r,a,s){const n=(0,o.up)("CircleTwo"),l=(0,o.up)("CircleOne"),c=(0,o.up)("CircleThree");return(0,o.wg)(),(0,o.iD)("div",y,[(0,o._)("section",$,[(0,o._)("div",x,[z,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.types,((t,i)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:i},[(0,o.wy)((0,o._)("input",{type:"radio",class:"btn-check",name:"options-type",id:`type${i}`,autocomplete:"off",value:t,"onUpdate:modelValue":e[0]||(e[0]=t=>a.orderOption.type=t)},null,8,D),[[k.G2,a.orderOption.type]]),(0,o._)("label",{class:"btn border-0 position-relative me-4",for:`type${i}`},[(0,o.Uk)((0,d.zw)(t)+" ",1),(0,o.Wm)(n,{class:(0,d.C_)({"d-none":a.orderOption.type!==t})},null,8,["class"])],8,O)],64)))),128))]),(0,o._)("div",L,[q,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.productList,((t,i)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:i},[(0,o.wy)((0,o._)("input",{type:"radio",class:"btn-check",name:"options-flavor",id:`flavor${i}`,autocomplete:"off",value:t.title,"onUpdate:modelValue":e[1]||(e[1]=t=>a.orderOption.flavor=t),onClick:e=>a.tempProduct=t},null,8,S),[[k.G2,a.orderOption.flavor]]),t.category===a.orderOption.type?((0,o.wg)(),(0,o.iD)("label",{key:0,class:"btn border-0 position-relative",for:`flavor${i}`},[(0,o.Uk)((0,d.zw)(t.title)+" ",1),(0,o.Wm)(l,{class:(0,d.C_)({"d-none":t.title!==a.orderOption.flavor})},null,8,["class"])],8,Z)):(0,o.kq)("",!0)],64)))),128))]),(0,o._)("div",H,[E,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.productList,((t,i)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:i},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.options,((i,r)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:r},[t.title===a.orderOption.flavor?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,type:"radio",class:"btn-check me-md-4",name:"options-size",id:`size${r}`,autocomplete:"off",value:i._id,"onUpdate:modelValue":e[2]||(e[2]=t=>a.orderOption.size=t),onClick:t=>{a.orderOption.price=i.price,a.orderOption.quantity=1}},null,8,P)),[[k.G2,a.orderOption.size]]):(0,o.kq)("",!0),t.title===a.orderOption.flavor?((0,o.wg)(),(0,o.iD)("label",{key:1,class:"btn border-0 position-relative me-3",for:`size${r}`},[(0,o.Uk)((0,d.zw)(i.size)+" ",1),(0,o.Wm)(c,{class:(0,d.C_)({"d-none":i._id!==a.orderOption.size})},null,8,["class"])],8,Y)):(0,o.kq)("",!0)],64)))),128))],64)))),128))]),(0,o._)("div",U,[I,(0,o._)("p",T,[(0,o.Uk)(" $ "),(0,o._)("span",M,(0,d.zw)(a.orderOption.price),1),(0,o.Uk)(" / EACH ")])]),(0,o._)("div",B,[F,(0,o._)("nav",A,[(0,o._)("ul",K,[(0,o._)("li",W,[(0,o._)("a",{class:(0,d.C_)(["page-link rounded-0",{disabled:a.orderOption.quantity<=1}]),href:"#",onClick:e[3]||(e[3]=(0,k.iM)((t=>a.orderOption.quantity--),["prevent"]))},"-",2)]),(0,o._)("li",V,[(0,o._)("div",R,(0,d.zw)(a.orderOption.quantity),1)]),(0,o._)("li",G,[(0,o._)("a",{class:(0,d.C_)(["page-link rounded-0",{disabled:a.orderOption.quantity>=10}]),href:"#",onClick:e[4]||(e[4]=(0,k.iM)((t=>a.orderOption.quantity++),["prevent"]))},j,2)])])])]),(0,o._)("div",J,[N,(0,o._)("div",X," $"+(0,d.zw)(this.$toCurrency(a.orderOption.price*a.orderOption.quantity)),1)])]),(0,o._)("button",{class:"btn btn-outline-primary rounded-0 mb-3",onClick:e[5]||(e[5]=e=>t.$emit("addCart",{productId:a.tempProduct._id,option:a.orderOption}))},[tt,(0,o.Uk)("Add to Chart ")])])}i(560);var it=i(1200),ot=i(1230),rt=i(4960),at={data(){return{tempProduct:{},productList:[],flavorList:[],types:["pie","cake","cookie"],orderOption:{type:"pie",flavor:"",size:"",price:0,quantity:1}}},props:["products"],components:{CircleOne:it.Z,CircleTwo:ot.Z,CircleThree:rt.Z},watch:{products(){this.productList=this.products,this.selectFlavor()},"orderOption.type"(){this.selectFlavor()},"orderOption.flavor"(){this.selectSize()},tempProduct(){this.$emitter.emit("infoData",this.tempProduct)}},methods:{selectFlavor(){this.flavorList=[],this.productList.forEach((t=>{this.orderOption.type===t.category&&this.flavorList.push(t)})),this.orderOption.flavor=this.flavorList[0].title,this.tempProduct=this.flavorList[0]},selectSize(){this.flavorList.forEach((t=>{t.title===this.orderOption.flavor&&(this.sizeList=t.options)})),this.orderOption.size=this.sizeList[0]._id,this.orderOption.price=this.sizeList[0].price}}};const st=(0,b.Z)(at,[["render",et],["__scopeId","data-v-231a0e92"]]);var nt=st;const lt=t=>((0,o.dD)("data-v-7b3dfb2c"),t=t(),(0,o.Cn)(),t),ct={class:"card-body p-0"},dt={class:"table tableText tableSm table-bordered border-primary m-0"},ut=lt((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"#"),(0,o._)("th",{scope:"col"},"PRODUCT"),(0,o._)("th",{scope:"col"},"SIZE"),(0,o._)("th",{scope:"col"},"PRICE"),(0,o._)("th",{scope:"col"},"Qty"),(0,o._)("th",{scope:"col"},"SUB")])],-1))),pt={class:"table-group-divider luluText"},ht={class:"d-flex align-items-center text-sm-nowrap"},mt={class:"text-center"},ft=["onClick"],_t=["onClick"],gt={key:0},bt=lt((()=>(0,o._)("td",{colspan:"2"},null,-1))),vt={class:"text-center"},wt=["onClick"],kt=["onClick"],Ct=lt((()=>(0,o._)("td",{colspan:"2"},[(0,o._)("div",{class:"d-flex align-items-center dashBottom"},[(0,o._)("i",{class:"bi bi-dot h3 text-danger mb-0"}),(0,o._)("h6",null,"pie")]),(0,o._)("div",{class:"d-flex align-items-center dashBottom"},[(0,o._)("i",{class:"bi bi-dot h3 text-info mb-0"}),(0,o._)("h6",null,"cake")]),(0,o._)("div",{class:"d-flex align-items-center"},[(0,o._)("i",{class:"bi bi-dot h3 text-secondary mb-0"}),(0,o._)("h6",null,"cookie")])],-1))),yt={colspan:"3",class:"align-middle"},$t=(0,o.uE)('<select class="form-select" aria-label="Default select example" data-v-7b3dfb2c><option selected data-v-7b3dfb2c>選擇折扣卷</option><option value="1" data-v-7b3dfb2c>Line Friend -100</option><option value="2" data-v-7b3dfb2c>BBB -50</option><option value="3" data-v-7b3dfb2c>LULU So CUTE</option></select>',1),xt={colspan:"1",class:"text-sm-end text-center align-middle"},zt=lt((()=>(0,o._)("i",{class:"bi bi-caret-right-fill"},null,-1)));function Dt(t,e,i,r,a,s){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("section",ct,[(0,o._)("table",dt,[ut,(0,o._)("tbody",pt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.cartList.carts,((e,i)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:i},[(0,o._)("tr",null,[(0,o._)("td",null,(0,d.zw)(i+1),1),(0,o._)("td",null,[(0,o._)("div",ht,[(0,o._)("i",{class:(0,d.C_)(["bi bi-circle-fill me-1",{"text-danger":"pie"===e.product.category,"text-info":"cake"===e.product.category,"text-secondary":"cookie"===e.product.category}]),style:{"font-size":"8px"}},null,2),(0,o.Uk)((0,d.zw)(e.product.title),1)])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.option,((i,r)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:r},[0===r?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("td",null,(0,d.zw)(i.info.size),1),(0,o._)("td",null,"$"+(0,d.zw)(i.info.price),1),(0,o._)("td",mt,[(0,o._)("a",{href:"#",class:"me-1 text-decoration-none",onClick:(0,k.iM)((t=>s.cartStatus({num:i.quantity,productId:e.product._id,option:{size:i.size,quantity:-1}})),["prevent"])},"-",8,ft),(0,o._)("span",null,(0,d.zw)(i.quantity),1),(0,o._)("a",{href:"#",class:(0,d.C_)(["ms-1 text-decoration-none",{"d-none":i.quantity>=10}]),onClick:(0,k.iM)((o=>t.$emit("addCart",{productId:e.product._id,option:{size:i.size,quantity:1}})),["prevent"])},"+",10,_t)]),(0,o._)("td",null,"$"+(0,d.zw)(this.$toCurrency(i.quantity*i.info.price)),1)],64)):(0,o.kq)("",!0)],64)))),128))]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.option,((i,r)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:r},[1!==e.option.length&&0!==r?((0,o.wg)(),(0,o.iD)("tr",gt,[bt,(0,o._)("td",null,(0,d.zw)(i.info.size),1),(0,o._)("td",null,"$"+(0,d.zw)(i.info.price),1),(0,o._)("td",vt,[(0,o._)("a",{href:"#",class:"me-1 text-decoration-none",onClick:(0,k.iM)((t=>s.cartStatus({num:i.quantity,productId:e.product._id,option:{size:i.size,quantity:-1}})),["prevent"])},"-",8,wt),(0,o._)("span",null,(0,d.zw)(i.quantity),1),(0,o._)("a",{href:"#",class:(0,d.C_)(["ms-1 text-decoration-none",{"d-none":i.quantity>=10}]),onClick:(0,k.iM)((o=>t.$emit("addCart",{productId:e.product._id,option:{size:i.size,quantity:1}})),["prevent"])},"+",10,kt)]),(0,o._)("td",null,"$"+(0,d.zw)(this.$toCurrency(i.quantity*i.info.price)),1)])):(0,o.kq)("",!0)],64)))),128))],64)))),128)),(0,o._)("tr",null,[Ct,(0,o._)("td",yt,[$t,(0,o.Uk)(" total: $"+(0,d.zw)(this.$toCurrency(a.total)),1)]),(0,o._)("td",xt,[(0,o.Wm)(n,{to:"/shop/checkout",class:"border border-2 border-primary p-2"},{default:(0,o.w5)((()=>[zt,(0,o.Uk)("CHECKOUT")])),_:1})])])])])])}var Ot={data(){return{cartList:[],total:0,finalTotal:0}},props:["carts"],watch:{carts(){this.cartList=this.carts,this.populateCarts(this.cartList.carts)}},methods:{cartStatus(t){1===t.num?this.$emit("deleteCart",t):this.$emit("addCart",t)},populateCarts(t){t.forEach((t=>{t.option.forEach((e=>{t.product.options.forEach((t=>{t._id===e.size&&(e.info=t)}))}))})),this.total=0,this.cartList.carts.forEach((t=>{t.option.forEach((t=>{this.total+=t.info.price*t.quantity}))}))}}};const Lt=(0,b.Z)(Ot,[["render",Dt],["__scopeId","data-v-7b3dfb2c"]]);var qt=Lt,St=i(9241),Zt={data(){return{productList:[],cartList:[]}},components:{ShopProcess:nt,ProductInformation:w,CartList:qt},methods:{getProducts(){this.$emitter.emit("loadingStatus",!0),(0,St.dx)().then((t=>{this.productList=t.data.data,this.$emitter.emit("loadingStatus",!1)})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))},addCart(t){this.$emitter.emit("loadingStatus",!0),(0,St.Ef)(t).then((()=>{this.$emitter.emit("loadingStatus",!1),this.getCarts()})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))},getCarts(){this.$emitter.emit("loadingStatus",!0),(0,St.MF)().then((t=>{this.cartList=t.data.data,this.$emitter.emit("loadingStatus",!1)})).catch((t=>{console.log(t),this.$emitter.emit("loadingStatus",!1)}))},deleteCart(t){this.$emitter.emit("loadingStatus",!0),(0,St.mF)({data:t}).then((()=>{this.$emitter.emit("loadingStatus",!1),this.$emitter.emit("messageModal",{status:!0,message:"Delete Product Option"}),this.getCarts()})).catch((()=>{this.$emitter.emit("loadingStatus",!1)}))}},mounted(){this.getProducts(),this.getCarts()}};const Ht=(0,b.Z)(Zt,[["render",c]]);var Et=Ht}}]);
//# sourceMappingURL=974.0d1cf1ba.js.map