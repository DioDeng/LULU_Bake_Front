{"version":3,"file":"js/550.887626cd.js","mappings":"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","sources":["webpack://web/./src/assets/javascript/api.js","webpack://web/./src/components/models/AddressModal.vue","webpack://web/./src/components/models/AddressModal.vue?56a4","webpack://web/./src/components/user/ProfileModel.vue","webpack://web/./src/components/user/ProfileModel.vue?6b16"],"sourcesContent":["import axios from 'axios';\n\nconst api = process.env.VUE_APP_API;\n\n// users\nexport const apiUserSignUp = (data) => axios.post(`${api}/user/sign_up`, data);\nexport const apiUserSignIn = (data) => axios.post(`${api}/user/sign_in`, data);\nexport const apiGetProfile = () => axios.get(`${api}/user/profile`);\nexport const apiUpdateProfile = (data) => axios.patch(`${api}/user/profile`, data);\nexport const apiUpdatePassword = (data) => axios.post(`${api}/user/updatePassword`, data);\n\n// products\nexport const apiGetProducts = () => axios.get(`${api}/products`);\n\n// carts\nexport const apiGetCarts = () => axios.get(`${api}/carts`);\nexport const apiPostCart = (data) => axios.post(`${api}/cart`, data);\nexport const apiDeleteCart = (data) => axios.delete(`${api}/cart`, data);\nexport const apiPatchCart = (data) => axios.patch(`${api}/cart`, data);\n","<template>\n  <div class=\"\">Shipping address, please do not fill in email address</div>\n  <div class=\"d-flex mb-2\">\n    <VField name=\"city\" as=\"select\" class=\"form-select\" v-model=\"address.city\">\n      <template v-for=\"(item, index) in districts\" :key=\"index\">\n        <option :value=\"item.name\">{{ item.name }}</option>\n      </template>\n    </VField>\n    <VField name=\"town\" as=\"select\" class=\"form-select ms-2\" v-model=\"address.town\">\n      <template v-for=\"(item, index) in townList\" :key=\"index\">\n        <option :value=\"item.name\">{{ item.name }}</option>\n      </template>\n    </VField>\n    <VField\n      name=\"zip\"\n      type=\"text\"\n      disabled\n      class=\"ms-2 col-md-1 col-2 text-center\"\n      v-model=\"address.zip\"\n    />\n  </div>\n  <VField\n    name=\"street\"\n    type=\"text\"\n    rules=\"required\"\n    class=\"form-control\"\n    v-model=\"address.street\"\n  />\n  <ErrorMessage name=\"street\" class=\"text-danger ms-3\" />\n</template>\n\n<script>\nimport TWdistricts from '@/assets/taiwan_districts.json';\n\nexport default {\n  inheritAttrs: false, // 移除不必要警告\n  data() {\n    return {\n      address: {},\n      districts: TWdistricts,\n      townList: [],\n    };\n  },\n  props: ['addressData'],\n  watch: {\n    addressData() {\n      this.address = this.addressData;\n    },\n    // eslint-disable-next-line object-shorthand\n    'address.city'() {\n      this.districts.forEach((item) => {\n        if (this.address.city === item.name) {\n          this.townList = item.districts;\n        }\n      });\n      const isExit = this.townList.findIndex((item) => item.name === this.address.town);\n      if (isExit === -1) {\n        this.address.town = this.townList[0].name;\n      }\n    },\n    // eslint-disable-next-line object-shorthand\n    'address.town'() {\n      this.townList.forEach((item) => {\n        if (this.address.town === item.name) {\n          this.address.zip = item.zip;\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./AddressModal.vue?vue&type=template&id=3fbca3a0\"\nimport script from \"./AddressModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddressModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <VForm v-slot=\"{ meta }\" @submit=\"updateProfile\">\n    <table class=\"table align-middle table-light table-striped-columns\">\n      <tbody>\n        <!-- id -->\n        <tr>\n          <th scope=\"row\" class=\"\">會員帳號<br />ID</th>\n          <td>\n            {{ profile.email }}\n          </td>\n        </tr>\n        <!-- birth -->\n        <tr>\n          <th scope=\"row\">生日<br />Birth</th>\n          <td>{{ profile.birth }}</td>\n        </tr>\n        <!-- phone -->\n        <tr>\n          <th scope=\"row\">行動電話<br />Mobile</th>\n          <td>\n            {{ profile.phone }}\n          </td>\n        </tr>\n        <!-- name -->\n        <tr>\n          <th scope=\"row\">姓名<br />Name</th>\n          <td>\n            <VField name=\"name\" type=\"text\" rules=\"required\" v-model=\"profile.name\" />\n            <ErrorMessage name=\"name\" class=\"text-danger ms-3\" />\n          </td>\n        </tr>\n        <!-- address -->\n        <tr>\n          <th scope=\"row\">收件地址<br />Location</th>\n          <td>\n            <Address :addressData=\"profile.address\" />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"text-center\">\n      <button\n        type=\"submit\"\n        :class=\"{ 'btn-info': !meta.valid }\"\n        :disabled=\"!meta.valid\"\n        class=\"btn btn-primary rounded-0\"\n      >\n        Update\n      </button>\n    </div>\n  </VForm>\n</template>\n\n<script>\nimport { apiGetProfile, apiUpdateProfile } from '@/assets/javascript/api';\nimport Address from '@/components/models/AddressModal.vue';\n\nexport default {\n  data() {\n    return {\n      profile: {},\n    };\n  },\n  components: {\n    Address,\n  },\n  methods: {\n    getProfile() {\n      this.$emitter.emit('loadingStatus', true);\n      apiGetProfile()\n        .then((res) => {\n          this.profile = res.data.data;\n          this.$emitter.emit('loadingStatus', false);\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$emitter.emit('loadingStatus', false);\n        });\n    },\n    updateProfile(e) {\n      this.$emitter.emit('loadingStatus', true);\n      apiUpdateProfile(e)\n        .then((res) => {\n          this.$emitter.emit('loadingStatus', false);\n          if (res.data.status) {\n            this.$emitter.emit('messageModal', { status: true, message: 'Successfully modified' });\n            this.getProfile();\n          }\n        })\n        .catch((err) => {\n          this.$emitter.emit('messageModal', { status: false, message: err.response.data.message });\n          this.$emitter.emit('loadingStatus', false);\n        });\n    },\n  },\n  mounted() {\n    this.getProfile();\n  },\n};\n</script>\n","import { render } from \"./ProfileModel.vue?vue&type=template&id=2095190d\"\nimport script from \"./ProfileModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["api","process","apiUserSignUp","data","axios","post","apiUserSignIn","apiGetProfile","get","apiUpdateProfile","patch","apiUpdatePassword","apiGetProducts","apiGetCarts","apiPostCart","apiDeleteCart","delete","apiPatchCart","_createElementVNode","class","_hoisted_1","_hoisted_2","_createVNode","_component_VField","name","as","$data","address","city","$event","_createElementBlock","_Fragment","_renderList","districts","item","index","value","_hoisted_3","town","townList","_hoisted_4","type","disabled","zip","rules","street","_component_ErrorMessage","inheritAttrs","TWdistricts","props","watch","addressData","this","forEach","isExit","findIndex","__exports__","render","scope","_createBlock","_component_VForm","onSubmit","$options","updateProfile","meta","_toDisplayString","profile","email","birth","phone","_hoisted_5","_hoisted_6","_component_Address","_hoisted_7","_normalizeClass","valid","_hoisted_8","components","Address","methods","getProfile","$emitter","emit","then","res","catch","error","console","log","e","status","message","err","response","mounted"],"sourceRoot":""}