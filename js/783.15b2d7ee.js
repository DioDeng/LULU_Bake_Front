"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[783],{1783:function(e,t,i){i.r(t),i.d(t,{default:function(){return B}});var r=i(641),s=i(33),a=i(3751);const o={class:"card border-0 h-100"},n={class:"card-body d-flex flex-column"},c={class:"card-title mb-2 text-body-secondary d-flex justify-content-between"},l={key:0,class:"fst-italic text-secondary"},d={key:1,class:"fst-italic text-secondary"},p={key:2,class:"fst-italic text-secondary"},u=["disabled"],h={class:"fst-italic text-secondary"},k={class:"progress mb-3",role:"progressbar","aria-label":"Animated striped example","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"},m={class:"card-text mb-3"},f={clas:"w-100"},v={key:0,class:"mb-0 text-dark-emphasis"},g={class:"fst-italic text-secondary"},L={class:"fst-italic text-secondary"},b={class:"fst-italic text-secondary"},y={class:"d-flex justify-content-between"},C={class:"fw-bold"},w={class:"fw-bold"},O={class:"card-footer"},x={key:0},$={key:1},_={key:2};function D(e,t,i,D,S,E){return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",n,[(0,r.Lk)("h5",c,[(0,r.Lk)("div",null,[(0,r.eW)((0,s.v_)(e.$t("orderView.orderStatus"))+"：",1),25===S.tempData.mealStatus?((0,r.uX)(),(0,r.CE)("span",l,(0,s.v_)(e.$t("orderView.payment")),1)):50===S.tempData.mealStatus?((0,r.uX)(),(0,r.CE)("span",d,(0,s.v_)(e.$t("orderView.diningOut")),1)):((0,r.uX)(),(0,r.CE)("span",p,(0,s.v_)(e.$t("orderView.finish")),1))]),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(0,a.D$)((e=>E.cancleOrder(S.tempData._id)),["prevent"])),class:(0,s.C4)(["card-link h6 text-decoration-underline border-0 bg-body",{"text-decoration-line-through":25!==S.tempData.mealStatus}]),disabled:25!==S.tempData.mealStatus},(0,s.v_)(e.$t("orderView.cancleOrder")),11,u)]),(0,r.Lk)("h6",null,[(0,r.eW)((0,s.v_)(e.$t("shoppingOptions.paymethod"))+"：",1),(0,r.Lk)("span",h,(0,s.v_)(e.$t(S.payMethod)),1)]),(0,r.Lk)("div",k,[(0,r.Lk)("div",{class:"progress-bar progress-bar-striped progress-bar-animated",style:(0,s.Tr)(`width: ${S.tempData.mealStatus}%`)},null,4)]),(0,r.Lk)("div",m,[(0,r.Lk)("ol",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(S.tempData.productList,((t,i)=>((0,r.uX)(),(0,r.CE)("li",{key:i,class:"border-bottom mb-3"},[(0,r.Lk)("div",f,[(0,r.Lk)("h5",{class:(0,s.C4)(["mb-0 d-flex justify-content-between align-items-center w-100",{"text-decoration-line-through":100===S.tempData.mealStatus}])},[(0,r.Lk)("div",null,(0,s.v_)(e.$t(t.flavor))+" - $"+(0,s.v_)(t.price)+" X "+(0,s.v_)(t.qty),1),(0,r.Lk)("div",null,"$"+(0,s.v_)(t.price*t.qty),1)],2),"drink"===t.type||"coffee"===t.type?((0,r.uX)(),(0,r.CE)("p",v,[(0,r.eW)((0,s.v_)(e.$t("orderView.size"))+":",1),(0,r.Lk)("span",g,(0,s.v_)(t.size),1),(0,r.eW)(", "+(0,s.v_)(e.$t("orderView.ice"))+":",1),(0,r.Lk)("span",L,(0,s.v_)(e.$t(S.iceList[t.ice].title)),1),(0,r.eW)(", "+(0,s.v_)(e.$t("orderView.sugar"))+":",1),(0,r.Lk)("span",b,(0,s.v_)(e.$t(S.sugarList[t.sugar].title)),1)])):(0,r.Q3)("",!0)])])))),128))]),(0,r.Lk)("div",y,[(0,r.Lk)("h4",C,(0,s.v_)(e.$t("orderView.total"))+"：",1),(0,r.Lk)("h4",w,"$"+(0,s.v_)(e.$toCurrency(S.total)),1)])]),(0,r.Lk)("div",O,[25===S.tempData.mealStatus?((0,r.uX)(),(0,r.CE)("p",x,(0,s.v_)(e.$t("orderView.orderMessage.notPaidYet")),1)):50===S.tempData.mealStatus?((0,r.uX)(),(0,r.CE)("p",$,(0,s.v_)(e.$t("orderView.orderMessage.eatingOut")),1)):100===S.tempData.mealStatus?((0,r.uX)(),(0,r.CE)("p",_,(0,s.v_)(e.$t("orderView.orderMessage.finishedEating")),1)):(0,r.Q3)("",!0)])])])}i(4114);var S=i(8987),E=i(2582),I=i(5579),V=i(433),X={data(){return{payMethod:"shoppingOptions.paymethods.cash",cookieList:[],tempData:{},iceList:E,sugarList:I,tempCookie:"",total:0}},methods:{cancleOrder(e){25===this.tempData.mealStatus&&(0,V.Er)(e).then((()=>{const t=this.cookieList.findIndex((t=>t.orderId===e));this.cookieList.splice(t,1),0===this.cookieList.length?S.A.remove("luluBakeOrder"):(this.tempCookie="",this.cookieList.forEach((e=>{this.tempCookie+=`${JSON.stringify(e)};`})),this.tempCookie=this.tempCookie.replace(/.$/,""),S.A.set("luluBakeOrder",this.tempCookie)),this.$emitter.emit("getCookieOrder")})).catch((e=>{console.log(e)}))},totalPrice(){this.total=0,this.tempData.productList.forEach((e=>{this.total+=e.price*e.qty}))}},mounted(){if(this.$emitter.on("getOrderData",(e=>{this.tempData=e,this.payMethod=e.payMethod,this.totalPrice()})),S.A.get("luluBakeOrder")){const e=S.A.get("luluBakeOrder").split(";");Object.values(e).forEach((e=>{this.cookieList.push(JSON.parse(e))})),this.cookieList.reverse()}}},A=i(6262);const j=(0,A.A)(X,[["render",D]]);var B=j},8987:function(e,t,i){
/*! js-cookie v3.0.5 | MIT */
function r(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)e[r]=i[r]}return e}i.d(t,{A:function(){return o}});var s={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function a(e,t){function i(i,s,a){if("undefined"!==typeof document){a=r({},t,a),"number"===typeof a.expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var n in a)a[n]&&(o+="; "+n,!0!==a[n]&&(o+="="+a[n].split(";")[0]));return document.cookie=i+"="+e.write(s,i)+o}}function s(t){if("undefined"!==typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],r={},s=0;s<i.length;s++){var a=i[s].split("="),o=a.slice(1).join("=");try{var n=decodeURIComponent(a[0]);if(r[n]=e.read(o,n),t===n)break}catch(c){}}return t?r[t]:r}}return Object.create({set:i,get:s,remove:function(e,t){i(e,"",r({},t,{expires:-1}))},withAttributes:function(e){return a(this.converter,r({},this.attributes,e))},withConverter:function(e){return a(r({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var o=a(s,{path:"/"})},2582:function(e){e.exports=JSON.parse('[{"title":"shoppingOptions.drink.iceList.normal"},{"title":"shoppingOptions.drink.iceList.lessIce"},{"title":"shoppingOptions.drink.iceList.lightIce"},{"title":"shoppingOptions.drink.iceList.noIce"},{"title":"shoppingOptions.drink.iceList.warm"},{"title":"shoppingOptions.drink.iceList.hot"}]')},5579:function(e){e.exports=JSON.parse('[{"title":"shoppingOptions.drink.sugarList.standard"},{"title":"shoppingOptions.drink.sugarList.lessSugar"},{"title":"shoppingOptions.drink.sugarList.halfSugar"},{"title":"shoppingOptions.drink.sugarList.lightSugar"},{"title":"shoppingOptions.drink.sugarList.noSugar"}]')}}]);
//# sourceMappingURL=783.15b2d7ee.js.map